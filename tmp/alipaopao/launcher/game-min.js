var egret;
(function (e) {
    e.egret_string_code = {};
    e.egret_string_code[-1] = "\u4e0d\u5b58\u5728\u7684stringId:{0}";
    e.egret_string_code[1E3] = "Browser.isMobile\u63a5\u53e3\u53c2\u6570\u5df2\u7ecf\u53d8\u66f4\uff0c\u8bf7\u5c3d\u5feb\u8c03\u6574\u7528\u6cd5\u4e3a egret.MainContext.deviceType == egret.MainContext.DEVICE_MOBILE";
    e.egret_string_code[1001] = "\u8be5\u65b9\u6cd5\u76ee\u524d\u4e0d\u5e94\u4f20\u5165 resolutionPolicy \u53c2\u6570\uff0c\u8bf7\u5728 docs/1.0_Final_ReleaseNote\u4e2d\u67e5\u770b\u5982\u4f55\u5347\u7ea7";
    e.egret_string_code[1002] =
            "egret.Ticker\u662f\u6846\u67b6\u5185\u90e8\u4f7f\u7528\u7684\u5355\u4f8b\uff0c\u4e0d\u5141\u8bb8\u5728\u5916\u90e8\u5b9e\u4f8b\u5316\uff0c\u8ba1\u65f6\u5668\u8bf7\u4f7f\u7528egret.Timer\u7c7b\uff01";
    e.egret_string_code[1003] = "Ticker#setTimeout\u65b9\u6cd5\u5373\u5c06\u5e9f\u5f03,\u8bf7\u4f7f\u7528egret.setTimeout";
    e.egret_string_code[1004] = "ExternalInterface\u8c03\u7528\u4e86js\u6ca1\u6709\u6ce8\u518c\u7684\u65b9\u6cd5: {0}";
    e.egret_string_code[1005] = "\u8bbe\u7f6e\u4e86\u5df2\u7ecf\u5b58\u5728\u7684blendMode: {0}";
    e.egret_string_code[1006] = "child\u4e0d\u5728\u5f53\u524d\u5bb9\u5668\u5185";
    e.egret_string_code[1007] = "\u63d0\u4f9b\u7684\u7d22\u5f15\u8d85\u51fa\u8303\u56f4";
    e.egret_string_code[1008] = "child\u672a\u88abaddChild\u5230\u8be5parent";
    e.egret_string_code[1009] = "\u8bbe\u7f6e\u4e86\u5df2\u7ecf\u5b58\u5728\u7684\u9002\u914d\u6a21\u5f0f:{0}";
    e.egret_string_code[1010] = "addEventListener\u4fa6\u542c\u51fd\u6570\u4e0d\u80fd\u4e3a\u7a7a";
    e.egret_string_code[1011] = 'BitmapText\u627e\u4e0d\u5230\u6587\u5b57\u6240\u5bf9\u5e94\u7684\u7eb9\u7406:"{0}"';
    e.egret_string_code[1012] = "egret.BitmapTextSpriteSheet\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528egret.BitmapFont\u4ee3\u66ff\u3002";
    e.egret_string_code[1013] = "TextField.setFocus \u6ca1\u6709\u5b9e\u73b0";
    e.egret_string_code[1014] = "Ease\u4e0d\u80fd\u88ab\u5b9e\u4f8b\u5316";
    e.egret_string_code[1015] = "xml not found!";
    e.egret_string_code[1016] = "{0}\u5df2\u7ecf\u5e9f\u5f03";
    e.egret_string_code[1017] = "JSON\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e: {0}\ndata: {1}";
    e.egret_string_code[1018] = "egret_html5_localStorage.setItem\u4fdd\u5b58\u5931\u8d25,key={0}&value={1}";
    e.egret_string_code[1019] = "\u7f51\u7edc\u5f02\u5e38:{0}";
    e.egret_string_code[1020] = "\u65e0\u6cd5\u521d\u59cb\u5316\u7740\u8272\u5668";
    e.egret_string_code[1021] = "\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301webgl";
    e.egret_string_code[1022] = "{0} ArgumentError";
    e.egret_string_code[1023] = "\u6b64\u65b9\u6cd5\u5728ScrollView\u5185\u4e0d\u53ef\u7528!";
    e.egret_string_code[1024] = "\u4f7f\u7528\u4e86\u5c1a\u672a\u5b9e\u73b0\u7684ScaleMode";
    e.egret_string_code[1025] = "\u9047\u5230\u6587\u4ef6\u5c3e";
    e.egret_string_code[1026] =
            "EncodingError! The code point {0} could not be encoded.";
    e.egret_string_code[1027] = "DecodingError";
    e.egret_string_code[1028] = "\u8c03\u7528\u4e86\u672a\u914d\u7f6e\u7684\u6ce8\u5165\u89c4\u5219:{0}\u3002 \u8bf7\u5148\u5728\u9879\u76ee\u521d\u59cb\u5316\u91cc\u914d\u7f6e\u6307\u5b9a\u7684\u6ce8\u5165\u89c4\u5219\uff0c\u518d\u8c03\u7528\u5bf9\u5e94\u5355\u4f8b\u3002";
    e.egret_string_code[1029] = "Function.prototype.bind - what is trying to be bound is not callable";
    e.egret_string_code[1030] = "\u8be5API\u5df2\u5e9f\u5f03";
    e.egret_string_code[1031] = "setVolume\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528this.volume = value\u4ee3\u66ff";
    e.egret_string_code[1032] = "getVolume\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528this.volume\u4ee3\u66ff";
    e.egret_string_code[2E3] = "RES.createGroup()\u4f20\u5165\u4e86\u914d\u7f6e\u4e2d\u4e0d\u5b58\u5728\u7684\u952e\u503c: {0}";
    e.egret_string_code[2001] = 'RES\u52a0\u8f7d\u4e86\u4e0d\u5b58\u5728\u6216\u7a7a\u7684\u8d44\u6e90\u7ec4:"{0}"';
    e.egret_string_code[3E3] = "\u4e3b\u9898\u914d\u7f6e\u6587\u4ef6\u52a0\u8f7d\u5931\u8d25: {0}";
    e.egret_string_code[3001] = "\u627e\u4e0d\u5230\u4e3b\u9898\u4e2d\u6240\u914d\u7f6e\u7684\u76ae\u80a4\u7c7b\u540d: {0}";
    e.egret_string_code[3002] = '\u7d22\u5f15:"{0}"\u8d85\u51fa\u96c6\u5408\u5143\u7d20\u7d22\u5f15\u8303\u56f4';
    e.egret_string_code[3003] = "\u5728\u6b64\u7ec4\u4ef6\u4e2d\u4e0d\u53ef\u7528\uff0c\u82e5\u6b64\u7ec4\u4ef6\u4e3a\u5bb9\u5668\u7c7b\uff0c\u8bf7\u4f7f\u7528";
    e.egret_string_code[3004] = "addChild(){0}addElement()\u4ee3\u66ff";
    e.egret_string_code[3005] = "addChildAt(){0}addElementAt()\u4ee3\u66ff";
    e.egret_string_code[3006] = "removeChild(){0}removeElement()\u4ee3\u66ff";
    e.egret_string_code[3007] = "removeChildAt(){0}removeElementAt()\u4ee3\u66ff";
    e.egret_string_code[3008] = "setChildIndex(){0}setElementIndex()\u4ee3\u66ff";
    e.egret_string_code[3009] = "swapChildren(){0}swapElements()\u4ee3\u66ff";
    e.egret_string_code[3010] = "swapChildrenAt(){0}swapElementsAt()\u4ee3\u66ff";
    e.egret_string_code[3011] = '\u7d22\u5f15:"{0}"\u8d85\u51fa\u53ef\u89c6\u5143\u7d20\u7d22\u5f15\u8303\u56f4';
    e.egret_string_code[3012] =
            "\u6b64\u65b9\u6cd5\u5728Scroller\u7ec4\u4ef6\u5185\u4e0d\u53ef\u7528!";
    e.egret_string_code[3013] = "UIStage\u662fGUI\u6839\u5bb9\u5668\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u6b64\u5b9e\u4f8b\u5728\u663e\u793a\u5217\u8868\u4e2d\uff01";
    e.egret_string_code[4E3] = "An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)";
    e.egret_string_code[4001] = "Abstract class can not be instantiated!";
    e.egret_string_code[4002] = "Unnamed data!";
    e.egret_string_code[4003] = "Nonsupport version!";
    e.egret_string_code[3100] = "\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301WebSocket";
    e.egret_string_code[3101] = "\u8bf7\u5148\u8fde\u63a5WebSocket";
    e.egret_string_code[3102] = "\u8bf7\u5148\u8bbe\u7f6etype\u4e3a\u4e8c\u8fdb\u5236\u7c7b\u578b"
})(egret || (egret = {}));
(function (e) {
    e.egret_string_code = {};
    e.egret_string_code[-1] = "\u4e0d\u5b58\u5728\u7684stringId:{0}";
    e.egret_string_code[1E3] = "Browser.isMobile\u63a5\u53e3\u53c2\u6570\u5df2\u7ecf\u53d8\u66f4\uff0c\u8bf7\u5c3d\u5feb\u8c03\u6574\u7528\u6cd5\u4e3a egret.MainContext.deviceType == egret.MainContext.DEVICE_MOBILE";
    e.egret_string_code[1001] = "\u8be5\u65b9\u6cd5\u76ee\u524d\u4e0d\u5e94\u4f20\u5165 resolutionPolicy \u53c2\u6570\uff0c\u8bf7\u5728 docs/1.0_Final_ReleaseNote\u4e2d\u67e5\u770b\u5982\u4f55\u5347\u7ea7";
    e.egret_string_code[1002] = "egret.Ticker\u662f\u6846\u67b6\u5185\u90e8\u4f7f\u7528\u7684\u5355\u4f8b\uff0c\u4e0d\u5141\u8bb8\u5728\u5916\u90e8\u5b9e\u4f8b\u5316\uff0c\u8ba1\u65f6\u5668\u8bf7\u4f7f\u7528egret.Timer\u7c7b\uff01";
    e.egret_string_code[1003] = "Ticker#setTimeout\u65b9\u6cd5\u5373\u5c06\u5e9f\u5f03,\u8bf7\u4f7f\u7528egret.setTimeout";
    e.egret_string_code[1004] = "ExternalInterface\u8c03\u7528\u4e86js\u6ca1\u6709\u6ce8\u518c\u7684\u65b9\u6cd5: {0}";
    e.egret_string_code[1005] = "\u8bbe\u7f6e\u4e86\u5df2\u7ecf\u5b58\u5728\u7684blendMode: {0}";
    e.egret_string_code[1006] = "child\u4e0d\u5728\u5f53\u524d\u5bb9\u5668\u5185";
    e.egret_string_code[1007] = "\u63d0\u4f9b\u7684\u7d22\u5f15\u8d85\u51fa\u8303\u56f4";
    e.egret_string_code[1008] = "child\u672a\u88abaddChild\u5230\u8be5parent";
    e.egret_string_code[1009] = "\u8bbe\u7f6e\u4e86\u5df2\u7ecf\u5b58\u5728\u7684\u9002\u914d\u6a21\u5f0f:{0}";
    e.egret_string_code[1010] = "addEventListener\u4fa6\u542c\u51fd\u6570\u4e0d\u80fd\u4e3a\u7a7a";
    e.egret_string_code[1011] = 'BitmapText\u627e\u4e0d\u5230\u6587\u5b57\u6240\u5bf9\u5e94\u7684\u7eb9\u7406:"{0}"';
    e.egret_string_code[1012] = "egret.BitmapTextSpriteSheet\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528egret.BitmapFont\u4ee3\u66ff\u3002";
    e.egret_string_code[1013] = "TextField.setFocus \u6ca1\u6709\u5b9e\u73b0";
    e.egret_string_code[1014] = "Ease\u4e0d\u80fd\u88ab\u5b9e\u4f8b\u5316";
    e.egret_string_code[1015] = "xml not found!";
    e.egret_string_code[1016] = "{0}\u5df2\u7ecf\u5e9f\u5f03";
    e.egret_string_code[1017] = "JSON\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e: {0}\ndata: {1}";
    e.egret_string_code[1018] = "egret_html5_localStorage.setItem\u4fdd\u5b58\u5931\u8d25,key={0}&value={1}";
    e.egret_string_code[1019] = "\u7f51\u7edc\u5f02\u5e38:{0}";
    e.egret_string_code[1020] = "\u65e0\u6cd5\u521d\u59cb\u5316\u7740\u8272\u5668";
    e.egret_string_code[1021] = "\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301webgl";
    e.egret_string_code[1022] = "{0} ArgumentError";
    e.egret_string_code[1023] = "\u6b64\u65b9\u6cd5\u5728ScrollView\u5185\u4e0d\u53ef\u7528!";
    e.egret_string_code[1024] = "\u4f7f\u7528\u4e86\u5c1a\u672a\u5b9e\u73b0\u7684ScaleMode";
    e.egret_string_code[1025] = "\u9047\u5230\u6587\u4ef6\u5c3e";
    e.egret_string_code[1026] =
            "EncodingError! The code point {0} could not be encoded.";
    e.egret_string_code[1027] = "DecodingError";
    e.egret_string_code[1028] = "\u8c03\u7528\u4e86\u672a\u914d\u7f6e\u7684\u6ce8\u5165\u89c4\u5219:{0}\u3002 \u8bf7\u5148\u5728\u9879\u76ee\u521d\u59cb\u5316\u91cc\u914d\u7f6e\u6307\u5b9a\u7684\u6ce8\u5165\u89c4\u5219\uff0c\u518d\u8c03\u7528\u5bf9\u5e94\u5355\u4f8b\u3002";
    e.egret_string_code[1029] = "Function.prototype.bind - what is trying to be bound is not callable";
    e.egret_string_code[1030] = "\u8be5API\u5df2\u5e9f\u5f03";
    e.egret_string_code[1031] = "setVolume\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528this.volume = value\u4ee3\u66ff";
    e.egret_string_code[1032] = "getVolume\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528this.volume\u4ee3\u66ff";
    e.egret_string_code[2E3] = "RES.createGroup()\u4f20\u5165\u4e86\u914d\u7f6e\u4e2d\u4e0d\u5b58\u5728\u7684\u952e\u503c: {0}";
    e.egret_string_code[2001] = 'RES\u52a0\u8f7d\u4e86\u4e0d\u5b58\u5728\u6216\u7a7a\u7684\u8d44\u6e90\u7ec4:"{0}"';
    e.egret_string_code[3E3] = "\u4e3b\u9898\u914d\u7f6e\u6587\u4ef6\u52a0\u8f7d\u5931\u8d25: {0}";
    e.egret_string_code[3001] = "\u627e\u4e0d\u5230\u4e3b\u9898\u4e2d\u6240\u914d\u7f6e\u7684\u76ae\u80a4\u7c7b\u540d: {0}";
    e.egret_string_code[3002] = '\u7d22\u5f15:"{0}"\u8d85\u51fa\u96c6\u5408\u5143\u7d20\u7d22\u5f15\u8303\u56f4';
    e.egret_string_code[3003] = "\u5728\u6b64\u7ec4\u4ef6\u4e2d\u4e0d\u53ef\u7528\uff0c\u82e5\u6b64\u7ec4\u4ef6\u4e3a\u5bb9\u5668\u7c7b\uff0c\u8bf7\u4f7f\u7528";
    e.egret_string_code[3004] = "addChild(){0}addElement()\u4ee3\u66ff";
    e.egret_string_code[3005] = "addChildAt(){0}addElementAt()\u4ee3\u66ff";
    e.egret_string_code[3006] = "removeChild(){0}removeElement()\u4ee3\u66ff";
    e.egret_string_code[3007] = "removeChildAt(){0}removeElementAt()\u4ee3\u66ff";
    e.egret_string_code[3008] = "setChildIndex(){0}setElementIndex()\u4ee3\u66ff";
    e.egret_string_code[3009] = "swapChildren(){0}swapElements()\u4ee3\u66ff";
    e.egret_string_code[3010] = "swapChildrenAt(){0}swapElementsAt()\u4ee3\u66ff";
    e.egret_string_code[3011] = '\u7d22\u5f15:"{0}"\u8d85\u51fa\u53ef\u89c6\u5143\u7d20\u7d22\u5f15\u8303\u56f4';
    e.egret_string_code[3012] =
            "\u6b64\u65b9\u6cd5\u5728Scroller\u7ec4\u4ef6\u5185\u4e0d\u53ef\u7528!";
    e.egret_string_code[3013] = "UIStage\u662fGUI\u6839\u5bb9\u5668\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u6b64\u5b9e\u4f8b\u5728\u663e\u793a\u5217\u8868\u4e2d\uff01";
    e.egret_string_code[4E3] = "An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)";
    e.egret_string_code[4001] = "Abstract class can not be instantiated!";
    e.egret_string_code[4002] = "Unnamed data!";
    e.egret_string_code[4003] = "Nonsupport version!";
    e.egret_string_code[3100] = "\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301WebSocket";
    e.egret_string_code[3101] = "\u8bf7\u5148\u8fde\u63a5WebSocket";
    e.egret_string_code[3102] = "\u8bf7\u5148\u8bbe\u7f6etype\u4e3a\u4e8c\u8fdb\u5236\u7c7b\u578b"
})(egret || (egret = {}));
var __extends = this.__extends || function (e, f) {
    function g() {
        this.constructor = e
    }
    for (var d in f)
        f.hasOwnProperty(d) && (e[d] = f[d]);
    g.prototype = f.prototype;
    e.prototype = new g
};
(function (e) {
    function f(d) {
        for (var b = [], a = 1; a < arguments.length; a++)
            b[a - 1] = arguments[a];
        if (a = e.egret_string_code[d])
            for (var c = b.length, h = 0; h < c; h++)
                a = a.replace("{" + h + "}", b[h]);
        return a
    }
    var g = function () {
        function d() {
        }
        d.openLogByType = function (b) {
            null == d.logFuncs && (d.logFuncs = {
                error: console.error,
                debug: console.debug,
                warn: console.warn,
                info: console.info,
                log: console.log
            });
            switch (b) {
                case d.OFF:
                    console.error = function () {
                    };
                case d.ERROR:
                    console.warn = function () {
                    };
                case d.WARN:
                    console.info = function () {
                    }, console.log =
                            function () {
                            };
                case d.INFO:
                    console.debug = function () {
                    }
            }
            switch (b) {
                case d.ALL:
                    console.debug = d.logFuncs.debug;
                case d.INFO:
                    console.log = d.logFuncs.log, console.info = d.logFuncs.info;
                case d.WARN:
                    console.warn = d.logFuncs.warn;
                case d.ERROR:
                    console.error = d.logFuncs.error
            }
        };
        d.fatal = function (b, a) {
            void 0 === a && (a = null);
            e.Logger.traceToConsole("Fatal", b, a);
            throw Error(e.Logger.getTraceCode("Fatal", b, a));
        };
        d.info = function (b, a) {
            void 0 === a && (a = null);
            e.Logger.traceToConsole("Info", b, a)
        };
        d.warning = function (b, a) {
            void 0 ===
                    a && (a = null);
            e.Logger.traceToConsole("Warning", b, a)
        };
        d.fatalWithErrorId = function (b) {
            for (var a = [], c = 1; c < arguments.length; c++)
                a[c - 1] = arguments[c];
            a.unshift(b);
            (a = f.apply(null, a)) ? d.fatal(a) : d.warning(f(-1, b))
        };
        d.infoWithErrorId = function (b) {
            for (var a = [], c = 1; c < arguments.length; c++)
                a[c - 1] = arguments[c];
            a.unshift(b);
            (a = f.apply(null, a)) ? d.info(a) : d.warning(f(-1, b))
        };
        d.warningWithErrorId = function (b) {
            for (var a = [], c = 1; c < arguments.length; c++)
                a[c - 1] = arguments[c];
            a.unshift(b);
            (a = f.apply(null, a)) ? d.warning(a) : d.warning(f(-1,
                    b))
        };
        d.traceToConsole = function (b, a, c) {
            console.log(e.Logger.getTraceCode(b, a, c))
        };
        d.getTraceCode = function (b, a, c) {
            return "[" + b + "]" + a + (null == c ? "" : ":" + c)
        };
        d.ALL = "all";
        d.DEBUG = "debug";
        d.INFO = "info";
        d.WARN = "warn";
        d.ERROR = "error";
        d.OFF = "off";
        return d
    }();
    e.Logger = g;
    g.prototype.__class__ = "egret.Logger";
    e.getString = f
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function e() {
            this._hashCode = e.hashCount++
        }
        Object.defineProperty(e.prototype, "hashCode", {
            get: function () {
                return this._hashCode
            },
            enumerable: !0,
            configurable: !0
        });
        e.hashCount = 1;
        return e
    }();
    e.HashObject = f;
    f.prototype.__class__ = "egret.HashObject"
})(egret || (egret = {}));
(function (e) {
    var f = function (e) {
        function d(a) {
            void 0 === a && (a = 300);
            e.call(this);
            this.objectPool = [];
            this._length = 0;
            1 > a && (a = 1);
            this.autoDisposeTime = a;
            this.frameCount = 0
        }
        __extends(d, e);
        var b = d.prototype;
        b._checkFrame = function () {
            this.frameCount--;
            0 >= this.frameCount && this.dispose()
        };
        Object.defineProperty(b, "length", {
            get: function () {
                return this._length
            },
            enumerable: !0,
            configurable: !0
        });
        b.push = function (a) {
            var c = this.objectPool;
            -1 == c.indexOf(a) && (c.push(a), a.__recycle && a.__recycle(), this._length++, 0 == this.frameCount &&
                    (this.frameCount = this.autoDisposeTime, d._callBackList.push(this)))
        };
        b.pop = function () {
            if (0 == this._length)
                return null;
            this._length--;
            return this.objectPool.pop()
        };
        b.dispose = function () {
            0 < this._length && (this.objectPool = [], this._length = 0);
            this.frameCount = 0;
            var a = d._callBackList,
                    c = a.indexOf(this);
            -1 != c && a.splice(c, 1)
        };
        d._callBackList = [];
        return d
    }(e.HashObject);
    e.Recycler = f;
    f.prototype.__class__ = "egret.Recycler"
})(egret || (egret = {}));
(function (e) {
    e.__START_TIME;
    e.getTimer = function () {
        return Date.now() - e.__START_TIME
    }
})(egret || (egret = {}));
(function (e) {
    e.__callLaterFunctionList = [];
    e.__callLaterThisList = [];
    e.__callLaterArgsList = [];
    e.callLater = function (f, g) {
        for (var d = [], b = 2; b < arguments.length; b++)
            d[b - 2] = arguments[b];
        e.__callLaterFunctionList.push(f);
        e.__callLaterThisList.push(g);
        e.__callLaterArgsList.push(d)
    };
    e.__callAsyncFunctionList = [];
    e.__callAsyncThisList = [];
    e.__callAsyncArgsList = [];
    e.__callAsync = function (f, g) {
        for (var d = [], b = 2; b < arguments.length; b++)
            d[b - 2] = arguments[b];
        e.__callAsyncFunctionList.push(f);
        e.__callAsyncThisList.push(g);
        e.__callAsyncArgsList.push(d)
    }
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function g() {
        }
        var d = g.prototype;
        d.call = function (b) {
            this.callback && this.callback.call(this.thisObject, b)
        };
        d.dispose = function () {
            this.thisObject = this.callback = null;
            g.__freeList.push(this)
        };
        g.push = function (b, a) {
            var c;
            c = g.__freeList.length ? g.__freeList.pop() : new e.RenderCommand;
            c.callback = b;
            c.thisObject = a;
            e.MainContext.__DRAW_COMMAND_LIST.push(c)
        };
        g.__freeList = [];
        return g
    }();
    e.RenderCommand = f;
    f.prototype.__class__ = "egret.RenderCommand"
})(egret || (egret = {}));
(function (e) {
    var f = function (g) {
        function d(a, c, h) {
            void 0 === c && (c = !1);
            void 0 === h && (h = !1);
            g.call(this);
            this.data = null;
            this._type = "";
            this._cancelable = this._bubbles = !1;
            this._eventPhase = 2;
            this._target = this._currentTarget = null;
            this._isPropagationImmediateStopped = this._isPropagationStopped = this._isDefaultPrevented = !1;
            this.isNew = !0;
            this._type = a;
            this._bubbles = c;
            this._cancelable = h
        }
        __extends(d, g);
        var b = d.prototype;
        Object.defineProperty(b, "type", {
            get: function () {
                return this._type
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "bubbles", {
            get: function () {
                return this._bubbles
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "cancelable", {
            get: function () {
                return this._cancelable
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "eventPhase", {
            get: function () {
                return this._eventPhase
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "currentTarget", {
            get: function () {
                return this._currentTarget
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "target", {
            get: function () {
                return this._target
            },
            enumerable: !0,
            configurable: !0
        });
        b.isDefaultPrevented = function () {
            return this._isDefaultPrevented
        };
        b.preventDefault = function () {
            this._cancelable && (this._isDefaultPrevented = !0)
        };
        b.stopPropagation = function () {
            this._bubbles && (this._isPropagationStopped = !0)
        };
        b.stopImmediatePropagation = function () {
            this._bubbles && (this._isPropagationImmediateStopped = !0)
        };
        b._reset = function () {
            this.isNew ? this.isNew = !1 : (this._isPropagationImmediateStopped = this._isPropagationStopped = this._isDefaultPrevented = !1, this._currentTarget =
                    this._target = null, this._eventPhase = 2)
        };
        b.__recycle = function () {
            this.data = this._target = this._currentTarget = null
        };
        d._dispatchByTarget = function (a, c, h, b, d, g) {
            void 0 === d && (d = !1);
            void 0 === g && (g = !1);
            var f = a.eventRecycler;
            f || (f = a.eventRecycler = new e.Recycler);
            var l = f.pop();
            l ? l._type = h : l = new a(h);
            l._bubbles = d;
            l._cancelable = g;
            if (b)
                for (var k in b)
                    l[k] = b[k], null !== l[k] && (b[k] = null);
            a = c.dispatchEvent(l);
            f.push(l);
            return a
        };
        d._getPropertyData = function (a) {
            var c = a._props;
            c || (c = a._props = {});
            return c
        };
        d.dispatchEvent =
                function (a, c, h, b) {
                    void 0 === h && (h = !1);
                    var e = d._getPropertyData(d);
                    void 0 != b && (e.data = b);
                    d._dispatchByTarget(d, a, c, e, h)
                };
        d.ADDED_TO_STAGE = "addedToStage";
        d.REMOVED_FROM_STAGE = "removedFromStage";
        d.ADDED = "added";
        d.REMOVED = "removed";
        d.COMPLETE = "complete";
        d.LOOP_COMPLETE = "loopcomplete";
        d.ENTER_FRAME = "enterFrame";
        d.RENDER = "render";
        d.FINISH_RENDER = "finishRender";
        d.FINISH_UPDATE_TRANSFORM = "finishUpdateTransform";
        d.LEAVE_STAGE = "leaveStage";
        d.RESIZE = "resize";
        d.CHANGE = "change";
        d.ACTIVATE = "activate";
        d.DEACTIVATE =
                "deactivate";
        d.CLOSE = "close";
        d.CONNECT = "connect";
        return d
    }(e.HashObject);
    e.Event = f;
    f.prototype.__class__ = "egret.Event"
})(egret || (egret = {}));
(function (e) {
    var f = function (e) {
        function d(b, a, c) {
            void 0 === a && (a = !1);
            void 0 === c && (c = !1);
            e.call(this, b, a, c);
            this._status = 0
        }
        __extends(d, e);
        Object.defineProperty(d.prototype, "status", {
            get: function () {
                return this._status
            },
            enumerable: !0,
            configurable: !0
        });
        d.dispatchHTTPStatusEvent = function (b, a) {
            null == d.httpStatusEvent && (d.httpStatusEvent = new d(d.HTTP_STATUS));
            d.httpStatusEvent._status = a;
            b.dispatchEvent(d.httpStatusEvent)
        };
        d.HTTP_STATUS = "httpStatus";
        d.httpStatusEvent = null;
        return d
    }(e.Event);
    e.HTTPStatusEvent =
            f;
    f.prototype.__class__ = "egret.HTTPStatusEvent"
})(egret || (egret = {}));
(function (e) {
    var f = function (e) {
        function d(b, a, c) {
            void 0 === a && (a = !1);
            void 0 === c && (c = !1);
            e.call(this, b, a, c)
        }
        __extends(d, e);
        d.SOUND_COMPLETE = "soundComplete";
        return d
    }(e.Event);
    e.SoundEvent = f;
    f.prototype.__class__ = "egret.SoundEvent"
})(egret || (egret = {}));
(function (e) {
    var f = function (e) {
        function d(b, a, c) {
            void 0 === a && (a = !1);
            void 0 === c && (c = !1);
            e.call(this, b, a, c)
        }
        __extends(d, e);
        d.FOCUS_IN = "focusIn";
        d.FOCUS_OUT = "focusOut";
        return d
    }(e.Event);
    e.FocusEvent = f;
    f.prototype.__class__ = "egret.FocusEvent"
})(egret || (egret = {}));
(function (e) {
    var f = function (g) {
        function d(b, a, c) {
            void 0 === a && (a = !1);
            void 0 === c && (c = !1);
            g.call(this, b, a, c)
        }
        __extends(d, g);
        d.dispatchIOErrorEvent = function (b) {
            e.Event._dispatchByTarget(d, b, d.IO_ERROR)
        };
        d.IO_ERROR = "ioError";
        return d
    }(e.Event);
    e.IOErrorEvent = f;
    f.prototype.__class__ = "egret.IOErrorEvent"
})(egret || (egret = {}));
(function (e) {
    var f = function (g) {
        function d(a, c, h, b, d, e, f, l, k, m) {
            void 0 === c && (c = !0);
            void 0 === h && (h = !0);
            void 0 === b && (b = 0);
            void 0 === d && (d = 0);
            void 0 === e && (e = 0);
            void 0 === f && (f = !1);
            void 0 === l && (l = !1);
            void 0 === m && (m = !1);
            g.call(this, a, c, h);
            this._stageY = this._stageX = 0;
            this.touchPointID = NaN;
            this.touchDown = this.altKey = this.shiftKey = this.ctrlKey = !1;
            this.touchPointID = b;
            this._stageX = d;
            this._stageY = e;
            this.ctrlKey = f;
            this.altKey = l;
            this.touchDown = m
        }
        __extends(d, g);
        var b = d.prototype;
        Object.defineProperty(b, "stageX", {
            get: function () {
                return this._stageX
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "stageY", {
            get: function () {
                return this._stageY
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "localX", {
            get: function () {
                return this._currentTarget.globalToLocal(this._stageX, this._stageY, e.Point.identity).x
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "localY", {
            get: function () {
                return this._currentTarget.globalToLocal(this._stageX, this._stageY, e.Point.identity).y
            },
            enumerable: !0,
            configurable: !0
        });
        d.dispatchTouchEvent = function (a,
                c, h, b, A, g, f, l, k) {
            void 0 === h && (h = 0);
            void 0 === b && (b = 0);
            void 0 === A && (A = 0);
            void 0 === g && (g = !1);
            void 0 === f && (f = !1);
            void 0 === l && (l = !1);
            void 0 === k && (k = !1);
            var m = e.Event._getPropertyData(d);
            m.touchPointID = h;
            m._stageX = b;
            m._stageY = A;
            m.ctrlKey = g;
            m.altKey = f;
            m.shiftKey = l;
            m.touchDown = k;
            e.Event._dispatchByTarget(d, a, c, m, !0, !0)
        };
        d.TOUCH_TAP = "touchTap";
        d.TOUCH_MOVE = "touchMove";
        d.TOUCH_BEGIN = "touchBegin";
        d.TOUCH_END = "touchEnd";
        d.TOUCH_RELEASE_OUTSIDE = "touchReleaseOutside";
        d.TOUCH_ROLL_OUT = "touchRollOut";
        d.TOUCH_ROLL_OVER =
                "touchRollOver";
        d.TOUCH_OUT = "touchOut";
        d.TOUCH_OVER = "touchOver";
        return d
    }(e.Event);
    e.TouchEvent = f;
    f.prototype.__class__ = "egret.TouchEvent"
})(egret || (egret = {}));
(function (e) {
    var f = function (g) {
        function d(b, a, c) {
            void 0 === a && (a = !1);
            void 0 === c && (c = !1);
            g.call(this, b, a, c)
        }
        __extends(d, g);
        d.dispatchTimerEvent = function (b, a) {
            e.Event._dispatchByTarget(d, b, a)
        };
        d.TIMER = "timer";
        d.TIMER_COMPLETE = "timerComplete";
        return d
    }(e.Event);
    e.TimerEvent = f;
    f.prototype.__class__ = "egret.TimerEvent"
})(egret || (egret = {}));
(function (e) {
    var f = function (g) {
        function d(b, a, c, h) {
            void 0 === a && (a = !1);
            void 0 === c && (c = !1);
            void 0 === h && (h = "");
            g.call(this, b, a, c);
            this.text = h
        }
        __extends(d, g);
        d.dispatchTextEvent = function (b, a, c) {
            var h = e.Event._getPropertyData(d);
            h.text = c;
            e.Event._dispatchByTarget(d, b, a, h)
        };
        d.LINK = "link";
        return d
    }(e.Event);
    e.TextEvent = f;
    f.prototype.__class__ = "egret.TextEvent"
})(egret || (egret = {}));
(function (e) {
    var f = function (g) {
        function d(b, a, c, h, d) {
            void 0 === a && (a = !1);
            void 0 === c && (c = !1);
            void 0 === h && (h = 0);
            void 0 === d && (d = 0);
            g.call(this, b, a, c);
            this.bytesTotal = this.bytesLoaded = 0;
            this.bytesLoaded = h;
            this.bytesTotal = d
        }
        __extends(d, g);
        d.dispatchProgressEvent = function (b, a, c, h) {
            void 0 === c && (c = 0);
            void 0 === h && (h = 0);
            e.Event._dispatchByTarget(d, b, a, {
                bytesLoaded: c,
                bytesTotal: h
            })
        };
        d.PROGRESS = "progress";
        d.SOCKET_DATA = "socketData";
        return d
    }(e.Event);
    e.ProgressEvent = f;
    f.prototype.__class__ = "egret.ProgressEvent"
})(egret ||
        (egret = {}));
(function (e) {
    var f = function () {
        function e() {
        }
        e.CAPTURING_PHASE = 1;
        e.AT_TARGET = 2;
        e.BUBBLING_PHASE = 3;
        return e
    }();
    e.EventPhase = f;
    f.prototype.__class__ = "egret.EventPhase"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d(a) {
            void 0 === a && (a = null);
            f.call(this);
            this._captureEventsMap = this._eventsMap = this._eventTarget = null;
            this._eventTarget = a ? a : this
        }
        __extends(d, f);
        var b = d.prototype;
        b.addEventListener = function (a, c, h, b, d) {
            void 0 === b && (b = !1);
            void 0 === d && (d = 0);
            "undefined" === typeof b && (b = !1);
            "undefined" === typeof d && (d = 0);
            c || e.Logger.fatalWithErrorId(1010);
            b ? (this._captureEventsMap || (this._captureEventsMap = {}), b = this._captureEventsMap) : (this._eventsMap || (this._eventsMap = {}), b = this._eventsMap);
            var f = b[a];
            f || (f = b[a] = []);
            this._insertEventBin(f, c, h, d)
        };
        b._insertEventBin = function (a, c, h, b, d) {
            void 0 === d && (d = void 0);
            for (var e = -1, f = a.length, g = 0; g < f; g++) {
                var k = a[g];
                if (k.listener == c && k.thisObject == h && k.display == d)
                    return !1;
                -1 == e && k.priority < b && (e = g)
            }
            c = {
                listener: c,
                thisObject: h,
                priority: b
            };
            d && (c.display = d);
            -1 != e ? a.splice(e, 0, c) : a.push(c);
            return !0
        };
        b.removeEventListener = function (a, c, h, b) {
            void 0 === b && (b = !1);
            if (b = b ? this._captureEventsMap : this._eventsMap) {
                var d = b[a];
                d && (this._removeEventBin(d, c, h), 0 == d.length &&
                        delete b[a])
            }
        };
        b._removeEventBin = function (a, c, h, b, d) {
            void 0 === b && (b = void 0);
            void 0 === d && (d = 0);
            for (var e = a.length; d < e; d++) {
                var f = a[d];
                if (f.listener == c && f.thisObject == h && f.display == b)
                    return a.splice(d, 1), !0
            }
            return !1
        };
        b.hasEventListener = function (a) {
            return !!(this._eventsMap && this._eventsMap[a] || this._captureEventsMap && this._captureEventsMap[a])
        };
        b.willTrigger = function (a) {
            return this.hasEventListener(a)
        };
        b.dispatchEvent = function (a) {
            a._reset();
            a._target = this._eventTarget;
            a._currentTarget = this._eventTarget;
            return this._notifyListener(a)
        };
        b._notifyListener = function (a) {
            var c = 1 == a._eventPhase ? this._captureEventsMap : this._eventsMap;
            if (!c)
                return !0;
            c = c[a._type];
            if (!c)
                return !0;
            var h = c.length;
            if (0 == h)
                return !0;
            for (var c = c.concat(), b = 0; b < h; b++) {
                var d = c[b];
                d.listener.call(d.thisObject, a);
                if (a._isPropagationImmediateStopped)
                    break
            }
            return !a._isDefaultPrevented
        };
        b.dispatchEventWith = function (a, c, h) {
            void 0 === c && (c = !1);
            e.Event.dispatchEvent(this, a, c, h)
        };
        return d
    }(e.HashObject);
    e.EventDispatcher = f;
    f.prototype.__class__ =
            "egret.EventDispatcher"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this.stage = this.deviceContext = this.netContext = this.touchContext = this.rendererContext = null;
            this.reuseEvent = new e.Event("")
        }
        __extends(d, f);
        var b = d.prototype;
        b.run = function () {
            e.Ticker.getInstance().run();
            e.Ticker.getInstance().register(this.renderLoop, this, Number.NEGATIVE_INFINITY);
            e.Ticker.getInstance().register(this.broadcastEnterFrame, this, Number.POSITIVE_INFINITY);
            this.touchContext.run();
            this._profileInstance = e.Profiler.getInstance()
        };
        b.renderLoop =
                function (a) {
                    if (0 < e.__callLaterFunctionList.length) {
                        var c = e.__callLaterFunctionList;
                        e.__callLaterFunctionList = [];
                        var h = e.__callLaterThisList;
                        e.__callLaterThisList = [];
                        var b = e.__callLaterArgsList;
                        e.__callLaterArgsList = []
                    }
                    a = this.stage;
                    var A = d.cachedEvent;
                    A._type = e.Event.RENDER;
                    this.dispatchEvent(A);
                    e.Stage._invalidateRenderFlag && (this.broadcastRender(), e.Stage._invalidateRenderFlag = !1);
                    c && this.doCallLaterList(c, h, b);
                    0 < e.__callAsyncFunctionList.length && this.doCallAsyncList();
                    c = this.rendererContext;
                    c.onRenderStart();
                    c.clearScreen();
                    d.__DRAW_COMMAND_LIST = [];
                    d._renderLoopPhase = "updateTransform";
                    a._updateTransform();
                    d._renderLoopPhase = "draw";
                    A._type = e.Event.FINISH_UPDATE_TRANSFORM;
                    this.dispatchEvent(A);
                    d.__use_new_draw ? this._draw(c) : a._draw(c);
                    A._type = e.Event.FINISH_RENDER;
                    this.dispatchEvent(A);
                    this._profileInstance._isRunning && this._profileInstance._drawProfiler(c);
                    c.onRenderFinish()
                };
        b._draw = function (a) {
            for (var c = d.__DRAW_COMMAND_LIST, h = c.length, b = 0; b < h; b++) {
                var e = c[b];
                e.call(a);
                e.dispose()
            }
        };
        b.broadcastEnterFrame =
                function (a) {
                    a = this.reuseEvent;
                    a._type = e.Event.ENTER_FRAME;
                    this.dispatchEvent(a);
                    for (var c = e.DisplayObject._enterFrameCallBackList.concat(), h = c.length, b = 0; b < h; b++) {
                        var d = c[b];
                        a._target = d.display;
                        a._currentTarget = d.display;
                        d.listener.call(d.thisObject, a)
                    }
                    c = e.Recycler._callBackList;
                    for (b = c.length - 1; 0 <= b; b--)
                        c[b]._checkFrame()
                };
        b.broadcastRender = function () {
            var a = this.reuseEvent;
            a._type = e.Event.RENDER;
            for (var c = e.DisplayObject._renderCallBackList.concat(), h = c.length, b = 0; b < h; b++) {
                var d = c[b],
                        f = d.display;
                a._target = f;
                a._currentTarget = f;
                d.listener.call(d.thisObject, a)
            }
        };
        b.doCallLaterList = function (a, c, h) {
            for (var b = a.length, d = 0; d < b; d++) {
                var e = a[d];
                null != e && e.apply(c[d], h[d])
            }
        };
        b.doCallAsyncList = function () {
            var a = e.__callAsyncFunctionList.concat(),
                    c = e.__callAsyncThisList.concat(),
                    h = e.__callAsyncArgsList.concat();
            e.__callAsyncFunctionList.length = 0;
            e.__callAsyncThisList.length = 0;
            for (var b = e.__callAsyncArgsList.length = 0; b < a.length; b++) {
                var d = a[b];
                null != d && d.apply(c[b], h[b])
            }
        };
        d.deviceType = null;
        d.DEVICE_PC =
                "web";
        d.DEVICE_MOBILE = "native";
        d.RUNTIME_HTML5 = "runtimeHtml5";
        d.RUNTIME_NATIVE = "runtimeNative";
        d.__DRAW_COMMAND_LIST = [];
        d.__use_new_draw = !0;
        d.cachedEvent = new e.Event("");
        return d
    }(e.EventDispatcher);
    e.MainContext = f;
    f.prototype.__class__ = "egret.MainContext"
})(egret || (egret = {}));
var testDeviceType = function () {
    if (!this.navigator)
        return !0;
    var e = navigator.userAgent.toLowerCase();
    return -1 != e.indexOf("mobile") || -1 != e.indexOf("android")
},
        testRuntimeType = function () {
            return this.navigator ? !0 : !1
        };
egret.MainContext.instance = new egret.MainContext;
egret.MainContext.deviceType = testDeviceType() ? egret.MainContext.DEVICE_MOBILE : egret.MainContext.DEVICE_PC;
egret.MainContext.runtimeType = testRuntimeType() ? egret.MainContext.RUNTIME_HTML5 : egret.MainContext.RUNTIME_NATIVE;
delete testDeviceType;
delete testRuntimeType;
(function (e) {
    var f = function () {
        function f() {
            this._preDrawCount = this._updateTransformPerformanceCost = this._renderPerformanceCost = this._logicPerformanceCost = this._lastTime = 0;
            this._calculatePreDrawCount = !0;
            this._txt = null;
            this._tick = 0;
            this._maxDeltaTime = 500;
            this._totalDeltaTime = 0;
            this._isRunning = !1
        }
        var d = f.prototype;
        f.getInstance = function () {
            null == f.instance && (f.instance = new f);
            return f.instance
        };
        d.stop = function () {
            if (this._isRunning) {
                this._isRunning = !1;
                e.Ticker.getInstance().unregister(this.update, this);
                var b = e.MainContext.instance;
                b.removeEventListener(e.Event.ENTER_FRAME, this.onEnterFrame, this);
                b.removeEventListener(e.Event.RENDER, this.onStartRender, this);
                b.removeEventListener(e.Event.FINISH_RENDER, this.onFinishRender, this);
                b.removeEventListener(e.Event.FINISH_UPDATE_TRANSFORM, this.onFinishUpdateTransform, this)
            }
        };
        d.run = function () {
            null == this._txt && (this._txt = new e.TextField, this._txt.size = 28, this._txt.multiline = !0, this._txt._DO_Props_._parent = new e.DisplayObjectContainer);
            if (!this._isRunning) {
                this._isRunning = !0;
                e.Ticker.getInstance().register(this.update, this);
                var b = e.MainContext.instance;
                b.addEventListener(e.Event.ENTER_FRAME, this.onEnterFrame, this);
                b.addEventListener(e.Event.RENDER, this.onStartRender, this);
                b.addEventListener(e.Event.FINISH_RENDER, this.onFinishRender, this);
                b.addEventListener(e.Event.FINISH_UPDATE_TRANSFORM, this.onFinishUpdateTransform, this)
            }
        };
        d._drawProfiler = function (b) {
            "_drawWebGL" in b && b._drawWebGL();
            this._calculatePreDrawCount = !1;
            this._txt._updateTransform();
            this._txt._draw(b)
        };
        d._setTxtFontSize =
                function (b) {
                    this._txt.size = b
                };
        d.onEnterFrame = function (b) {
            this._lastTime = e.getTimer()
        };
        d.onStartRender = function (b) {
            b = e.getTimer();
            this._logicPerformanceCost = b - this._lastTime;
            this._lastTime = b
        };
        d.onFinishUpdateTransform = function (b) {
            b = e.getTimer();
            this._updateTransformPerformanceCost = b - this._lastTime;
            this._lastTime = b
        };
        d.onFinishRender = function (b) {
            b = e.getTimer();
            this._renderPerformanceCost = b - this._lastTime;
            this._lastTime = b
        };
        d.update = function (b) {
            this._tick++;
            this._totalDeltaTime += b;
            if (this._totalDeltaTime >=
                    this._maxDeltaTime) {
                b = this._preDrawCount.toString();
                var a = Math.ceil(this._logicPerformanceCost).toString() + "," + Math.ceil(this._updateTransformPerformanceCost).toString() + "," + Math.ceil(this._renderPerformanceCost).toString() + "," + Math.ceil(e.MainContext.instance.rendererContext.renderCost).toString();
                this._txt.text = "draw:" + b + "\ncost:" + a + "\nFPS:" + Math.floor(1E3 * this._tick / this._totalDeltaTime).toString();
                this._tick = this._totalDeltaTime = 0
            }
            this._preDrawCount = 0;
            this._calculatePreDrawCount = !0
        };
        d.onDrawImage =
                function () {
                    this._calculatePreDrawCount && this._preDrawCount++
                };
        return f
    }();
    e.Profiler = f;
    f.prototype.__class__ = "egret.Profiler"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this._timeScale = 1;
            this._paused = !1;
            this._callIndex = -1;
            this.callBackList = [];
            null != d.instance && e.Logger.fatalWithErrorId(1002)
        }
        __extends(d, f);
        var b = d.prototype;
        b.run = function () {
            e.__START_TIME = (new Date).getTime();
            e.MainContext.instance.deviceContext.executeMainLoop(this.update, this)
        };
        b.update = function (a) {
            if (!this._paused) {
                a *= this._timeScale;
                a *= this._timeScale;
                this._callList = this.callBackList.concat();
                for (this._callIndex = 0; this._callIndex < this._callList.length; this._callIndex++) {
                    var c =
                            this._callList[this._callIndex];
                    c.listener.call(c.thisObject, a)
                }
                this._callIndex = -1;
                this._callList = null
            }
        };
        b.register = function (a, c, h) {
            void 0 === h && (h = 0);
            this._insertEventBin(this.callBackList, a, c, h)
        };
        b.unregister = function (a, c) {
            this._removeEventBin(this.callBackList, a, c);
            this._callList && -1 < this._callIndex && this._removeEventBin(this._callList, a, c, null, this._callIndex + 1)
        };
        b.setTimeout = function (a, c, h) {
            for (var b = [], d = 3; d < arguments.length; d++)
                b[d - 3] = arguments[d];
            e.Logger.warningWithErrorId(1003);
            e.setTimeout.apply(null, [a, c, h].concat(b))
        };
        b.setTimeScale = function (a) {
            this._timeScale = a
        };
        b.getTimeScale = function () {
            return this._timeScale
        };
        b.pause = function () {
            this._paused = !0
        };
        b.resume = function () {
            this._paused = !1
        };
        d.getInstance = function () {
            null == d.instance && (d.instance = new d);
            return d.instance
        };
        return d
    }(e.EventDispatcher);
    e.Ticker = f;
    f.prototype.__class__ = "egret.Ticker"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function e() {
        }
        e.LEFT = "left";
        e.RIGHT = "right";
        e.CENTER = "center";
        e.JUSTIFY = "justify";
        e.CONTENT_JUSTIFY = "contentJustify";
        return e
    }();
    e.HorizontalAlign = f;
    f.prototype.__class__ = "egret.HorizontalAlign"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function e() {
        }
        e.TOP = "top";
        e.BOTTOM = "bottom";
        e.MIDDLE = "middle";
        e.JUSTIFY = "justify";
        e.CONTENT_JUSTIFY = "contentJustify";
        return e
    }();
    e.VerticalAlign = f;
    f.prototype.__class__ = "egret.VerticalAlign"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d(a, c) {
            void 0 === c && (c = 0);
            f.call(this);
            this._currentCount = 0;
            this._running = !1;
            this.lastTime = 0;
            this.delay = a;
            this.repeatCount = c
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "currentCount", {
            get: function () {
                return this._currentCount
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "running", {
            get: function () {
                return this._running
            },
            enumerable: !0,
            configurable: !0
        });
        b.reset = function () {
            this.stop();
            this._currentCount = 0
        };
        b.start = function () {
            this._running ||
                    (this.lastTime = e.getTimer(), e.Ticker.getInstance().register(this.onEnterFrame, this), this._running = !0)
        };
        b.stop = function () {
            this._running && (e.Ticker.getInstance().unregister(this.onEnterFrame, this), this._running = !1)
        };
        b.onEnterFrame = function (a) {
            a = e.getTimer();
            a - this.lastTime > this.delay && (this.lastTime = a, this._currentCount++, e.TimerEvent.dispatchTimerEvent(this, e.TimerEvent.TIMER), 0 < this.repeatCount && this._currentCount >= this.repeatCount && (this.stop(), e.TimerEvent.dispatchTimerEvent(this, e.TimerEvent.TIMER_COMPLETE)))
        };
        return d
    }(e.EventDispatcher);
    e.Timer = f;
    f.prototype.__class__ = "egret.Timer"
})(egret || (egret = {}));
(function (e) {
    function f(e) {
        e = e.prototype ? e.prototype : Object.getPrototypeOf(e);
        if (e.hasOwnProperty("__class__"))
            return e.__class__;
        var d = e.constructor.toString(),
                b = d.indexOf("("),
                d = d.substring(9, b);
        Object.defineProperty(e, "__class__", {
            value: d,
            enumerable: !1,
            writable: !0
        });
        return d
    }
    e.getQualifiedClassName = f;
    e.getQualifiedSuperclassName = function (e) {
        e = e.prototype ? e.prototype : Object.getPrototypeOf(e);
        if (e.hasOwnProperty("__superclass__"))
            return e.__superclass__;
        var d = Object.getPrototypeOf(e);
        if (null == d)
            return null;
        d = f(d.constructor);
        if (!d)
            return null;
        Object.defineProperty(e, "__superclass__", {
            value: d,
            enumerable: !1,
            writable: !0
        });
        return d
    }
})(egret || (egret = {}));
(function (e) {
    var f = {};
    e.getDefinitionByName = function (e) {
        if (!e)
            return null;
        var d = f[e];
        if (d)
            return d;
        for (var b = e.split("."), a = b.length, d = __global, c = 0; c < a; c++)
            if (d = d[b[c]], !d)
                return null;
        return f[e] = d
    }
})(egret || (egret = {}));
var __global = __global || this;
(function (e) {
    function f(b) {
        for (var a in g) {
            var c = g[a];
            c.delay -= b;
            0 >= c.delay && (c.listener.apply(c.thisObject, c.params), delete g[a])
        }
    }
    var g = {},
            d = 0;
    e.setTimeout = function (b, a, c) {
        for (var h = [], G = 3; G < arguments.length; G++)
            h[G - 3] = arguments[G];
        h = {
            listener: b,
            thisObject: a,
            delay: c,
            params: h
        };
        0 == d && e.Ticker.getInstance().register(f, null);
        d++;
        g[d] = h;
        return d
    };
    e.clearTimeout = function (b) {
        delete g[b]
    }
})(egret || (egret = {}));
(function (e) {
    e.hasDefinition = function (f) {
        return e.getDefinitionByName(f) ? !0 : !1
    }
})(egret || (egret = {}));
(function (e) {
    e.toColorString = function (e) {
        if (isNaN(e) || 0 > e)
            e = 0;
        16777215 < e && (e = 16777215);
        for (e = e.toString(16).toUpperCase(); 6 > e.length; )
            e = "0" + e;
        return "#" + e
    }
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d(a, c, h, b, d, e) {
            void 0 === a && (a = 1);
            void 0 === c && (c = 0);
            void 0 === h && (h = 0);
            void 0 === b && (b = 1);
            void 0 === d && (d = 0);
            void 0 === e && (e = 0);
            f.call(this);
            this.a = a;
            this.b = c;
            this.c = h;
            this.d = b;
            this.tx = d;
            this.ty = e
        }
        __extends(d, f);
        var b = d.prototype;
        b.prepend = function (a, c, h, b, d, e) {
            var f = this.tx;
            if (1 != a || 0 != c || 0 != h || 1 != b) {
                var g = this.a,
                        k = this.c;
                this.a = g * a + this.b * h;
                this.b = g * c + this.b * b;
                this.c = k * a + this.d * h;
                this.d = k * c + this.d * b
            }
            this.tx = f * a + this.ty * h + d;
            this.ty = f * c + this.ty * b + e;
            return this
        };
        b.append = function (a, c, h, b, d, e) {
            var f = this.a,
                    g = this.b,
                    k = this.c,
                    m = this.d;
            if (1 != a || 0 != c || 0 != h || 1 != b)
                this.a = a * f + c * k, this.b = a * g + c * m, this.c = h * f + b * k, this.d = h * g + b * m;
            this.tx = d * f + e * k + this.tx;
            this.ty = d * g + e * m + this.ty;
            return this
        };
        b.prependTransform = function (a, c, h, b, d, f, g, l, k) {
            if (d % 360) {
                var m = e.NumberUtils.cos(d);
                d = e.NumberUtils.sin(d)
            } else
                m = 1, d = 0;
            if (l || k)
                this.tx -= l, this.ty -= k;
            f || g ? (this.prepend(m * h, d * h, -d * b, m * b, 0, 0), this.prepend(e.NumberUtils.cos(g), e.NumberUtils.sin(g), -e.NumberUtils.sin(f), e.NumberUtils.cos(f),
                    a, c)) : this.prepend(m * h, d * h, -d * b, m * b, a, c);
            return this
        };
        b.appendTransform = function (a, c, h, b, d, f, g, l, k) {
            if (d % 360) {
                var m = e.NumberUtils.cos(d);
                d = e.NumberUtils.sin(d)
            } else
                m = 1, d = 0;
            f || g ? (this.append(e.NumberUtils.cos(g), e.NumberUtils.sin(g), -e.NumberUtils.sin(f), e.NumberUtils.cos(f), a, c), this.append(m * h, d * h, -d * b, m * b, 0, 0)) : this.append(m * h, d * h, -d * b, m * b, a, c);
            if (l || k)
                this.tx -= l * this.a + k * this.c, this.ty -= l * this.b + k * this.d;
            return this
        };
        b.rotate = function (a) {
            var c = Math.cos(a);
            a = Math.sin(a);
            var h = this.a,
                    b = this.c,
                    d =
                    this.tx;
            this.a = h * c - this.b * a;
            this.b = h * a + this.b * c;
            this.c = b * c - this.d * a;
            this.d = b * a + this.d * c;
            this.tx = d * c - this.ty * a;
            this.ty = d * a + this.ty * c;
            return this
        };
        b.skew = function (a, c) {
            this.append(e.NumberUtils.cos(c), e.NumberUtils.sin(c), -e.NumberUtils.sin(a), e.NumberUtils.cos(a), 0, 0);
            return this
        };
        b.scale = function (a, c) {
            this.a *= a;
            this.d *= c;
            this.c *= a;
            this.b *= c;
            this.tx *= a;
            this.ty *= c;
            return this
        };
        b.translate = function (a, c) {
            this.tx += a;
            this.ty += c;
            return this
        };
        b.identity = function () {
            this.a = this.d = 1;
            this.b = this.c = this.tx = this.ty =
                    0;
            return this
        };
        b.identityMatrix = function (a) {
            this.a = a.a;
            this.b = a.b;
            this.c = a.c;
            this.d = a.d;
            this.tx = a.tx;
            this.ty = a.ty;
            return this
        };
        b.invert = function () {
            var a = this.a,
                    c = this.b,
                    h = this.c,
                    b = this.d,
                    d = this.tx,
                    e = a * b - c * h;
            this.a = b / e;
            this.b = -c / e;
            this.c = -h / e;
            this.d = a / e;
            this.tx = (h * this.ty - b * d) / e;
            this.ty = -(a * this.ty - c * d) / e;
            return this
        };
        d.transformCoords = function (a, c, h) {
            var b = e.Point.identity;
            b.x = a.a * c + a.c * h + a.tx;
            b.y = a.d * h + a.b * c + a.ty;
            return b
        };
        b.toArray = function (a) {
            this.array || (this.array = new Float32Array(9));
            a ? (this.array[0] =
                    this.a, this.array[1] = this.b, this.array[2] = 0, this.array[3] = this.c, this.array[4] = this.d, this.array[5] = 0, this.array[6] = this.tx, this.array[7] = this.ty) : (this.array[0] = this.a, this.array[1] = this.b, this.array[2] = this.tx, this.array[3] = this.c, this.array[4] = this.d, this.array[5] = this.ty, this.array[6] = 0, this.array[7] = 0);
            this.array[8] = 1;
            return this.array
        };
        d.identity = new d;
        d.DEG_TO_RAD = Math.PI / 180;
        return d
    }(e.HashObject);
    e.Matrix = f;
    f.prototype.__class__ = "egret.Matrix"
})(egret || (egret = {}));
(function (e) {
    var f = function (e) {
        function d(a, c) {
            void 0 === a && (a = 0);
            void 0 === c && (c = 0);
            e.call(this);
            this.x = a;
            this.y = c
        }
        __extends(d, e);
        var b = d.prototype;
        b.clone = function () {
            return new d(this.x, this.y)
        };
        b.equals = function (a) {
            return this.x == a.x && this.y == a.y
        };
        d.distance = function (a, c) {
            return Math.sqrt((a.x - c.x) * (a.x - c.x) + (a.y - c.y) * (a.y - c.y))
        };
        d.identity = new d(0, 0);
        return d
    }(e.HashObject);
    e.Point = f;
    f.prototype.__class__ = "egret.Point"
})(egret || (egret = {}));
(function (e) {
    var f = function (e) {
        function d(a, c, h, b) {
            void 0 === a && (a = 0);
            void 0 === c && (c = 0);
            void 0 === h && (h = 0);
            void 0 === b && (b = 0);
            e.call(this);
            this.x = a;
            this.y = c;
            this.width = h;
            this.height = b
        }
        __extends(d, e);
        var b = d.prototype;
        Object.defineProperty(b, "right", {
            get: function () {
                return this.x + this.width
            },
            set: function (a) {
                this.width = a - this.x
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "bottom", {
            get: function () {
                return this.y + this.height
            },
            set: function (a) {
                this.height = a - this.y
            },
            enumerable: !0,
            configurable: !0
        });
        b.initialize = function (a, c, h, b) {
            this.x = a;
            this.y = c;
            this.width = h;
            this.height = b;
            return this
        };
        b.contains = function (a, c) {
            return this.x <= a && this.x + this.width >= a && this.y <= c && this.y + this.height >= c
        };
        b.intersects = function (a) {
            return Math.max(this.x, a.x) <= Math.min(this.right, a.right) && Math.max(this.y, a.y) <= Math.min(this.bottom, a.bottom)
        };
        b.setEmpty = function () {
            this.height = this.width = this.y = this.x = 0
        };
        b.clone = function () {
            return new d(this.x, this.y, this.width, this.height)
        };
        b.containsPoint = function (a) {
            return this.x <
                    a.x && this.x + this.width > a.x && this.y < a.y && this.y + this.height > a.y ? !0 : !1
        };
        d.identity = new d(0, 0, 0, 0);
        return d
    }(e.HashObject);
    e.Rectangle = f;
    f.prototype.__class__ = "egret.Rectangle"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this._isSupportDOMParser = this._xmlDict = this._parser = null;
            this._xmlDict = {};
            window.DOMParser ? (this._isSupportDOMParser = !0, this._parser = new DOMParser) : this._isSupportDOMParser = !1
        }
        __extends(d, f);
        var b = d.prototype;
        d.getInstance = function () {
            d._instance || (d._instance = new d);
            return d._instance
        };
        b.parserXML = function (a) {
            for (var c = 0;
                    "\n" == a.charAt(c) || "\t" == a.charAt(c) || "\r" == a.charAt(c) || " " == a.charAt(c); )
                c++;
            0 != c && (a = a.substring(c, a.length));
            this._isSupportDOMParser ?
                    c = this._parser.parseFromString(a, "text/xml") : (c = new ActiveXObject("Microsoft.XMLDOM"), c.async = "false", c.loadXML(a));
            null == c && e.Logger.infoWithErrorId(1015);
            return c
        };
        d._instance = null;
        return d
    }(e.HashObject);
    e.SAXParser = f;
    f.prototype.__class__ = "egret.SAXParser"
})(egret || (egret = {}));
(function (e) {
    var f = function (c) {
        function a() {
            c.call(this);
            this._designHeight = this._designWidth = 0;
            this._scaleY = this._scaleX = 1;
            this._stageHeight = this._stageWidth = this._offSetY = 0
        }
        __extends(a, c);
        var b = a.prototype;
        a.getInstance = function () {
            null == a.instance && (d.initialize(), a.instance = new a);
            return a.instance
        };
        b.setDesignSize = function (c, a, h) {
            this._designWidth = c;
            this._designHeight = a;
            h && (e.Logger.warningWithErrorId(1001), this._setResolutionPolicy(h))
        };
        b._setResolutionPolicy = function (c) {
            this._resolutionPolicy =
                    c;
            c.init(this);
            c._apply(this, this._designWidth, this._designHeight)
        };
        b.getScaleX = function () {
            return this._scaleX
        };
        b.getScaleY = function () {
            return this._scaleY
        };
        b.getOffSetY = function () {
            return this._offSetY
        };
        a.canvas_name = "egretCanvas";
        a.egret_root_div = "gameDiv";
        a.canvas_div_name = "canvasDiv";
        return a
    }(e.HashObject);
    e.StageDelegate = f;
    f.prototype.__class__ = "egret.StageDelegate";
    var g = function () {
        function c(c, a) {
            this._containerStrategy = c;
            this._contentStrategy = a
        }
        var a = c.prototype;
        a.init = function (c) {
            this._containerStrategy.init(c);
            this._contentStrategy.init(c)
        };
        a._apply = function (c, a, h) {
            this._containerStrategy._apply(c, a, h);
            this._contentStrategy._apply(c, a, h)
        };
        return c
    }();
    e.ResolutionPolicy = g;
    g.prototype.__class__ = "egret.ResolutionPolicy";
    var d = function () {
        function c() {
        }
        var a = c.prototype;
        c.initialize = function () {
            c.EQUAL_TO_FRAME = new b
        };
        a.init = function (c) {
        };
        a._apply = function (c, a, h) {
        };
        a._setupContainer = function () {
            var c = document.body,
                    a;
            c && (a = c.style) && (a.paddingTop = a.paddingTop || "0px", a.paddingRight = a.paddingRight || "0px", a.paddingBottom =
                    a.paddingBottom || "0px", a.paddingLeft = a.paddingLeft || "0px", a.borderTop = a.borderTop || "0px", a.borderRight = a.borderRight || "0px", a.borderBottom = a.borderBottom || "0px", a.borderLeft = a.borderLeft || "0px", a.marginTop = a.marginTop || "0px", a.marginRight = a.marginRight || "0px", a.marginBottom = a.marginBottom || "0px", a.marginLeft = a.marginLeft || "0px")
        };
        return c
    }();
    e.ContainerStrategy = d;
    d.prototype.__class__ = "egret.ContainerStrategy";
    var b = function (c) {
        function a() {
            c.apply(this, arguments)
        }
        __extends(a, c);
        a.prototype._apply =
                function (c) {
                    this._setupContainer()
                };
        return a
    }(d);
    e.EqualToFrame = b;
    b.prototype.__class__ = "egret.EqualToFrame";
    g = function () {
        function c() {
        }
        var a = c.prototype;
        a.init = function (c) {
        };
        a._apply = function (c, a, h) {
        };
        a.setEgretSize = function (c, a, h, b, d, g) {
            void 0 === g && (g = 0);
            e.StageDelegate.getInstance()._stageWidth = Math.round(c);
            e.StageDelegate.getInstance()._stageHeight = Math.round(a);
            c = document.getElementById(f.canvas_div_name);
            a = document.getElementById(f.egret_root_div);
            c || (c = e.Browser.getInstance().$new("div"),
                    c.id = f.canvas_div_name, a.appendChild(c));
            c.style.width = h + "px";
            c.style.height = b + "px";
            a.style.width = h + "px";
            a.style.height = b + "px";
            a.style.top = g + "px"
        };
        a._getClientWidth = function () {
            return document.documentElement.clientWidth
        };
        a._getClientHeight = function () {
            return document.documentElement.clientHeight
        };
        return c
    }();
    e.ContentStrategy = g;
    g.prototype.__class__ = "egret.ContentStrategy";
    var a = function (c) {
        function a(h) {
            void 0 === h && (h = 0);
            c.call(this);
            this.minWidth = NaN;
            this.minWidth = h
        }
        __extends(a, c);
        a.prototype._apply =
                function (c, a, h) {
                    a = this._getClientWidth();
                    var b = this._getClientHeight(),
                            d = b / h,
                            e = a / d,
                            f = 1;
                    0 != this.minWidth && (f = Math.min(1, e / this.minWidth));
                    this.setEgretSize(e / f, h, a, b * f);
                    c._scaleX = d * f;
                    c._scaleY = d * f
                };
        return a
    }(g);
    e.FixedHeight = a;
    a.prototype.__class__ = "egret.FixedHeight";
    a = function (c) {
        function a(h) {
            void 0 === h && (h = 0);
            c.call(this);
            this.minHeight = NaN;
            this.minHeight = h
        }
        __extends(a, c);
        a.prototype._apply = function (c, a, h) {
            h = this._getClientWidth();
            var b = this._getClientHeight(),
                    d = h / a,
                    e = b / d,
                    f = 1;
            0 != this.minHeight &&
                    (f = Math.min(1, e / this.minHeight));
            this.setEgretSize(a, e / f, h * f, b, h * (1 - f) / 2);
            c._scaleX = d * f;
            c._scaleY = d * f
        };
        return a
    }(g);
    e.FixedWidth = a;
    a.prototype.__class__ = "egret.FixedWidth";
    a = function (c) {
        function a(h, b) {
            c.call(this);
            this.width = h;
            this.height = b
        }
        __extends(a, c);
        a.prototype._apply = function (c, a, h) {
            h = this.width;
            var b = this.height,
                    d = h / a;
            this.setEgretSize(a, b / d, h, b);
            c._scaleX = d;
            c._scaleY = d
        };
        return a
    }(g);
    e.FixedSize = a;
    a.prototype.__class__ = "egret.FixedSize";
    a = function (c) {
        function a() {
            c.call(this)
        }
        __extends(a,
                c);
        a.prototype._apply = function (c, a, h) {
            this.setEgretSize(a, h, a, h, Math.floor((a - a) / 2));
            c._scaleX = 1;
            c._scaleY = 1
        };
        return a
    }(g);
    e.NoScale = a;
    a.prototype.__class__ = "egret.NoScale";
    a = function (c) {
        function a() {
            c.call(this)
        }
        __extends(a, c);
        a.prototype._apply = function (c, a, h) {
            var b = this._getClientWidth(),
                    d = this._getClientHeight(),
                    e = b,
                    f = d,
                    g = e / a < f / h ? e / a : f / h,
                    e = a * g,
                    f = h * g,
                    b = Math.floor((b - e) / 2);
            c._offSetY = Math.floor((d - f) / 2);
            this.setEgretSize(a, h / 1, 1 * e, f, b, c._offSetY);
            c._scaleX = 1 * g;
            c._scaleY = 1 * g
        };
        return a
    }(g);
    e.ShowAll =
            a;
    a.prototype.__class__ = "egret.ShowAll";
    g = function (c) {
        function a() {
            c.call(this)
        }
        __extends(a, c);
        a.prototype._apply = function (c, a, h) {
            var b = this._getClientWidth(),
                    d = this._getClientHeight(),
                    b = b / a,
                    d = d / h;
            this.setEgretSize(a, h, a * b, h * d);
            c._scaleX = b;
            c._scaleY = d
        };
        return a
    }(g);
    e.FullScreen = g;
    g.prototype.__class__ = "egret.FullScreen"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this._originalData = {};
            this._drawAreaList = []
        }
        __extends(d, f);
        var b = d.prototype;
        d.getInstance = function () {
            null == d.instance && (d.instance = new d);
            return d.instance
        };
        b.addDrawArea = function (a) {
            this._drawAreaList.push(a)
        };
        b.clearDrawArea = function () {
            this._drawAreaList = []
        };
        b.drawImage = function (a, c, h, b, f, g, r, l, k, m, n) {
            void 0 === n && (n = void 0);
            r = r || 0;
            l = l || 0;
            var p = c._texture_to_render;
            if (null != p && 0 != g && 0 != f && 0 != k && 0 != m) {
                var q = e.MainContext.instance.rendererContext._texture_scale_factor;
                f /= q;
                g /= q;
                if (0 != this._drawAreaList.length && e.MainContext.instance.rendererContext._cacheCanvasContext) {
                    q = e.DisplayObject.getTransformBounds(c._getSize(d.identityRectangle), c._worldTransform);
                    c._worldBounds.initialize(q.x, q.y, q.width, q.height);
                    q = this._originalData;
                    q.sourceX = h;
                    q.sourceY = b;
                    q.sourceWidth = f;
                    q.sourceHeight = g;
                    q.destX = r;
                    q.destY = l;
                    q.destWidth = k;
                    q.destHeight = m;
                    for (var u = this.getDrawAreaList(), y = 0; y < u.length; y++)
                        if (!this.ignoreRender(c, u[y], q.destX, q.destY)) {
                            a.drawImage(p, h, b, f, g, r, l, k, m, n);
                            break
                        }
                } else
                    a.drawImage(p, h, b, f, g, r, l, k, m, n)
            }
        };
        b.ignoreRender = function (a, c, h, b) {
            var d = a._worldBounds;
            h *= a._worldTransform.a;
            b *= a._worldTransform.d;
            return d.x + d.width + h <= c.x || d.x + h >= c.x + c.width || d.y + d.height + b <= c.y || d.y + b >= c.y + c.height ? !0 : !1
        };
        b.getDrawAreaList = function () {
            var a;
            0 == this._drawAreaList.length ? (this._defaultDrawAreaList || (this._defaultDrawAreaList = [new e.Rectangle(0, 0, e.MainContext.instance.stage.stageWidth, e.MainContext.instance.stage.stageHeight)], e.MainContext.instance.stage.addEventListener(e.Event.RESIZE,
                    this.onResize, this)), a = this._defaultDrawAreaList) : a = this._drawAreaList;
            return a
        };
        b.onResize = function () {
            e.MainContext.instance.stage.removeEventListener(e.Event.RESIZE, this.onResize, this);
            this._defaultDrawAreaList = null
        };
        d.identityRectangle = new e.Rectangle;
        return d
    }(e.HashObject);
    e.RenderFilter = f;
    f.prototype.__class__ = "egret.RenderFilter"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function f() {
        }
        f.mapClass = function (d, b, a) {
            void 0 === a && (a = "");
            d = this.getKey(d) + "#" + a;
            this.mapClassDic[d] = b
        };
        f.getKey = function (d) {
            return "string" == typeof d ? d : e.getQualifiedClassName(d)
        };
        f.mapValue = function (d, b, a) {
            void 0 === a && (a = "");
            d = this.getKey(d) + "#" + a;
            this.mapValueDic[d] = b
        };
        f.hasMapRule = function (d, b) {
            void 0 === b && (b = "");
            var a = this.getKey(d) + "#" + b;
            return this.mapValueDic[a] || this.mapClassDic[a] ? !0 : !1
        };
        f.getInstance = function (d, b) {
            void 0 === b && (b = "");
            var a = this.getKey(d) + "#" +
                    b;
            if (this.mapValueDic[a])
                return this.mapValueDic[a];
            var c = this.mapClassDic[a];
            if (c)
                return c = new c, this.mapValueDic[a] = c, delete this.mapClassDic[a], c;
            throw Error(e.getString(1028, a));
        };
        f.mapClassDic = {};
        f.mapValueDic = {};
        return f
    }();
    e.Injector = f;
    f.prototype.__class__ = "egret.Injector"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        return function () {
            this.type = null
        }
    }();
    e.Filter = f;
    f.prototype.__class__ = "egret.Filter"
})(egret || (egret = {}));
(function (e) {
    var f = function (e) {
        function d(b, a) {
            e.call(this);
            this.blurX = b;
            this.blurY = a;
            this.type = "blur"
        }
        __extends(d, e);
        return d
    }(e.Filter);
    e.BlurFilter = f;
    f.prototype.__class__ = "egret.BlurFilter"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function e() {
        }
        e.NORMAL = "normal";
        e.ADD = "add";
        e.ERASE = "erase";
        e.ERASE_REVERSE = "eraseReverse";
        return e
    }();
    e.BlendMode = f;
    f.prototype.__class__ = "egret.BlendMode"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        return function () {
            this._name = null;
            this._explicitHeight = this._explicitWidth = NaN;
            this._y = this._x = 0;
            this._scaleY = this._scaleX = 1;
            this._rotation = this._anchorY = this._anchorX = this._anchorOffsetY = this._anchorOffsetX = 0;
            this._alpha = 1;
            this._skewY = this._skewX = 0;
            this._blendMode = null;
            this._touchEnabled = !1;
            this._visible = !0;
            this._worldAlpha = 1;
            this._scrollRect = null;
            this._cacheAsBitmap = !1;
            this._stage = this._parent = null;
            this._needDraw = !1;
            this._filter = this._colorTransform = null;
            this._hasHeightSet =
                    this._hasWidthSet = !1;
            this._sizeDirty = this._normalDirty = !0;
            this._isContainer = !1
        }
    }();
    e.DisplayObjectProperties = f;
    f.prototype.__class__ = "egret.DisplayObjectProperties"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        return function () {
            this._hitTestPointTexture = null;
            this._rectH = this._rectW = 0;
            this._cacheDirty = !1
        }
    }();
    e.DisplayObjectPrivateProperties = f;
    f.prototype.__class__ = "egret.DisplayObjectPrivateProperties"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this.renderTexture = this.mask = this._sizeChangeCallTarget = this._sizeChangeCallBack = this.__hack_local_matrix = this._worldBounds = this._texture_to_render = null;
            this._DO_Props_ = new e.DisplayObjectProperties;
            this._DO_Privs_ = new e.DisplayObjectPrivateProperties;
            this._worldTransform = new e.Matrix;
            this._worldBounds = new e.Rectangle(0, 0, 0, 0);
            this._DO_Privs_._cacheBounds = new e.Rectangle(0, 0, 0, 0)
        }
        __extends(d, f);
        var b = d.prototype;
        b._setDirty = function () {
            this._DO_Props_._normalDirty = !0
        };
        b.getDirty = function () {
            return this._DO_Props_._normalDirty || this._DO_Props_._sizeDirty
        };
        b._setParentSizeDirty = function () {
            var a = this._DO_Props_._parent;
            a && (a._DO_Props_._hasWidthSet || a._DO_Props_._hasHeightSet ? a._setCacheDirty() : a._setSizeDirty())
        };
        b._setSizeDirty = function () {
            var a = this._DO_Props_;
            a._sizeDirty || (a._sizeDirty = !0, this._setDirty(), this._setCacheDirty(), this._setParentSizeDirty(), null != this._sizeChangeCallBack && (this._sizeChangeCallTarget == a._parent ? this._sizeChangeCallBack.call(this._sizeChangeCallTarget) :
                    this._sizeChangeCallTarget = this._sizeChangeCallBack = null))
        };
        b._clearDirty = function () {
            this._DO_Props_._normalDirty = !1
        };
        b._clearSizeDirty = function () {
            this._DO_Props_._sizeDirty = !1
        };
        Object.defineProperty(b, "name", {
            get: function () {
                return this._DO_Props_._name
            },
            set: function (a) {
                this._DO_Props_._name = a
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "parent", {
            get: function () {
                return this._DO_Props_._parent
            },
            enumerable: !0,
            configurable: !0
        });
        b._parentChanged = function (a) {
            this._DO_Props_._parent = a
        };
        Object.defineProperty(b,
                "x", {
                    get: function () {
                        return this._DO_Props_._x
                    },
                    set: function (a) {
                        this._setX(a)
                    },
                    enumerable: !0,
                    configurable: !0
                });
        b._setX = function (a) {
            e.NumberUtils.isNumber(a) && this._DO_Props_._x != a && (this._DO_Props_._x = a, this._setDirty(), this._setParentSizeDirty())
        };
        Object.defineProperty(b, "y", {
            get: function () {
                return this._DO_Props_._y
            },
            set: function (a) {
                this._setY(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setY = function (a) {
            e.NumberUtils.isNumber(a) && this._DO_Props_._y != a && (this._DO_Props_._y = a, this._setDirty(), this._setParentSizeDirty())
        };
        Object.defineProperty(b, "scaleX", {
            get: function () {
                return this._DO_Props_._scaleX
            },
            set: function (a) {
                e.NumberUtils.isNumber(a) && this._DO_Props_._scaleX != a && (this._DO_Props_._scaleX = a, this._setDirty(), this._setParentSizeDirty())
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "scaleY", {
            get: function () {
                return this._DO_Props_._scaleY
            },
            set: function (a) {
                e.NumberUtils.isNumber(a) && this._DO_Props_._scaleY != a && (this._DO_Props_._scaleY = a, this._setDirty(), this._setParentSizeDirty())
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "anchorOffsetX", {
            get: function () {
                return this._DO_Props_._anchorOffsetX
            },
            set: function (a) {
                e.NumberUtils.isNumber(a) && this._DO_Props_._anchorOffsetX != a && (this._DO_Props_._anchorOffsetX = a, this._setDirty(), this._setParentSizeDirty())
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "anchorOffsetY", {
            get: function () {
                return this._DO_Props_._anchorOffsetY
            },
            set: function (a) {
                e.NumberUtils.isNumber(a) && this._DO_Props_._anchorOffsetY != a && (this._DO_Props_._anchorOffsetY = a, this._setDirty(),
                        this._setParentSizeDirty())
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "anchorX", {
            get: function () {
                return this._DO_Props_._anchorX
            },
            set: function (a) {
                this._setAnchorX(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setAnchorX = function (a) {
            e.NumberUtils.isNumber(a) && this._DO_Props_._anchorX != a && (this._DO_Props_._anchorX = a, this._setDirty(), this._setParentSizeDirty())
        };
        Object.defineProperty(b, "anchorY", {
            get: function () {
                return this._DO_Props_._anchorY
            },
            set: function (a) {
                this._setAnchorY(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setAnchorY = function (a) {
            e.NumberUtils.isNumber(a) && this._DO_Props_._anchorY != a && (this._DO_Props_._anchorY = a, this._setDirty(), this._setParentSizeDirty())
        };
        Object.defineProperty(b, "visible", {
            get: function () {
                return this._DO_Props_._visible
            },
            set: function (a) {
                this._setVisible(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setVisible = function (a) {
            this._DO_Props_._visible != a && (this._DO_Props_._visible = a, this._setSizeDirty())
        };
        Object.defineProperty(b, "rotation", {
            get: function () {
                return this._DO_Props_._rotation
            },
            set: function (a) {
                e.NumberUtils.isNumber(a) && this._DO_Props_._rotation != a && (this._DO_Props_._rotation = a, this._setDirty(), this._setParentSizeDirty())
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "alpha", {
            get: function () {
                return this._DO_Props_._alpha
            },
            set: function (a) {
                this._setAlpha(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setAlpha = function (a) {
            e.NumberUtils.isNumber(a) && this._DO_Props_._alpha != a && (this._DO_Props_._alpha = a, this._setDirty(), this._setCacheDirty())
        };
        Object.defineProperty(b, "skewX", {
            get: function () {
                return this._DO_Props_._skewX
            },
            set: function (a) {
                e.NumberUtils.isNumber(a) && this._DO_Props_._skewX != a && (this._DO_Props_._skewX = a, this._setDirty(), this._setParentSizeDirty())
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "skewY", {
            get: function () {
                return this._DO_Props_._skewY
            },
            set: function (a) {
                e.NumberUtils.isNumber(a) && this._DO_Props_._skewY != a && (this._DO_Props_._skewY = a, this._setDirty(), this._setParentSizeDirty())
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "touchEnabled", {
            get: function () {
                return this._DO_Props_._touchEnabled
            },
            set: function (a) {
                this._setTouchEnabled(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setTouchEnabled = function (a) {
            this._DO_Props_._touchEnabled = a
        };
        Object.defineProperty(b, "blendMode", {
            get: function () {
                return this._DO_Props_._blendMode
            },
            set: function (a) {
                this._DO_Props_._blendMode = a
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "scrollRect", {
            get: function () {
                return this._DO_Props_._scrollRect
            },
            set: function (a) {
                this._setScrollRect(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setScrollRect = function (a) {
            this._DO_Props_._scrollRect = a;
            this._setSizeDirty()
        };
        Object.defineProperty(b, "measuredWidth", {
            get: function () {
                return this._measureBounds().width
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "measuredHeight", {
            get: function () {
                return this._measureBounds().height
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "explicitWidth", {
            get: function () {
                return this._DO_Props_._explicitWidth
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "explicitHeight", {
            get: function () {
                return this._DO_Props_._explicitHeight
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "width", {
            get: function () {
                return this._getWidth()
            },
            set: function (a) {
                this._setWidth(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._getWidth = function () {
            return this._getSize(e.Rectangle.identity).width
        };
        Object.defineProperty(b, "height", {
            get: function () {
                return this._getHeight()
            },
            set: function (a) {
                this._setHeight(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._getHeight = function () {
            return this._getSize(e.Rectangle.identity).height
        };
        b._setWidth = function (a) {
            this._setSizeDirty();
            this._setCacheDirty();
            this._DO_Props_._explicitWidth = a;
            this._DO_Props_._hasWidthSet = e.NumberUtils.isNumber(a)
        };
        b._setHeight = function (a) {
            this._setSizeDirty();
            this._setCacheDirty();
            this._DO_Props_._explicitHeight = a;
            this._DO_Props_._hasHeightSet = e.NumberUtils.isNumber(a)
        };
        Object.defineProperty(b, "worldAlpha", {
            get: function () {
                return this._DO_Props_._worldAlpha
            },
            set: function (a) {
                this._DO_Props_._worldAlpha = a
            },
            enumerable: !0,
            configurable: !0
        });
        b._draw = function (a) {
            if (this._DO_Props_._visible && !this.drawCacheTexture(a)) {
                var c =
                        e.MainContext.__use_new_draw && this._DO_Props_._isContainer;
                this._DO_Props_._filter && !c && a.setGlobalFilter(this._DO_Props_._filter);
                this._DO_Props_._colorTransform && !c && a.setGlobalColorTransform(this._DO_Props_._colorTransform.matrix);
                a.setAlpha(this.worldAlpha, this.blendMode);
                a.setTransform(this._worldTransform);
                var h = this.mask || this._DO_Props_._scrollRect;
                h && !c && a.pushMask(h);
                this._render(a);
                h && !c && a.popMask();
                this._DO_Props_._colorTransform && !c && a.setGlobalColorTransform(null);
                this._DO_Props_._filter &&
                        !c && a.setGlobalFilter(null)
            }
            this.destroyCacheBounds()
        };
        b._setGlobalFilter = function (a) {
            a.setGlobalFilter(this._DO_Props_._filter)
        };
        b._removeGlobalFilter = function (a) {
            a.setGlobalFilter(null)
        };
        b._setGlobalColorTransform = function (a) {
            a.setGlobalColorTransform(this._DO_Props_._colorTransform.matrix)
        };
        b._removeGlobalColorTransform = function (a) {
            a.setGlobalColorTransform(null)
        };
        b._pushMask = function (a) {
            a.setTransform(this._worldTransform);
            var c = this.mask || this._DO_Props_._scrollRect;
            c && a.pushMask(c)
        };
        b._popMask =
                function (a) {
                    a.popMask()
                };
        b.drawCacheTexture = function (a) {
            if (!1 == this._DO_Props_._cacheAsBitmap)
                return !1;
            var c = this.getBounds(e.Rectangle.identity);
            if (this._DO_Privs_._cacheDirty || null == this._texture_to_render || 1 <= Math.round(c.width) - this._texture_to_render._textureWidth || 1 <= Math.round(c.height) - this._texture_to_render._textureHeight)
                c = this._makeBitmapCache(), this._DO_Privs_._cacheDirty = !c;
            if (null == this._texture_to_render)
                return !1;
            var h = this._texture_to_render,
                    c = h._offsetX,
                    b = h._offsetY,
                    d = h._textureWidth,
                    h = h._textureHeight;
            this._updateTransform();
            a.setAlpha(this.worldAlpha, this.blendMode);
            a.setTransform(this._worldTransform);
            e.RenderFilter.getInstance().drawImage(a, this, 0, 0, d, h, c, b, d, h);
            return !0
        };
        Object.defineProperty(b, "needDraw", {
            get: function () {
                return this._DO_Props_._needDraw
            },
            set: function (a) {
                this._DO_Props_._needDraw = a
            },
            enumerable: !0,
            configurable: !0
        });
        b._updateTransform = function () {
            var a = this._DO_Props_;
            a._visible && (this._calculateWorldTransform(), "updateTransform" == e.MainContext._renderLoopPhase &&
                    (this.needDraw || this._texture_to_render || a._cacheAsBitmap) && e.RenderCommand.push(this._draw, this))
        };
        b._calculateWorldTransform = function () {
            var a = this._DO_Props_,
                    c = this._worldTransform,
                    h = a._parent;
            c.identityMatrix(h._worldTransform);
            this._getMatrix(c);
            var b = a._scrollRect;
            b && c.append(1, 0, 0, 1, -b.x, -b.y);
            this.worldAlpha = h.worldAlpha * a._alpha
        };
        b._render = function (a) {
        };
        b.getBounds = function (a, c) {
            void 0 === c && (c = !0);
            var h = this._DO_Props_,
                    b = this._DO_Privs_,
                    d = this._measureBounds(),
                    f = h._hasWidthSet ? h._explicitWidth :
                    d.width,
                    g = h._hasHeightSet ? h._explicitHeight : d.height;
            b._rectW = d.width;
            b._rectH = d.height;
            this._clearSizeDirty();
            var l = d.x,
                    d = d.y,
                    k = 0,
                    m = 0;
            c && (0 != h._anchorX || 0 != h._anchorY ? (k = f * h._anchorX, m = g * h._anchorY) : (k = h._anchorOffsetX, m = h._anchorOffsetY));
            b._cacheBounds.initialize(l - k, d - m, f, g);
            h = b._cacheBounds;
            a || (a = new e.Rectangle);
            return a.initialize(h.x, h.y, h.width, h.height)
        };
        b.destroyCacheBounds = function () {
            var a = this._DO_Privs_;
            a._cacheBounds.x = 0;
            a._cacheBounds.y = 0;
            a._cacheBounds.width = 0;
            a._cacheBounds.height =
                    0
        };
        b._getConcatenatedMatrix = function () {
            for (var a = d.identityMatrixForGetConcatenated.identity(), c = this; null != c; ) {
                var h = c._DO_Props_;
                0 != h._anchorX || 0 != h._anchorY ? (c = c._getSize(e.Rectangle.identity), a.prependTransform(h._x, h._y, h._scaleX, h._scaleY, h._rotation, h._skewX, h._skewY, c.width * h._anchorX, c.height * h._anchorY)) : a.prependTransform(h._x, h._y, h._scaleX, h._scaleY, h._rotation, h._skewX, h._skewY, h._anchorOffsetX, h._anchorOffsetY);
                h._scrollRect && a.prepend(1, 0, 0, 1, -h._scrollRect.x, -h._scrollRect.y);
                c = h._parent
            }
            return a
        };
        b.localToGlobal = function (a, c, h) {
            void 0 === a && (a = 0);
            void 0 === c && (c = 0);
            var b = this._getConcatenatedMatrix();
            b.append(1, 0, 0, 1, a, c);
            h || (h = new e.Point);
            h.x = b.tx;
            h.y = b.ty;
            return h
        };
        b.globalToLocal = function (a, c, h) {
            void 0 === a && (a = 0);
            void 0 === c && (c = 0);
            var b = this._getConcatenatedMatrix();
            b.invert();
            b.append(1, 0, 0, 1, a, c);
            h || (h = new e.Point);
            h.x = b.tx;
            h.y = b.ty;
            return h
        };
        b.hitTest = function (a, c, h) {
            void 0 === h && (h = !1);
            var b = this._DO_Props_;
            if (!b._visible || !h && !b._touchEnabled)
                return null;
            h = this.getBounds(e.Rectangle.identity, !1);
            a -= h.x;
            c -= h.y;
            return 0 <= a && a < h.width && 0 <= c && c < h.height ? this.mask || b._scrollRect ? b._scrollRect && a > b._scrollRect.x && c > b._scrollRect.y && a < b._scrollRect.x + b._scrollRect.width && c < b._scrollRect.y + b._scrollRect.height || this.mask && this.mask.x <= a && a < this.mask.x + this.mask.width && this.mask.y <= c && c < this.mask.y + this.mask.height ? this : null : this : null
        };
        b.hitTestPoint = function (a, c, h) {
            var b = this._DO_Privs_;
            a = this.globalToLocal(a, c);
            return h ? (b._hitTestPointTexture || (b._hitTestPointTexture = new e.RenderTexture), h =
                    b._hitTestPointTexture, h.drawToTexture(this), 0 != h.getPixel32(a.x - b._hitTestPointTexture._offsetX, a.y - b._hitTestPointTexture._offsetY)[3] ? !0 : !1) : !!this.hitTest(a.x, a.y, !0)
        };
        b._getMatrix = function (a) {
            a || (a = e.Matrix.identity.identity());
            var c = this._DO_Props_,
                    h, b;
            b = this._getOffsetPoint();
            h = b.x;
            b = b.y;
            var d = this.__hack_local_matrix;
            d ? (a.append(d.a, d.b, d.c, d.d, d.tx, d.ty), a.append(1, 0, 0, 1, -h, -b)) : a.appendTransform(c._x, c._y, c._scaleX, c._scaleY, c._rotation, c._skewX, c._skewY, h, b);
            return a
        };
        b._getSize = function (a) {
            var c =
                    this._DO_Props_;
            if (c._hasHeightSet && c._hasWidthSet)
                return this._clearSizeDirty(), a.initialize(0, 0, c._explicitWidth, c._explicitHeight);
            this._measureSize(a);
            c._hasWidthSet && (a.width = c._explicitWidth);
            c._hasHeightSet && (a.height = c._explicitHeight);
            return a
        };
        b._measureSize = function (a) {
            var c = this._DO_Privs_;
            this._DO_Props_._sizeDirty ? (a = this._measureBounds(), c._rectW = a.width, c._rectH = a.height, this._clearSizeDirty()) : (a.width = c._rectW, a.height = c._rectH);
            a.x = 0;
            a.y = 0;
            return a
        };
        b._measureBounds = function () {
            return e.Rectangle.identity.initialize(0,
                    0, 0, 0)
        };
        b._getOffsetPoint = function () {
            var a = this._DO_Props_,
                    c = a._anchorOffsetX,
                    h = a._anchorOffsetY;
            if (0 != a._anchorX || 0 != a._anchorY)
                h = this._getSize(e.Rectangle.identity), c = a._anchorX * h.width, h = a._anchorY * h.height;
            a = e.Point.identity;
            a.x = c;
            a.y = h;
            return a
        };
        b._onAddToStage = function () {
            this._DO_Props_._stage = e.MainContext.instance.stage;
            e.DisplayObjectContainer.__EVENT__ADD_TO_STAGE_LIST.push(this)
        };
        b._onRemoveFromStage = function () {
            e.DisplayObjectContainer.__EVENT__REMOVE_FROM_STAGE_LIST.push(this)
        };
        Object.defineProperty(b,
                "stage", {
                    get: function () {
                        return this._DO_Props_._stage
                    },
                    enumerable: !0,
                    configurable: !0
                });
        b.addEventListener = function (a, c, h, b, A) {
            void 0 === b && (b = !1);
            void 0 === A && (A = 0);
            f.prototype.addEventListener.call(this, a, c, h, b, A);
            ((b = a == e.Event.ENTER_FRAME) || a == e.Event.RENDER) && this._insertEventBin(b ? d._enterFrameCallBackList : d._renderCallBackList, c, h, A, this)
        };
        b.removeEventListener = function (a, c, h, b) {
            void 0 === b && (b = !1);
            f.prototype.removeEventListener.call(this, a, c, h, b);
            ((b = a == e.Event.ENTER_FRAME) || a == e.Event.RENDER) &&
                    this._removeEventBin(b ? d._enterFrameCallBackList : d._renderCallBackList, c, h, this)
        };
        b.dispatchEvent = function (a) {
            if (!a._bubbles)
                return f.prototype.dispatchEvent.call(this, a);
            for (var c = [], h = this; h; )
                c.push(h), h = h._DO_Props_._parent;
            a._reset();
            this._dispatchPropagationEvent(a, c);
            return !a._isDefaultPrevented
        };
        b._dispatchPropagationEvent = function (a, c, h) {
            h = c.length;
            for (var b = 1, d = h - 1; 0 <= d; d--) {
                var e = c[d];
                a._currentTarget = e;
                a._target = this;
                a._eventPhase = b;
                e._notifyListener(a);
                if (a._isPropagationStopped || a._isPropagationImmediateStopped)
                    return
            }
            e =
                    c[0];
            a._currentTarget = e;
            a._target = this;
            a._eventPhase = 2;
            e._notifyListener(a);
            if (!a._isPropagationStopped && !a._isPropagationImmediateStopped)
                for (b = 3, d = 1; d < h && (e = c[d], a._currentTarget = e, a._target = this, a._eventPhase = b, e._notifyListener(a), !a._isPropagationStopped && !a._isPropagationImmediateStopped); d++)
                    ;
        };
        b.willTrigger = function (a) {
            for (var c = this; c; ) {
                if (c.hasEventListener(a))
                    return !0;
                c = c._DO_Props_._parent
            }
            return !1
        };
        Object.defineProperty(b, "cacheAsBitmap", {
            get: function () {
                return this._DO_Props_._cacheAsBitmap
            },
            set: function (a) {
                (this._DO_Props_._cacheAsBitmap = a) ? e.callLater(this._makeBitmapCache, this) : this._texture_to_render = null
            },
            enumerable: !0,
            configurable: !0
        });
        b._makeBitmapCache = function () {
            this.renderTexture || (this.renderTexture = new e.RenderTexture);
            var a = this.renderTexture.drawToTexture(this);
            this._texture_to_render = a ? this.renderTexture : null;
            return a
        };
        b._setCacheDirty = function (a) {
            void 0 === a && (a = !0);
            this._DO_Privs_._cacheDirty = a
        };
        d.getTransformBounds = function (a, c) {
            var h = a.x,
                    b = a.y,
                    d = a.width,
                    e = a.height;
            (h ||
                    b) && c.appendTransform(0, 0, 1, 1, 0, 0, 0, -h, -b);
            var f = d * c.a,
                    d = d * c.b,
                    g = e * c.c,
                    e = e * c.d,
                    k = c.tx,
                    m = c.ty,
                    n = k,
                    p = k,
                    q = m,
                    u = m;
            (h = f + k) < n ? n = h : h > p && (p = h);
            (h = f + g + k) < n ? n = h : h > p && (p = h);
            (h = g + k) < n ? n = h : h > p && (p = h);
            (b = d + m) < q ? q = b : b > u && (u = b);
            (b = d + e + m) < q ? q = b : b > u && (u = b);
            (b = e + m) < q ? q = b : b > u && (u = b);
            return a.initialize(n, q, p - n, u - q)
        };
        Object.defineProperty(b, "colorTransform", {
            get: function () {
                return this._DO_Props_._colorTransform
            },
            set: function (a) {
                this._DO_Props_._colorTransform = a
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b,
                "filter", {
                    get: function () {
                        return this._DO_Props_._filter
                    },
                    set: function (a) {
                        this._DO_Props_._filter = a
                    },
                    enumerable: !0,
                    configurable: !0
                });
        d.identityMatrixForGetConcatenated = new e.Matrix;
        d._enterFrameCallBackList = [];
        d._renderCallBackList = [];
        return d
    }(e.EventDispatcher);
    e.DisplayObject = f;
    f.prototype.__class__ = "egret.DisplayObject";
    f = function () {
        function e() {
            this.matrix = null
        }
        e.prototype.updateColor = function (d, b, a, c, h, e, f, g) {
        };
        return e
    }();
    e.ColorTransform = f;
    f.prototype.__class__ = "egret.ColorTransform"
})(egret ||
        (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this._touchChildren = !0;
            this._children = [];
            this._DO_Props_._isContainer = !0
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "touchChildren", {
            get: function () {
                return this._touchChildren
            },
            set: function (a) {
                this._touchChildren = a
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "numChildren", {
            get: function () {
                return this._children.length
            },
            enumerable: !0,
            configurable: !0
        });
        b.setChildIndex = function (a, c) {
            this.doSetChildIndex(a, c)
        };
        b.doSetChildIndex =
                function (a, c) {
                    var h = this._children.indexOf(a);
                    0 > h && e.Logger.fatalWithErrorId(1006);
                    this._children.splice(h, 1);
                    0 > c || this._children.length <= c ? this._children.push(a) : this._children.splice(c, 0, a)
                };
        b.addChild = function (a) {
            var c = this._children.length;
            a.parent == this && c--;
            return this._doAddChild(a, c)
        };
        b.addChildAt = function (a, c) {
            return this._doAddChild(a, c)
        };
        b._doAddChild = function (a, c, h) {
            void 0 === h && (h = !0);
            if (a == this)
                return a;
            if (0 > c || c > this._children.length)
                return e.Logger.fatalWithErrorId(1007), a;
            var b = a.parent;
            if (b == this)
                return this.doSetChildIndex(a, c), a;
            if (b) {
                var f = b._children.indexOf(a);
                0 <= f && b._doRemoveChild(f)
            }
            this._children.splice(c, 0, a);
            a._parentChanged(this);
            h && a.dispatchEventWith(e.Event.ADDED, !0);
            if (this._DO_Props_._stage)
                for (a._onAddToStage(), c = d.__EVENT__ADD_TO_STAGE_LIST; 0 < c.length; )
                    b = c.shift(), h && b.dispatchEventWith(e.Event.ADDED_TO_STAGE);
            a._setDirty();
            this._setSizeDirty();
            return a
        };
        b.removeChild = function (a) {
            a = this._children.indexOf(a);
            if (0 <= a)
                return this._doRemoveChild(a);
            e.Logger.fatalWithErrorId(1008);
            return null
        };
        b.removeChildAt = function (a) {
            if (0 <= a && a < this._children.length)
                return this._doRemoveChild(a);
            e.Logger.fatalWithErrorId(1007);
            return null
        };
        b._doRemoveChild = function (a, c) {
            void 0 === c && (c = !0);
            var h = this._children,
                    b = h[a];
            c && b.dispatchEventWith(e.Event.REMOVED, !0);
            if (this._DO_Props_._stage) {
                b._onRemoveFromStage();
                for (var f = d.__EVENT__REMOVE_FROM_STAGE_LIST; 0 < f.length; ) {
                    var g = f.shift();
                    c && g.dispatchEventWith(e.Event.REMOVED_FROM_STAGE);
                    g._DO_Props_._stage = null
                }
            }
            b._parentChanged(null);
            h.splice(a,
                    1);
            this._setSizeDirty();
            return b
        };
        b.getChildAt = function (a) {
            if (0 <= a && a < this._children.length)
                return this._children[a];
            e.Logger.fatalWithErrorId(1007);
            return null
        };
        b.contains = function (a) {
            for (; a; ) {
                if (a == this)
                    return !0;
                a = a.parent
            }
            return !1
        };
        b.swapChildrenAt = function (a, c) {
            0 <= a && a < this._children.length && 0 <= c && c < this._children.length ? this._swapChildrenAt(a, c) : e.Logger.fatalWithErrorId(1007)
        };
        b.swapChildren = function (a, c) {
            var h = this._children.indexOf(a),
                    b = this._children.indexOf(c);
            -1 == h || -1 == b ? e.Logger.fatalWithErrorId(1008) :
                    this._swapChildrenAt(h, b)
        };
        b._swapChildrenAt = function (a, c) {
            if (a != c) {
                var h = this._children,
                        b = h[a];
                h[a] = h[c];
                h[c] = b
            }
        };
        b.getChildIndex = function (a) {
            return this._children.indexOf(a)
        };
        b.removeChildren = function () {
            for (var a = this._children.length - 1; 0 <= a; a--)
                this._doRemoveChild(a)
        };
        b._updateTransform = function () {
            if (this._DO_Props_._visible) {
                this._DO_Props_._filter && e.RenderCommand.push(this._setGlobalFilter, this);
                this._DO_Props_._colorTransform && e.RenderCommand.push(this._setGlobalColorTransform, this);
                var a =
                        this.mask || this._DO_Props_._scrollRect;
                a && e.RenderCommand.push(this._pushMask, this);
                f.prototype._updateTransform.call(this);
                if (!this._DO_Props_._cacheAsBitmap || !this._texture_to_render)
                    for (var c = 0, h = this._children, b = h.length; c < b; c++)
                        h[c]._updateTransform();
                a && e.RenderCommand.push(this._popMask, this);
                this._DO_Props_._colorTransform && e.RenderCommand.push(this._removeGlobalColorTransform, this);
                this._DO_Props_._filter && e.RenderCommand.push(this._removeGlobalFilter, this)
            }
        };
        b._render = function (a) {
            if (!e.MainContext.__use_new_draw)
                for (var c =
                        0, h = this._children, b = h.length; c < b; c++)
                    h[c]._draw(a)
        };
        b._measureBounds = function () {
            for (var a = 0, c = 0, h = 0, b = 0, d = this._children, f = d.length, g = 0; g < f; g++) {
                var l = d[g];
                if (l.visible) {
                    var k = l.getBounds(e.Rectangle.identity, !1),
                            m = k.x,
                            n = k.y,
                            p = k.width,
                            k = k.height,
                            l = l._getMatrix(),
                            l = e.DisplayObject.getTransformBounds(e.Rectangle.identity.initialize(m, n, p, k), l),
                            m = l.x,
                            n = l.y,
                            p = l.width + l.x,
                            l = l.height + l.y;
                    if (m < a || 0 == g)
                        a = m;
                    if (p > c || 0 == g)
                        c = p;
                    if (n < h || 0 == g)
                        h = n;
                    if (l > b || 0 == g)
                        b = l
                }
            }
            return e.Rectangle.identity.initialize(a, h, c - a,
                    b - h)
        };
        b.hitTest = function (a, c, h) {
            void 0 === h && (h = !1);
            var b;
            if (!this._DO_Props_._visible)
                return null;
            if (this._DO_Props_._scrollRect) {
                if (a < this._DO_Props_._scrollRect.x || c < this._DO_Props_._scrollRect.y || a > this._DO_Props_._scrollRect.x + this._DO_Props_._scrollRect.width || c > this._DO_Props_._scrollRect.y + this._DO_Props_._scrollRect.height)
                    return null
            } else if (this.mask && (this.mask.x > a || a > this.mask.x + this.mask.width || this.mask.y > c || c > this.mask.y + this.mask.height))
                return null;
            for (var d = this._children, x = this._touchChildren,
                    r = d.length - 1; 0 <= r; r--) {
                var l = d[r],
                        k = l._getMatrix(),
                        m = l.scrollRect;
                m && k.append(1, 0, 0, 1, -m.x, -m.y);
                k.invert();
                k = e.Matrix.transformCoords(k, a, c);
                if (l = l.hitTest(k.x, k.y, !0)) {
                    if (!x)
                        return this;
                    if (l._DO_Props_._touchEnabled && x)
                        return l;
                    b = this
                }
            }
            return b ? b : this._texture_to_render ? f.prototype.hitTest.call(this, a, c, h) : null
        };
        b._onAddToStage = function () {
            f.prototype._onAddToStage.call(this);
            for (var a = this._children.length, c = 0; c < a; c++)
                this._children[c]._onAddToStage()
        };
        b._onRemoveFromStage = function () {
            f.prototype._onRemoveFromStage.call(this);
            for (var a = this._children, c = a.length, h = 0; h < c; h++)
                a[h]._onRemoveFromStage()
        };
        b.getChildByName = function (a) {
            for (var c = this._children, h = c.length, b, d = 0; d < h; d++)
                if (b = c[d], b.name == a)
                    return b;
            return null
        };
        d.__EVENT__ADD_TO_STAGE_LIST = [];
        d.__EVENT__REMOVE_FROM_STAGE_LIST = [];
        return d
    }(e.DisplayObject);
    e.DisplayObjectContainer = f;
    f.prototype.__class__ = "egret.DisplayObjectContainer"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function e() {
        }
        e.NO_BORDER = "noBorder";
        e.NO_SCALE = "noScale";
        e.SHOW_ALL = "showAll";
        e.EXACT_FIT = "exactFit";
        return e
    }();
    e.StageScaleMode = f;
    f.prototype.__class__ = "egret.StageScaleMode"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d(a, c) {
            void 0 === a && (a = 480);
            void 0 === c && (c = 800);
            f.call(this);
            this._changeSizeDispatchFlag = !0;
            this._scaleMode = "";
            this._stageHeight = this._stageWidth = NaN;
            this.touchEnabled = !0;
            this._DO_Props_._stage = this;
            this._stageWidth = a;
            this._stageHeight = c
        }
        __extends(d, f);
        var b = d.prototype;
        b.invalidate = function () {
            d._invalidateRenderFlag = !0
        };
        Object.defineProperty(b, "scaleMode", {
            get: function () {
                return this._scaleMode
            },
            set: function (a) {
                this._scaleMode != a && (this._scaleMode = a, this.setResolutionPolicy())
            },
            enumerable: !0,
            configurable: !0
        });
        b.changeSize = function () {
            this._changeSizeDispatchFlag && (this.setResolutionPolicy(), this.dispatchEventWith(e.Event.RESIZE))
        };
        b.setResolutionPolicy = function () {
            var a = d.SCALE_MODE_ENUM[this._scaleMode];
            if (!a)
                throw Error(e.getString(1024));
            var c = new e.EqualToFrame,
                    a = new e.ResolutionPolicy(c, a);
            e.StageDelegate.getInstance()._setResolutionPolicy(a);
            this._stageWidth = e.StageDelegate.getInstance()._stageWidth;
            this._stageHeight = e.StageDelegate.getInstance()._stageHeight
        };
        Object.defineProperty(b,
                "stageWidth", {
                    get: function () {
                        return this._stageWidth
                    },
                    enumerable: !0,
                    configurable: !0
                });
        Object.defineProperty(b, "stageHeight", {
            get: function () {
                return this._stageHeight
            },
            enumerable: !0,
            configurable: !0
        });
        b.hitTest = function (a, c, h) {
            if (!this._DO_Props_._touchEnabled)
                return null;
            var b;
            if (!this._touchChildren)
                return this;
            h = this._children;
            for (var d = h.length - 1; 0 <= d; d--) {
                b = h[d];
                var f = b._getMatrix(),
                        g = b.scrollRect;
                g && f.append(1, 0, 0, 1, -g.x, -g.y);
                f.invert();
                f = e.Matrix.transformCoords(f, a, c);
                if ((b = b.hitTest(f.x, f.y, !0)) && b.touchEnabled)
                    return b
            }
            return this
        };
        b.getBounds = function (a) {
            a || (a = new e.Rectangle);
            return a.initialize(0, 0, this._stageWidth, this._stageHeight)
        };
        b._updateTransform = function () {
            for (var a = 0, c = this._children.length; a < c; a++)
                this._children[a]._updateTransform()
        };
        Object.defineProperty(b, "focus", {
            get: function () {
                return null
            },
            enumerable: !0,
            configurable: !0
        });
        d.registerScaleMode = function (a, c, h) {
            d.SCALE_MODE_ENUM[a] && !h ? e.Logger.warningWithErrorId(1009, a) : d.SCALE_MODE_ENUM[a] = c
        };
        d._invalidateRenderFlag = !1;
        d.SCALE_MODE_ENUM = {};
        return d
    }(e.DisplayObjectContainer);
    e.Stage = f;
    f.prototype.__class__ = "egret.Stage"
})(egret || (egret = {}));
egret.Stage.SCALE_MODE_ENUM[egret.StageScaleMode.NO_SCALE] = new egret.NoScale;
egret.Stage.SCALE_MODE_ENUM[egret.StageScaleMode.SHOW_ALL] = new egret.ShowAll;
egret.Stage.SCALE_MODE_ENUM[egret.StageScaleMode.NO_BORDER] = new egret.FixedWidth;
egret.Stage.SCALE_MODE_ENUM[egret.StageScaleMode.EXACT_FIT] = new egret.FullScreen;
(function (e) {
    var f = function () {
        return function () {
            this._horizontalScrollPolicy = this._verticalScrollPolicy = "auto";
            this._scrollTop = this._scrollLeft = 0;
            this._vCanScroll = this._hCanScroll = !1;
            this._lastTouchPosition = new e.Point(0, 0);
            this._touchStartPosition = new e.Point(0, 0);
            this._scrollStarted = !1;
            this._lastTouchTime = 0;
            this._lastTouchEvent = null;
            this._velocitys = [];
            this._isVTweenPlaying = this._isHTweenPlaying = !1;
            this._vScrollTween = this._hScrollTween = null
        }
    }();
    e.ScrollViewProperties = f;
    f.prototype.__class__ = "egret.ScrollViewProperties"
})(egret ||
        (egret = {}));
(function (e) {
    var f = function (f) {
        function d(a) {
            void 0 === a && (a = null);
            f.call(this);
            this.scrollBeginThreshold = 10;
            this.scrollSpeed = 1;
            this.touchBeginTimer = this.delayTouchBeginEvent = this._content = null;
            this.touchEnabled = !0;
            this._ScrV_Props_ = new e.ScrollViewProperties;
            a && this.setContent(a)
        }
        __extends(d, f);
        var b = d.prototype;
        b.setContent = function (a) {
            this._content !== a && (this.removeContent(), a && (this._content = a, f.prototype.addChild.call(this, a), this._addEvents()))
        };
        b.removeContent = function () {
            this._content && (this._removeEvents(),
                    f.prototype.removeChildAt.call(this, 0));
            this._content = null
        };
        Object.defineProperty(b, "verticalScrollPolicy", {
            get: function () {
                return this._ScrV_Props_._verticalScrollPolicy
            },
            set: function (a) {
                a != this._ScrV_Props_._verticalScrollPolicy && (this._ScrV_Props_._verticalScrollPolicy = a)
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "horizontalScrollPolicy", {
            get: function () {
                return this._ScrV_Props_._horizontalScrollPolicy
            },
            set: function (a) {
                a != this._ScrV_Props_._horizontalScrollPolicy && (this._ScrV_Props_._horizontalScrollPolicy =
                        a)
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "scrollLeft", {
            get: function () {
                return this._ScrV_Props_._scrollLeft
            },
            set: function (a) {
                a != this._ScrV_Props_._scrollLeft && (this._ScrV_Props_._scrollLeft = a, this._validatePosition(!1, !0), this._updateContentPosition())
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "scrollTop", {
            get: function () {
                return this._ScrV_Props_._scrollTop
            },
            set: function (a) {
                a != this._ScrV_Props_._scrollTop && (this._ScrV_Props_._scrollTop = a, this._validatePosition(!0, !1),
                        this._updateContentPosition())
            },
            enumerable: !0,
            configurable: !0
        });
        b.setScrollPosition = function (a, c, h) {
            void 0 === h && (h = !1);
            if (!h || 0 != a || 0 != c)
                if (h || this._ScrV_Props_._scrollTop != a || this._ScrV_Props_._scrollLeft != c) {
                    if (h) {
                        h = this._isOnTheEdge(!0);
                        var b = this._isOnTheEdge(!1);
                        this._ScrV_Props_._scrollTop += h ? a / 2 : a;
                        this._ScrV_Props_._scrollLeft += b ? c / 2 : c
                    } else
                        this._ScrV_Props_._scrollTop = a, this._ScrV_Props_._scrollLeft = c;
                    this._validatePosition(!0, !0);
                    this._updateContentPosition()
                }
        };
        b._isOnTheEdge = function (a) {
            void 0 ===
                    a && (a = !0);
            var c = this._ScrV_Props_._scrollTop,
                    h = this._ScrV_Props_._scrollLeft;
            return a ? 0 > c || c > this.getMaxScrollTop() : 0 > h || h > this.getMaxScrollLeft()
        };
        b._validatePosition = function (a, c) {
            void 0 === a && (a = !1);
            void 0 === c && (c = !1);
            if (a) {
                var h = this.height,
                        b = this._getContentHeight();
                this._ScrV_Props_._scrollTop = Math.max(this._ScrV_Props_._scrollTop, (0 - h) / 2);
                this._ScrV_Props_._scrollTop = Math.min(this._ScrV_Props_._scrollTop, b > h ? b - h / 2 : h / 2)
            }
            c && (h = this.width, b = this._getContentWidth(), this._ScrV_Props_._scrollLeft =
                    Math.max(this._ScrV_Props_._scrollLeft, (0 - h) / 2), this._ScrV_Props_._scrollLeft = Math.min(this._ScrV_Props_._scrollLeft, b > h ? b - h / 2 : h / 2))
        };
        b._setWidth = function (a) {
            this._DO_Props_._explicitWidth != a && (f.prototype._setWidth.call(this, a), this._updateContentPosition())
        };
        b._setHeight = function (a) {
            this._DO_Props_._explicitHeight != a && (f.prototype._setHeight.call(this, a), this._updateContentPosition())
        };
        b._updateContentPosition = function () {
            var a = this.getBounds(e.Rectangle.identity);
            this.scrollRect = new e.Rectangle(this._ScrV_Props_._scrollLeft,
                    this._ScrV_Props_._scrollTop, a.width, a.height);
            this.dispatchEvent(new e.Event(e.Event.CHANGE))
        };
        b._checkScrollPolicy = function () {
            var a = this.__checkScrollPolicy(this._ScrV_Props_._horizontalScrollPolicy, this._getContentWidth(), this.width);
            this._ScrV_Props_._hCanScroll = a;
            var c = this.__checkScrollPolicy(this._ScrV_Props_._verticalScrollPolicy, this._getContentHeight(), this.height);
            this._ScrV_Props_._vCanScroll = c;
            return a || c
        };
        b.__checkScrollPolicy = function (a, c, h) {
            return "on" == a ? !0 : "off" == a ? !1 : c > h
        };
        b._addEvents =
                function () {
                    this.addEventListener(e.TouchEvent.TOUCH_BEGIN, this._onTouchBegin, this);
                    this.addEventListener(e.TouchEvent.TOUCH_BEGIN, this._onTouchBeginCapture, this, !0);
                    this.addEventListener(e.TouchEvent.TOUCH_END, this._onTouchEndCapture, this, !0)
                };
        b._removeEvents = function () {
            this.removeEventListener(e.TouchEvent.TOUCH_BEGIN, this._onTouchBegin, this);
            this.removeEventListener(e.TouchEvent.TOUCH_BEGIN, this._onTouchBeginCapture, this, !0);
            this.removeEventListener(e.TouchEvent.TOUCH_END, this._onTouchEndCapture,
                    this, !0)
        };
        b._onTouchBegin = function (a) {
            !a._isDefaultPrevented && this._checkScrollPolicy() && (this._ScrV_Props_._touchStartPosition.x = a.stageX, this._ScrV_Props_._touchStartPosition.y = a.stageY, (this._ScrV_Props_._isHTweenPlaying || this._ScrV_Props_._isVTweenPlaying) && this._onScrollFinished(), this.stage.addEventListener(e.TouchEvent.TOUCH_MOVE, this._onTouchMove, this), this.stage.addEventListener(e.TouchEvent.TOUCH_END, this._onTouchEnd, this), this.stage.addEventListener(e.TouchEvent.LEAVE_STAGE, this._onTouchEnd,
                    this), this.addEventListener(e.Event.ENTER_FRAME, this._onEnterFrame, this), this._logTouchEvent(a), a.preventDefault())
        };
        b._onTouchBeginCapture = function (a) {
            var c = this._checkScrollPolicy();
            if (c) {
                for (var h = a.target; h != this; ) {
                    if ("_checkScrollPolicy" in h && (c = h._checkScrollPolicy()))
                        return;
                    h = h.parent
                }
                a.stopPropagation();
                this.delayTouchBeginEvent = this.cloneTouchEvent(a);
                this.touchBeginTimer || (this.touchBeginTimer = new e.Timer(100, 1), this.touchBeginTimer.addEventListener(e.TimerEvent.TIMER_COMPLETE, this._onTouchBeginTimer,
                        this));
                this.touchBeginTimer.start();
                this._onTouchBegin(a)
            }
        };
        b._onTouchEndCapture = function (a) {
            this.delayTouchBeginEvent && this._onTouchBeginTimer()
        };
        b._onTouchBeginTimer = function () {
            this.touchBeginTimer.stop();
            var a = this.delayTouchBeginEvent;
            this.delayTouchBeginEvent = null;
            this.stage && this.dispatchPropagationEvent(a)
        };
        b.dispatchPropagationEvent = function (a) {
            for (var c = [], h = a._target, b = 0; h; )
                h == this && (b = c.length), c.push(h), h = h.parent;
            h = c.slice(0, b);
            h = h.reverse();
            c = h.concat(c);
            this._dispatchPropagationEvent(a,
                    c, b)
        };
        b._dispatchPropagationEvent = function (a, c, h) {
            for (var b = c.length, d = 0; d < b; d++) {
                var e = c[d];
                a._currentTarget = e;
                a._eventPhase = d < h ? 1 : d == h ? 2 : 3;
                e._notifyListener(a);
                if (a._isPropagationStopped || a._isPropagationImmediateStopped)
                    break
            }
        };
        b._onTouchMove = function (a) {
            if (this._ScrV_Props_._lastTouchPosition.x != a.stageX || this._ScrV_Props_._lastTouchPosition.y != a.stageY) {
                if (!this._ScrV_Props_._scrollStarted) {
                    var c = a.stageX - this._ScrV_Props_._touchStartPosition.x,
                            h = a.stageY - this._ScrV_Props_._touchStartPosition.y;
                    if (Math.sqrt(c * c + h * h) < this.scrollBeginThreshold) {
                        this._logTouchEvent(a);
                        return
                    }
                }
                this._ScrV_Props_._scrollStarted = !0;
                this.delayTouchBeginEvent && (this.delayTouchBeginEvent = null, this.touchBeginTimer.stop());
                this.touchChildren = !1;
                c = this._getPointChange(a);
                this.setScrollPosition(c.y, c.x, !0);
                this._calcVelocitys(a);
                this._logTouchEvent(a)
            }
        };
        b._onTouchEnd = function (a) {
            this.touchChildren = !0;
            this._ScrV_Props_._scrollStarted = !1;
            e.MainContext.instance.stage.removeEventListener(e.TouchEvent.TOUCH_MOVE, this._onTouchMove,
                    this);
            e.MainContext.instance.stage.removeEventListener(e.TouchEvent.TOUCH_END, this._onTouchEnd, this);
            e.MainContext.instance.stage.removeEventListener(e.TouchEvent.LEAVE_STAGE, this._onTouchEnd, this);
            this.removeEventListener(e.Event.ENTER_FRAME, this._onEnterFrame, this);
            this._moveAfterTouchEnd()
        };
        b._onEnterFrame = function (a) {
            a = e.getTimer();
            100 < a - this._ScrV_Props_._lastTouchTime && 300 > a - this._ScrV_Props_._lastTouchTime && this._calcVelocitys(this._ScrV_Props_._lastTouchEvent)
        };
        b._logTouchEvent = function (a) {
            this._ScrV_Props_._lastTouchPosition.x =
                    a.stageX;
            this._ScrV_Props_._lastTouchPosition.y = a.stageY;
            this._ScrV_Props_._lastTouchEvent = this.cloneTouchEvent(a);
            this._ScrV_Props_._lastTouchTime = e.getTimer()
        };
        b._getPointChange = function (a) {
            return {
                x: !1 === this._ScrV_Props_._hCanScroll ? 0 : this._ScrV_Props_._lastTouchPosition.x - a.stageX,
                y: !1 === this._ScrV_Props_._vCanScroll ? 0 : this._ScrV_Props_._lastTouchPosition.y - a.stageY
            }
        };
        b._calcVelocitys = function (a) {
            var c = e.getTimer();
            if (0 == this._ScrV_Props_._lastTouchTime)
                this._ScrV_Props_._lastTouchTime = c;
            else {
                var h =
                        this._getPointChange(a),
                        c = c - this._ScrV_Props_._lastTouchTime;
                h.x /= c;
                h.y /= c;
                this._ScrV_Props_._velocitys.push(h);
                5 < this._ScrV_Props_._velocitys.length && this._ScrV_Props_._velocitys.shift();
                this._ScrV_Props_._lastTouchPosition.x = a.stageX;
                this._ScrV_Props_._lastTouchPosition.y = a.stageY
            }
        };
        b._getContentWidth = function () {
            return this._content.explicitWidth || this._content.width
        };
        b._getContentHeight = function () {
            return this._content.explicitHeight || this._content.height
        };
        b.getMaxScrollLeft = function () {
            var a = this._getContentWidth() -
                    this.width;
            return Math.max(0, a)
        };
        b.getMaxScrollTop = function () {
            var a = this._getContentHeight() - this.height;
            return Math.max(0, a)
        };
        b._moveAfterTouchEnd = function () {
            if (0 != this._ScrV_Props_._velocitys.length) {
                for (var a = 0, c = 0, h = 0, b = 0; b < this._ScrV_Props_._velocitys.length; b++)
                    var e = this._ScrV_Props_._velocitys[b],
                        f = d.weight[b],
                        a = a + e.x * f,
                        c = c + e.y * f,
                        h = h + f;
                this._ScrV_Props_._velocitys.length = 0;
                0 >= this.scrollSpeed && (this.scrollSpeed = 1);
                a = a / h * this.scrollSpeed;
                c = c / h * this.scrollSpeed;
                e = Math.abs(a);
                h = Math.abs(c);
                f =
                        this.getMaxScrollLeft();
                b = this.getMaxScrollTop();
                a = 0.02 < e ? this.getAnimationDatas(a, this._ScrV_Props_._scrollLeft, f) : {
                    position: this._ScrV_Props_._scrollLeft,
                    duration: 1
                };
                c = 0.02 < h ? this.getAnimationDatas(c, this._ScrV_Props_._scrollTop, b) : {
                    position: this._ScrV_Props_._scrollTop,
                    duration: 1
                };
                this.setScrollLeft(a.position, a.duration);
                this.setScrollTop(c.position, c.duration)
            }
        };
        b._onTweenFinished = function (a) {
            a == this._ScrV_Props_._vScrollTween && (this._ScrV_Props_._isVTweenPlaying = !1);
            a == this._ScrV_Props_._hScrollTween &&
                    (this._ScrV_Props_._isHTweenPlaying = !1);
            !1 == this._ScrV_Props_._isHTweenPlaying && !1 == this._ScrV_Props_._isVTweenPlaying && this._onScrollFinished()
        };
        b._onScrollStarted = function () {
        };
        b._onScrollFinished = function () {
            e.Tween.removeTweens(this);
            this._ScrV_Props_._hScrollTween = null;
            this._ScrV_Props_._vScrollTween = null;
            this._ScrV_Props_._isHTweenPlaying = !1;
            this._ScrV_Props_._isVTweenPlaying = !1;
            this.dispatchEvent(new e.Event(e.Event.COMPLETE))
        };
        b.setScrollTop = function (a, c) {
            void 0 === c && (c = 0);
            var h = Math.min(this.getMaxScrollTop(),
                    Math.max(a, 0));
            if (0 == c)
                return this.scrollTop = h, null;
            var b = e.Tween.get(this).to({
                scrollTop: a
            }, c, e.Ease.quartOut);
            h != a && b.to({
                scrollTop: h
            }, 300, e.Ease.quintOut);
            this._ScrV_Props_._isVTweenPlaying = !0;
            this._ScrV_Props_._vScrollTween = b;
            b.call(this._onTweenFinished, this, [b]);
            this._ScrV_Props_._isHTweenPlaying || this._onScrollStarted();
            return b
        };
        b.setScrollLeft = function (a, c) {
            void 0 === c && (c = 0);
            var h = Math.min(this.getMaxScrollLeft(), Math.max(a, 0));
            if (0 == c)
                return this.scrollLeft = h, null;
            var b = e.Tween.get(this).to({
                scrollLeft: a
            },
            c, e.Ease.quartOut);
            h != a && b.to({
                scrollLeft: h
            }, 300, e.Ease.quintOut);
            this._ScrV_Props_._isHTweenPlaying = !0;
            this._ScrV_Props_._hScrollTween = b;
            b.call(this._onTweenFinished, this, [b]);
            this._ScrV_Props_._isVTweenPlaying || this._onScrollStarted();
            return b
        };
        b.getAnimationDatas = function (a, c, h) {
            var b = Math.abs(a),
                    d = 0,
                    e = c + 500 * a;
            if (0 > e || e > h)
                for (e = c; Infinity != Math.abs(a) && 0.02 < Math.abs(a); )
                    e += a, a = 0 > e || e > h ? 0.998 * a * 0.95 : 0.998 * a, d++;
            else
                d = 500 * -Math.log(0.02 / b);
            return {
                position: Math.min(h + 50, Math.max(e, -50)),
                duration: d
            }
        };
        b.cloneTouchEvent = function (a) {
            var c = new e.TouchEvent(a._type, a._bubbles, a.cancelable);
            c.touchPointID = a.touchPointID;
            c._stageX = a._stageX;
            c._stageY = a._stageY;
            c.ctrlKey = a.ctrlKey;
            c.altKey = a.altKey;
            c.shiftKey = a.shiftKey;
            c.touchDown = a.touchDown;
            c._isDefaultPrevented = !1;
            c._target = a._target;
            return c
        };
        b.throwNotSupportedError = function () {
            throw Error(e.getString(1023));
        };
        b.addChild = function (a) {
            this.throwNotSupportedError();
            return null
        };
        b.addChildAt = function (a, c) {
            this.throwNotSupportedError();
            return null
        };
        b.removeChild =
                function (a) {
                    this.throwNotSupportedError();
                    return null
                };
        b.removeChildAt = function (a) {
            this.throwNotSupportedError();
            return null
        };
        b.setChildIndex = function (a, c) {
            this.throwNotSupportedError()
        };
        b.swapChildren = function (a, c) {
            this.throwNotSupportedError()
        };
        b.swapChildrenAt = function (a, c) {
            this.throwNotSupportedError()
        };
        b.hitTest = function (a, c, h) {
            void 0 === h && (h = !1);
            var b = f.prototype.hitTest.call(this, a, c, h);
            return b ? b : e.DisplayObject.prototype.hitTest.call(this, a, c, h)
        };
        d.weight = [1, 1.33, 1.66, 2, 2.33];
        return d
    }(e.DisplayObjectContainer);
    e.ScrollView = f;
    f.prototype.__class__ = "egret.ScrollView"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function e() {
        }
        e.REPEAT = "repeat";
        e.SCALE = "scale";
        return e
    }();
    e.BitmapFillMode = f;
    f.prototype.__class__ = "egret.BitmapFillMode"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d(a) {
            f.call(this);
            this.scale9Grid = this._texture = null;
            this.fillMode = "scale";
            a && (this._texture = a, this._setSizeDirty());
            this.needDraw = !0
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "texture", {
            get: function () {
                return this._texture
            },
            set: function (a) {
                a != this._texture && (this._setSizeDirty(), this._texture = a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._render = function (a) {
            var c = this._texture;
            c ? (this._texture_to_render = c, d._drawBitmap(a, this._DO_Props_._hasWidthSet ?
                    this._DO_Props_._explicitWidth : c._textureWidth, this._DO_Props_._hasHeightSet ? this._DO_Props_._explicitHeight : c._textureHeight, this)) : this._texture_to_render = null
        };
        d._drawBitmap = function (a, c, h, b) {
            var e = b._texture_to_render;
            if (e) {
                var f = e._textureWidth,
                        g = e._textureHeight;
                if ("scale" == b.fillMode) {
                    var l = b.scale9Grid || e.scale9Grid;
                    if (l && f - l.width < c && g - l.height < h)
                        d.drawScale9GridImage(a, b, l, c, h);
                    else {
                        var l = e._offsetX,
                                k = e._offsetY,
                                m = e._bitmapWidth || f,
                                n = e._bitmapHeight || g;
                        c /= f;
                        l = Math.round(l * c);
                        c = Math.round(m *
                                c);
                        h /= g;
                        k = Math.round(k * h);
                        h = Math.round(n * h);
                        d.renderFilter.drawImage(a, b, e._bitmapX, e._bitmapY, m, n, l, k, c, h)
                    }
                } else
                    d.drawRepeatImage(a, b, c, h, b.fillMode)
            }
        };
        d.drawRepeatImage = function (a, c, h, b, d) {
            var f = c._texture_to_render;
            if (f) {
                var g = f._textureWidth,
                        l = f._textureHeight,
                        k = f._bitmapX,
                        m = f._bitmapY,
                        g = f._bitmapWidth || g,
                        l = f._bitmapHeight || l,
                        n = f._offsetX,
                        f = f._offsetY;
                e.RenderFilter.getInstance().drawImage(a, c, k, m, g, l, n, f, h, b, d)
            }
        };
        d.drawScale9GridImage = function (a, c, h, b, d) {
            var f = e.MainContext.instance.rendererContext._texture_scale_factor,
                    g = c._texture_to_render;
            if (g && h) {
                var l = g._textureWidth,
                        k = g._textureHeight,
                        m = g._bitmapX,
                        n = g._bitmapY,
                        p = g._bitmapWidth || l,
                        q = g._bitmapHeight || k;
                b -= l - p;
                d -= k - q;
                if (!a.drawImageScale9(g, m, n, p, q, g._offsetX, g._offsetY, b, d, h)) {
                    l = g._offsetX / f;
                    k = g._offsetY / f;
                    g = e.RenderFilter.getInstance();
                    h = e.Rectangle.identity.initialize(h.x - Math.round(l), h.y - Math.round(l), h.width, h.height);
                    l = Math.round(l);
                    k = Math.round(k);
                    h.y == h.bottom && (h.bottom < q ? h.bottom++ : h.y--);
                    h.x == h.right && (h.right < p ? h.right++ : h.x--);
                    var u = m + h.x / f,
                            y = m +
                            h.right / f,
                            s = p - h.right,
                            w = n + h.y / f,
                            f = n + h.bottom / f,
                            v = q - h.bottom,
                            z = l + h.x,
                            t = k + h.y,
                            q = d - (q - h.bottom),
                            p = b - (p - h.right);
                    g.drawImage(a, c, m, n, h.x, h.y, l, k, h.x, h.y);
                    g.drawImage(a, c, u, n, h.width, h.y, z, k, p - h.x, h.y);
                    g.drawImage(a, c, y, n, s, h.y, l + p, k, b - p, h.y);
                    g.drawImage(a, c, m, w, h.x, h.height, l, t, h.x, q - h.y);
                    g.drawImage(a, c, u, w, h.width, h.height, z, t, p - h.x, q - h.y);
                    g.drawImage(a, c, y, w, s, h.height, l + p, t, b - p, q - h.y);
                    g.drawImage(a, c, m, f, h.x, v, l, k + q, h.x, d - q);
                    g.drawImage(a, c, u, f, h.width, v, z, k + q, p - h.x, d - q);
                    g.drawImage(a, c, y, f, s, v, l +
                            p, k + q, b - p, d - q)
                }
            }
        };
        b._measureBounds = function () {
            var a = this._texture;
            return a ? e.Rectangle.identity.initialize(0, 0, a._textureWidth, a._textureHeight) : f.prototype._measureBounds.call(this)
        };
        d.renderFilter = e.RenderFilter.getInstance();
        return d
    }(e.DisplayObject);
    e.Bitmap = f;
    f.prototype.__class__ = "egret.Bitmap"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this._text = "";
            this._textChanged = !1;
            this._font = null;
            this._fontChanged = !1;
            this._textOffsetY = this._textOffsetX = this._textHeight = this._textWidth = this._lineSpacing = this._letterSpacing = 0;
            this.textLinesChange = !0;
            this._lineHeights = [];
            this.needDraw = this.cacheAsBitmap = !0
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "text", {
            get: function () {
                return this._text
            },
            set: function (a) {
                this._text != a && (this._textChanged = !0, this._text = a, this._setSizeDirty())
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "font", {
            get: function () {
                return this._font
            },
            set: function (a) {
                this._font != a && (this._font = a, this._fontChanged = !0, this._setSizeDirty())
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "letterSpacing", {
            get: function () {
                return this._letterSpacing
            },
            set: function (a) {
                this._setLetterSpacing(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setLetterSpacing = function (a) {
            this._letterSpacing = a;
            this._setSizeDirty()
        };
        Object.defineProperty(b, "lineSpacing", {
            get: function () {
                return this._lineSpacing
            },
            set: function (a) {
                this._setLineSpacing(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setLineSpacing = function (a) {
            this._lineSpacing = a
        };
        b._setSizeDirty = function () {
            f.prototype._setSizeDirty.call(this);
            this.textLinesChange = !0
        };
        b._render = function (a) {
            var c = this._getTextLines(),
                    h = c.length;
            if (0 != h) {
                for (var b = this._font, f = b._getFirstCharHeight(), f = Math.ceil(f * d.EMPTY_FACTOR), g = 0, r = this._DO_Props_._hasHeightSet ? this._DO_Props_._explicitHeight : Number.POSITIVE_INFINITY, l = this._lineHeights, k = 0; k < h; k++) {
                    var m = l[k];
                    if (0 <
                            k && g + m > r)
                        break;
                    for (var n = c[k], p = n.length, q = 0, u = 0; u < p; u++) {
                        var y = n.charAt(u),
                                s = b.getTexture(y);
                        if (s) {
                            var y = s._bitmapWidth || s._textureWidth,
                                    w = s._bitmapHeight || s._textureHeight;
                            this._texture_to_render = s;
                            e.RenderFilter.getInstance().drawImage(a, this, s._bitmapX, s._bitmapY, y, w, q + s._offsetX, g + s._offsetY, y, w);
                            q += s._textureWidth + this._letterSpacing
                        } else
                            " " == y ? q += f : e.Logger.warningWithErrorId(1011, y)
                    }
                    g += m + this._lineSpacing
                }
                this._texture_to_render = null
            }
        };
        b._measureBounds = function () {
            var a = this._getTextLines();
            return 0 == a.length ? e.Rectangle.identity.initialize(0, 0, 0, 0) : e.Rectangle.identity.initialize(this._textOffsetX, this._textOffsetY, this._textWidth - this._textOffsetX, this._textHeight - this._textOffsetY + (a.length - 1) * this._lineSpacing)
        };
        b._getTextLines = function () {
            if (!this.textLinesChange)
                return this._textLines;
            var a = [];
            this._textLines = a;
            this.textLinesChange = !1;
            var c = [];
            this._lineHeights = c;
            if (!this._text || !this._font)
                return a;
            for (var h = 0, b = 0, f = 0, g = 0, r = this._DO_Props_._hasWidthSet, l = this._DO_Props_._hasWidthSet ?
                    this._DO_Props_._explicitWidth : Number.POSITIVE_INFINITY, k = this._font, m = k._getFirstCharHeight(), n = Math.ceil(m * d.EMPTY_FACTOR), p = this._text.split(/(?:\r\n|\r|\n)/), q = p.length, u = !0, y = 0; y < q; y++) {
                for (var s = p[y], w = s.length, v = 0, z = 0, t = !0, E = 0; E < w; E++) {
                    t || (z += this._letterSpacing);
                    var C = s.charAt(E),
                            D, B = 0,
                            H = 0,
                            F = k.getTexture(C);
                    if (F)
                        C = F._textureWidth, D = F._textureHeight, B = F._offsetX, H = F._offsetY;
                    else if (" " == C)
                        C = n, D = m;
                    else {
                        e.Logger.warningWithErrorId(1011, C);
                        t && (t = !1);
                        continue
                    }
                    t && (t = !1, f = Math.min(B, f));
                    u && (g = Math.min(H,
                            g));
                    r && 0 < E && z + C > l ? (a.push(s.substring(0, E)), c.push(v), b += v, h = Math.max(z, h), s = s.substring(E), w = s.length, E = 0, z = C, v = D) : (z += C, v = Math.max(D, v))
                }
                u && (u = !1);
                a.push(s);
                c.push(v);
                b += v;
                h = Math.max(z, h)
            }
            this._textWidth = h;
            this._textHeight = b;
            this._textOffsetX = f;
            this._textOffsetY = g;
            return a
        };
        d.EMPTY_FACTOR = 0.33;
        return d
    }(e.DisplayObject);
    e.BitmapText = f;
    f.prototype.__class__ = "egret.BitmapText"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function d() {
            this.fillStyleColor = this.strokeStyleColor = this.commandQueue = this._renderContext = null;
            this._dirty = !1;
            this.lineY = this.lineX = 0;
            this._firstCheck = !0;
            this._lastY = this._lastX = this._maxY = this._maxX = this._minY = this._minX = 0;
            this.commandQueue = []
        }
        var b = d.prototype;
        b.beginFill = function (a, c) {
            void 0 === c && (c = 1);
            this.fillStyleColor = this._parseColor(a, c);
            this._pushCommand(new g(this._setStyle, this, [this.fillStyleColor]))
        };
        b._parseColor = function (a, c) {
            return "rgba(" + (a >> 16) +
                    "," + ((a & 65280) >> 8) + "," + (a & 255) + "," + c + ")"
        };
        b._setStyle = function (a) {
            this._renderContext.fillStyle = a;
            this._renderContext.beginPath()
        };
        b.drawRect = function (a, c, h, b) {
            this._pushCommand(new g(function (c, a, h, b) {
                this._renderContext.beginPath();
                this._renderContext.rect(c, a, h, b);
                this._renderContext.closePath()
            }, this, [a, c, h, b]));
            this._checkRect(a, c, h, b)
        };
        b.drawCircle = function (a, c, h) {
            this._pushCommand(new g(function (c, a, h) {
                this._renderContext.beginPath();
                this._renderContext.arc(c, a, h, 0, 2 * Math.PI);
                this._renderContext.closePath()
            },
                    this, [a, c, h]));
            this._checkRect(a - h, c - h, 2 * h, 2 * h)
        };
        b.drawRoundRect = function (a, c, h, b, d, e) {
            this._pushCommand(new g(function (c, a, h, b, d, e) {
                d /= 2;
                e = e ? e / 2 : d;
                h = c + h;
                b = a + b;
                var G = b - e;
                this._renderContext.beginPath();
                this._renderContext.moveTo(h, G);
                this._renderContext.quadraticCurveTo(h, b, h - d, b);
                this._renderContext.lineTo(c + d, b);
                this._renderContext.quadraticCurveTo(c, b, c, b - e);
                this._renderContext.lineTo(c, a + e);
                this._renderContext.quadraticCurveTo(c, a, c + d, a);
                this._renderContext.lineTo(h - d, a);
                this._renderContext.quadraticCurveTo(h,
                        a, h, a + e);
                this._renderContext.lineTo(h, G);
                this._renderContext.closePath()
            }, this, [a, c, h, b, d, e]));
            this._checkRect(a, c, h, b)
        };
        b.drawEllipse = function (a, c, h, b) {
            this._pushCommand(new g(function (c, a, h, b) {
                c += h / 2;
                a += b / 2;
                var d = h > b ? h : b;
                h /= d;
                b /= d;
                d /= 2;
                this._renderContext.scale(h, b);
                this._renderContext.beginPath();
                this._renderContext.arc(c / h, a / b, d, 0, 2 * Math.PI);
                this._renderContext.closePath();
                this._renderContext.scale(1 / h, 1 / b)
            }, this, [a, c, h, b]));
            this._checkRect(a, c, h, b)
        };
        b.lineStyle = function (a, c, h, b, d, e, f, l) {
            void 0 ===
                    a && (a = NaN);
            void 0 === c && (c = 0);
            void 0 === h && (h = 1);
            void 0 === b && (b = !1);
            void 0 === d && (d = "normal");
            void 0 === e && (e = null);
            void 0 === f && (f = null);
            void 0 === l && (l = 3);
            this.strokeStyleColor && (this._createEndLineCommand(), this._pushCommand(this._endLineCommand));
            this.strokeStyleColor = this._parseColor(c, h);
            this._pushCommand(new g(function (c, a) {
                this._renderContext.lineWidth = c;
                this._renderContext.strokeStyle = a;
                this._renderContext.beginPath()
            }, this, [a, this.strokeStyleColor]));
            this.moveTo(this.lineX, this.lineY)
        };
        b.lineTo =
                function (a, c) {
                    this._pushCommand(new g(function (c, a) {
                        this._renderContext.lineTo(c, a)
                    }, this, [a, c]));
                    this._checkPoint(this.lineX, this.lineY);
                    this.lineX = a;
                    this.lineY = c;
                    this._checkPoint(a, c)
                };
        b.curveTo = function (a, c, h, b) {
            this._pushCommand(new g(function (c, a, h, b) {
                this._renderContext.quadraticCurveTo(c, a, h, b)
            }, this, [a, c, h, b]));
            this._checkPoint(this.lineX, this.lineY);
            this.lineX = h;
            this.lineY = b;
            this._checkPoint(a, c);
            this._checkPoint(h, b)
        };
        b.cubicCurveTo = function (a, c, h, b, d, e) {
            this._pushCommand(new g(function (c,
                    a, h, b, d, e) {
                this._renderContext.bezierCurveTo(c, a, h, b, d, e)
            }, this, [a, c, h, b, d, e]));
            this._checkPoint(this.lineX, this.lineY);
            this.lineX = d;
            this.lineY = e;
            this._checkPoint(a, c);
            this._checkPoint(h, b);
            this._checkPoint(d, e)
        };
        b.moveTo = function (a, c) {
            this._pushCommand(new g(function (c, a) {
                this._renderContext.moveTo(c, a)
            }, this, [a, c]));
            this.lineX = a;
            this.lineY = c
        };
        b.clear = function () {
            this.lineY = this.lineX = this.commandQueue.length = 0;
            this.fillStyleColor = this.strokeStyleColor = null;
            this._maxY = this._maxX = this._minY = this._minX =
                    0;
            this._dirty = this._firstCheck = !0
        };
        b.endFill = function () {
            null != this.fillStyleColor && (this._fill(), this.fillStyleColor = null)
        };
        b._beginDraw = function (a) {
        };
        b._endDraw = function (a) {
        };
        b._draw = function (a) {
            var c = this.commandQueue.length;
            if (0 != c) {
                this._beginDraw(a);
                for (var h = 0; h < c; h++) {
                    var b = this.commandQueue[h];
                    b.method.apply(b.thisObject, b.args)
                }
                this.fillStyleColor && (this._createEndFillCommand(), b = this._endFillCommand, b.method.apply(b.thisObject, b.args));
                this.strokeStyleColor && (this._createEndLineCommand(),
                        b = this._endLineCommand, b.method.apply(b.thisObject, b.args));
                this._endDraw(a);
                this._dirty = !1
            }
        };
        b._checkRect = function (a, c, h, b) {
            this._firstCheck ? (this._firstCheck = !1, this._minX = a, this._minY = c, this._maxX = a + h, this._maxY = c + b) : (this._minX = Math.min(this._minX, a), this._minY = Math.min(this._minY, c), this._maxX = Math.max(this._maxX, a + h), this._maxY = Math.max(this._maxY, c + b));
            this._dirty = !0
        };
        b._checkPoint = function (a, c) {
            this._firstCheck ? (this._firstCheck = !1, this._minX = a, this._minY = c, this._maxX = a, this._maxY = c) : (this._minX =
                    Math.min(this._minX, a), this._minY = Math.min(this._minY, c), this._maxX = Math.max(this._maxX, a), this._maxY = Math.max(this._maxY, c));
            this._lastX = a;
            this._lastY = c;
            this._dirty = !0
        };
        b._measureBounds = function () {
            return e.Rectangle.identity.initialize(this._minX, this._minY, this._maxX - this._minX, this._maxY - this._minY)
        };
        b._createEndFillCommand = function () {
            this._endFillCommand || (this._endFillCommand = new g(function () {
                this._renderContext.fill();
                this._renderContext.closePath()
            }, this, null))
        };
        b._fill = function () {
            this.fillStyleColor &&
                    (this._createEndFillCommand(), this._pushCommand(this._endFillCommand));
            this.strokeStyleColor && (this._createEndLineCommand(), this._pushCommand(this._endLineCommand))
        };
        b._createEndLineCommand = function () {
            this._endLineCommand || (this._endLineCommand = new g(function () {
                this._renderContext.stroke();
                this._renderContext.closePath()
            }, this, null))
        };
        b._pushCommand = function (a) {
            this.commandQueue.push(a);
            this._dirty = !0
        };
        return d
    }();
    e.Graphics = f;
    f.prototype.__class__ = "egret.Graphics";
    var g = function () {
        return function (d,
                b, a) {
            this.method = d;
            this.thisObject = b;
            this.args = a
        }
    }();
    g.prototype.__class__ = "egret.Command"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this._graphics = null
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "graphics", {
            get: function () {
                this._graphics || (this._graphics = new e.Graphics, this.needDraw = !0);
                return this._graphics
            },
            enumerable: !0,
            configurable: !0
        });
        b._draw = function (a) {
            this._graphics && this._graphics._dirty && this._setCacheDirty();
            f.prototype._draw.call(this, a)
        };
        b._render = function (a) {
            this._graphics && this._graphics._draw(a)
        };
        b._measureBounds = function () {
            var a = this._graphics;
            return a ? a._measureBounds() : f.prototype._measureBounds.call(this)
        };
        return d
    }(e.DisplayObject);
    e.Shape = f;
    f.prototype.__class__ = "egret.Shape"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this._graphics = null
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "graphics", {
            get: function () {
                this._graphics || (this._graphics = new e.Graphics, this.needDraw = !0);
                return this._graphics
            },
            enumerable: !0,
            configurable: !0
        });
        b._draw = function (a) {
            this._graphics && this._graphics._dirty && this._setCacheDirty();
            f.prototype._draw.call(this, a)
        };
        b._render = function (a) {
            this._graphics && this._graphics._draw(a);
            f.prototype._render.call(this, a)
        };
        b._measureBounds =
                function () {
                    for (var a = 0, c = 0, h = 0, b = 0, d = this._children.length, f = 0; f < d; f++) {
                        var g = this._children[f];
                        if (g.visible) {
                            var l = g.getBounds(e.Rectangle.identity, !1),
                                    k = l.x,
                                    m = l.y,
                                    n = l.width,
                                    l = l.height,
                                    g = g._getMatrix(),
                                    g = e.DisplayObject.getTransformBounds(e.Rectangle.identity.initialize(k, m, n, l), g),
                                    k = g.x,
                                    m = g.y,
                                    n = g.width + g.x,
                                    g = g.height + g.y;
                            if (k < a || 0 == f)
                                a = k;
                            if (n > c || 0 == f)
                                c = n;
                            if (m < h || 0 == f)
                                h = m;
                            if (g > b || 0 == f)
                                b = g
                        }
                    }
                    if (this._graphics) {
                        d = this._graphics._measureBounds();
                        k = d.x;
                        m = d.y;
                        n = d.width + d.x;
                        g = d.height + d.y;
                        if (k < a || 0 == f)
                            a =
                                    k;
                        if (n > c || 0 == f)
                            c = n;
                        if (m < h || 0 == f)
                            h = m;
                        if (g > b || 0 == f)
                            b = g
                    }
                    return e.Rectangle.identity.initialize(a, h, c - a, b - h)
                };
        b.hitTest = function (a, c, h) {
            void 0 === h && (h = !1);
            var b = f.prototype.hitTest.call(this, a, c, h);
            return b ? b : this._graphics ? e.DisplayObject.prototype.hitTest.call(this, a, c, h) : null
        };
        return d
    }(e.DisplayObjectContainer);
    e.Sprite = f;
    f.prototype.__class__ = "egret.Sprite"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function f() {
        }
        f._getStartLine = function (d) {
            var b = f._getTextHeight(d),
                    a = 0;
            d._DO_Props_._hasHeightSet && (!(b < d._DO_Props_._explicitHeight) && b > d._DO_Props_._explicitHeight && (a = Math.max(d._TF_Props_._scrollV - 1, 0), a = Math.min(d._TF_Props_._numLines - 1, a)), d._TF_Props_._multiline || (a = Math.max(d._TF_Props_._scrollV - 1, 0), a = Math.min(d._TF_Props_._numLines - 1, a)));
            return a
        };
        f._getHalign = function (d) {
            var b = d._getLinesArr(),
                    a = 0;
            d._TF_Props_._textAlign == e.HorizontalAlign.CENTER ? a = 0.5 : d._TF_Props_._textAlign ==
                    e.HorizontalAlign.RIGHT && (a = 1);
            d._TF_Props_._type == e.TextFieldType.INPUT && !d._TF_Props_._multiline && 1 < b.length && (a = 0);
            return a
        };
        f._getTextHeight = function (d) {
            return e.TextFieldType.INPUT != d._TF_Props_._type || d._TF_Props_._multiline ? d._TF_Props_._textMaxHeight + (d._TF_Props_._numLines - 1) * d._TF_Props_._lineSpacing : d._TF_Props_._size
        };
        f._getValign = function (d) {
            var b = f._getTextHeight(d);
            return d._TF_Props_._type == e.TextFieldType.INPUT ? d._TF_Props_._multiline ? 0 : 0.5 : d._DO_Props_._hasHeightSet && b < d._DO_Props_._explicitHeight ?
                    (b = 0, d._TF_Props_._verticalAlign == e.VerticalAlign.MIDDLE ? b = 0.5 : d._TF_Props_._verticalAlign == e.VerticalAlign.BOTTOM && (b = 1), b) : 0
        };
        f._getTextElement = function (d, b, a) {
            b = f._getHit(d, b, a);
            d = d._getLinesArr();
            return b && d[b.lineIndex] && d[b.lineIndex].elements[b.textElementIndex] ? d[b.lineIndex].elements[b.textElementIndex] : null
        };
        f._getHit = function (d, b, a) {
            var c = d._getLinesArr();
            if (0 == d._TF_Props_._textMaxWidth)
                return null;
            var h = 0,
                    e = f._getTextHeight(d),
                    A = 0;
            d._DO_Props_._hasHeightSet && d._DO_Props_._explicitHeight >
                    e && (A = f._getValign(d) * (d._DO_Props_._explicitHeight - e), 0 != A && (a -= A));
            A = 0;
            for (e = f._getStartLine(d); e < c.length; e++) {
                var x = c[e];
                if (A + x.height >= a) {
                    h = e + 1;
                    break
                } else
                    A += x.height;
                if (A + d._TF_Props_._lineSpacing > a)
                    return null;
                A += d._TF_Props_._lineSpacing
            }
            if (0 === h)
                return null;
            d = c[h - 1];
            for (e = a = 0; e < d.elements.length; e++)
                if (c = d.elements[e], a + c.width < b)
                    a += c.width;
                else
                    return {
                        lineIndex: h - 1,
                        textElementIndex: e
                    };
            return null
        };
        f._getScrollNum = function (d) {
            var b = 1;
            if (d._TF_Props_._multiline) {
                var a = d.height,
                        c = d.size;
                d =
                        d.lineSpacing;
                b = Math.floor(a / (c + d));
                a - (c + d) * b > c / 2 && b++
            }
            return b
        };
        return f
    }();
    e.TextFieldUtils = f;
    f.prototype.__class__ = "egret.TextFieldUtils"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        return function () {
            this._text = this._type = "";
            this._displayAsPassword = !1;
            this._fontFamily = e.TextField.default_fontFamily;
            this._size = 30;
            this._bold = this._italic = !1;
            this._textColorString = "#FFFFFF";
            this._textColor = 16777215;
            this._strokeColorString = "#000000";
            this._stroke = this._strokeColor = 0;
            this._border = !1;
            this._borderColor = 0;
            this._background = !1;
            this._backgroundColor = 16777215;
            this._textAlign = "left";
            this._verticalAlign = "top";
            this._maxChars = this._textMaxHeight = this._textMaxWidth =
                    0;
            this._scrollV = -1;
            this._numLines = this._lineSpacing = 0;
            this._multiline = !1
        }
    }();
    e.TextFieldProperties = f;
    f.prototype.__class__ = "egret.TextFieldProperties"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this._inputEnabled = !1;
            this._bgGraphics = this._inputUtils = null;
            this._isFlow = !1;
            this._textArr = [];
            this._isArrayChanged = !1;
            this._linesArr = [];
            this._isTyping = !1;
            this.needDraw = !0;
            this._TF_Props_ = new e.TextFieldProperties
        }
        __extends(d, f);
        var b = d.prototype;
        b.isInput = function () {
            return this._TF_Props_._type == e.TextFieldType.INPUT
        };
        b._setTouchEnabled = function (a) {
            f.prototype._setTouchEnabled.call(this, a);
            this.isInput() && (this._inputEnabled = !0)
        };
        Object.defineProperty(b,
                "type", {
                    get: function () {
                        return this._TF_Props_._type
                    },
                    set: function (a) {
                        this._setType(a)
                    },
                    enumerable: !0,
                    configurable: !0
                });
        b._setType = function (a) {
            var c = this._TF_Props_;
            c._type != a && (c._type = a, c._type == e.TextFieldType.INPUT ? (this._DO_Props_._hasWidthSet || this._setWidth(100), this._DO_Props_._hasHeightSet || this._setHeight(30), null == this._inputUtils && (this._inputUtils = new e.InputController), this._inputUtils.init(this), this._setDirty(), this._DO_Props_._stage && this._inputUtils._addStageText()) : this._inputUtils &&
                    (this._inputUtils._removeStageText(), this._inputUtils = null))
        };
        Object.defineProperty(b, "text", {
            get: function () {
                return this._getText()
            },
            set: function (a) {
                this._setText(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._getText = function () {
            return this._TF_Props_._type == e.TextFieldType.INPUT ? this._inputUtils._getText() : this._TF_Props_._text
        };
        b._setSizeDirty = function () {
            f.prototype._setSizeDirty.call(this);
            this._isArrayChanged = !0
        };
        b._setTextDirty = function () {
            this._setSizeDirty()
        };
        b._setBaseText = function (a) {
            null == a && (a =
                    "");
            var c = this._TF_Props_;
            this._isFlow = !1;
            c._text != a && (this._setTextDirty(), c._text = a, a = "", a = c._displayAsPassword ? this.changeToPassText(c._text) : c._text, this.setMiddleStyle([{
                    text: a
                }]))
        };
        b._setText = function (a) {
            null == a && (a = "");
            this._setBaseText(a);
            this._inputUtils && this._inputUtils._setText(this._TF_Props_._text)
        };
        Object.defineProperty(b, "displayAsPassword", {
            get: function () {
                return this._TF_Props_._displayAsPassword
            },
            set: function (a) {
                this._setDisplayAsPassword(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setDisplayAsPassword =
                function (a) {
                    var c = this._TF_Props_;
                    c._displayAsPassword != a && (c._displayAsPassword = a, this._setTextDirty(), a = "", a = c._displayAsPassword ? this.changeToPassText(c._text) : c._text, this.setMiddleStyle([{
                            text: a
                        }]))
                };
        Object.defineProperty(b, "fontFamily", {
            get: function () {
                return this._TF_Props_._fontFamily
            },
            set: function (a) {
                this._setFontFamily(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setFontFamily = function (a) {
            this._TF_Props_._fontFamily != a && (this._setTextDirty(), this._TF_Props_._fontFamily = a)
        };
        Object.defineProperty(b,
                "size", {
                    get: function () {
                        return this._TF_Props_._size
                    },
                    set: function (a) {
                        this._setSize(a)
                    },
                    enumerable: !0,
                    configurable: !0
                });
        b._setSize = function (a) {
            this._TF_Props_._size != a && (this._setTextDirty(), this._TF_Props_._size = a)
        };
        Object.defineProperty(b, "italic", {
            get: function () {
                return this._TF_Props_._italic
            },
            set: function (a) {
                this._setItalic(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setItalic = function (a) {
            this._TF_Props_._italic != a && (this._setTextDirty(), this._TF_Props_._italic = a)
        };
        Object.defineProperty(b, "bold", {
            get: function () {
                return this._TF_Props_._bold
            },
            set: function (a) {
                this._setBold(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setBold = function (a) {
            this._TF_Props_._bold != a && (this._setTextDirty(), this._TF_Props_._bold = a)
        };
        Object.defineProperty(b, "textColor", {
            get: function () {
                return this._TF_Props_._textColor
            },
            set: function (a) {
                this._setTextColor(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setTextColor = function (a) {
            this._TF_Props_._textColor != a && (this._setTextDirty(), this._TF_Props_._textColor = a, this._TF_Props_._textColorString = e.toColorString(a))
        };
        Object.defineProperty(b,
                "strokeColor", {
                    get: function () {
                        return this._TF_Props_._strokeColor
                    },
                    set: function (a) {
                        this._setStrokeColor(a)
                    },
                    enumerable: !0,
                    configurable: !0
                });
        b._setStrokeColor = function (a) {
            this._TF_Props_._strokeColor != a && (this._setTextDirty(), this._TF_Props_._strokeColor = a, this._TF_Props_._strokeColorString = e.toColorString(a))
        };
        Object.defineProperty(b, "stroke", {
            get: function () {
                return this._TF_Props_._stroke
            },
            set: function (a) {
                this._setStroke(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setStroke = function (a) {
            this._TF_Props_._stroke !=
                    a && (this._setTextDirty(), this._TF_Props_._stroke = a)
        };
        Object.defineProperty(b, "textAlign", {
            get: function () {
                return this._TF_Props_._textAlign
            },
            set: function (a) {
                this._setTextAlign(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setTextAlign = function (a) {
            this._TF_Props_._textAlign != a && (this._setTextDirty(), this._TF_Props_._textAlign = a)
        };
        Object.defineProperty(b, "verticalAlign", {
            get: function () {
                return this._TF_Props_._verticalAlign
            },
            set: function (a) {
                this._setVerticalAlign(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setVerticalAlign =
                function (a) {
                    this._TF_Props_._verticalAlign != a && (this._setTextDirty(), this._TF_Props_._verticalAlign = a)
                };
        Object.defineProperty(b, "maxChars", {
            get: function () {
                return this._TF_Props_._maxChars
            },
            set: function (a) {
                this._setMaxChars(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setMaxChars = function (a) {
            this._TF_Props_._maxChars != a && (this._TF_Props_._maxChars = a)
        };
        Object.defineProperty(b, "scrollV", {
            get: function () {
                return Math.min(Math.max(this._TF_Props_._scrollV, 1), this.maxScrollV)
            },
            set: function (a) {
                this._TF_Props_._scrollV =
                        Math.max(a, 1);
                this._setDirty()
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "maxScrollV", {
            get: function () {
                this._getLinesArr();
                return Math.max(this._TF_Props_._numLines - e.TextFieldUtils._getScrollNum(this) + 1, 1)
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "selectionBeginIndex", {
            get: function () {
                return 0
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "selectionEndIndex", {
            get: function () {
                return 0
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "caretIndex", {
            get: function () {
                return 0
            },
            enumerable: !0,
            configurable: !0
        });
        b._setSelection = function (a, c) {
        };
        Object.defineProperty(b, "lineSpacing", {
            get: function () {
                return this._TF_Props_._lineSpacing
            },
            set: function (a) {
                this._setLineSpacing(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setLineSpacing = function (a) {
            this._TF_Props_._lineSpacing != a && (this._setTextDirty(), this._TF_Props_._lineSpacing = a)
        };
        b._getLineHeight = function () {
            return this._TF_Props_._lineSpacing + this._TF_Props_._size
        };
        Object.defineProperty(b, "numLines", {
            get: function () {
                return this._TF_Props_._numLines
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "multiline", {
            get: function () {
                return this._TF_Props_._multiline
            },
            set: function (a) {
                this._setMultiline(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setMultiline = function (a) {
            this._TF_Props_._multiline = a;
            this._setDirty()
        };
        b._setWidth = function (a) {
            f.prototype._setWidth.call(this, a);
            this.fillBackground()
        };
        b._setHeight = function (a) {
            f.prototype._setHeight.call(this, a);
            this.fillBackground()
        };
        Object.defineProperty(b, "border", {
            get: function () {
                return this._TF_Props_._border
            },
            set: function (a) {
                this._TF_Props_._border = a;
                this.fillBackground()
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "borderColor", {
            get: function () {
                return this._TF_Props_._borderColor
            },
            set: function (a) {
                this._TF_Props_._borderColor = a;
                this.fillBackground()
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "background", {
            get: function () {
                return this._TF_Props_._background
            },
            set: function (a) {
                this._TF_Props_._background = a;
                this.fillBackground()
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b,
                "backgroundColor", {
                    get: function () {
                        return this._TF_Props_._backgroundColor
                    },
                    set: function (a) {
                        this._TF_Props_._backgroundColor = a;
                        this.fillBackground()
                    },
                    enumerable: !0,
                    configurable: !0
                });
        b.fillBackground = function () {
            var a = this._bgGraphics,
                    c = this._TF_Props_;
            a && a.clear();
            if (c._background || c._border)
                null == a && (a = this._bgGraphics = new e.Graphics), c._background && a.beginFill(c._backgroundColor, 1), c._border && a.lineStyle(1, c._borderColor), a.drawRect(0, 0, this._getWidth(), this._getHeight()), a.endFill()
        };
        b.setFocus =
                function () {
                    e.Logger.warningWithErrorId(1013)
                };
        b._onRemoveFromStage = function () {
            f.prototype._onRemoveFromStage.call(this);
            this._removeEvent();
            this._TF_Props_._type == e.TextFieldType.INPUT && this._inputUtils._removeStageText()
        };
        b._onAddToStage = function () {
            f.prototype._onAddToStage.call(this);
            this._addEvent();
            this._TF_Props_._type == e.TextFieldType.INPUT && this._inputUtils._addStageText()
        };
        b._updateBaseTransform = function () {
            this._getLinesArr();
            0 == this._TF_Props_._textMaxWidth && this._TF_Props_._type != e.TextFieldType.INPUT ||
                    f.prototype._updateTransform.call(this)
        };
        b._updateTransform = function () {
            this._TF_Props_._type == e.TextFieldType.INPUT ? this._DO_Props_._normalDirty ? this._inputUtils._updateProperties() : this._inputUtils._updateTransform() : this._updateBaseTransform()
        };
        b._draw = function (a) {
            var c = this._TF_Props_;
            if (c._type == e.TextFieldType.INPUT) {
                if (this._isTyping)
                    return
            } else if (0 == c._textMaxWidth)
                return;
            f.prototype._draw.call(this, a)
        };
        b._render = function (a) {
            this._bgGraphics && this._bgGraphics._draw(a);
            this.drawText(a);
            this._clearDirty()
        };
        b._measureBounds = function () {
            var a = this._TF_Props_;
            this._getLinesArr();
            return 0 == a._textMaxWidth ? e.Rectangle.identity.initialize(0, 0, 0, 0) : e.Rectangle.identity.initialize(0, 0, a._textMaxWidth, e.TextFieldUtils._getTextHeight(this))
        };
        Object.defineProperty(b, "textFlow", {
            get: function () {
                return this._textArr
            },
            set: function (a) {
                var c = this._TF_Props_;
                this._isFlow = !0;
                var h = "";
                null == a && (a = []);
                for (var b = 0; b < a.length; b++)
                    h += a[b].text;
                c._displayAsPassword ? this._setBaseText(h) : (c._text = h, this.setMiddleStyle(a))
            },
            enumerable: !0,
            configurable: !0
        });
        b.changeToPassText = function (a) {
            if (this._TF_Props_._displayAsPassword) {
                for (var c = "", h = 0, b = a.length; h < b; h++)
                    switch (a.charAt(h)) {
                        case "\n":
                            c += "\n";
                            break;
                        case "\r":
                            break;
                        default:
                            c += "*"
                    }
                return c
            }
            return a
        };
        b.setMiddleStyle = function (a) {
            this._isArrayChanged = !0;
            this._textArr = a;
            this._setSizeDirty()
        };
        Object.defineProperty(b, "textWidth", {
            get: function () {
                return this._TF_Props_._textMaxWidth
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "textHeight", {
            get: function () {
                return e.TextFieldUtils._getTextHeight(this)
            },
            enumerable: !0,
            configurable: !0
        });
        b.appendText = function (a) {
            this.appendElement({
                text: a
            })
        };
        b.appendElement = function (a) {
            this._textArr.push(a);
            this.setMiddleStyle(this._textArr)
        };
        b._getLinesArr = function () {
            var a = this._TF_Props_;
            if (!this._isArrayChanged)
                return this._linesArr;
            this._isArrayChanged = !1;
            var c = this._textArr,
                    h = e.MainContext.instance.rendererContext;
            this._linesArr.length = 0;
            a._textMaxHeight = 0;
            a._textMaxWidth = 0;
            if (this._DO_Props_._hasWidthSet && 0 == this._DO_Props_._explicitWidth)
                return a._numLines = 0, [{
                        width: 0,
                        height: 0,
                        charNum: 0,
                        elements: [],
                        hasNextLine: !1
                    }];
            this._isFlow || h.setupFont(this);
            for (var b = this._linesArr, d = 0, f = 0, g = 0, l = 0, k, m = 0, n = c.length; m < n; m++) {
                var p = c[m];
                p.style = p.style || {};
                for (var q = p.text.toString().split(/(?:\r\n|\r|\n)/), u = 0, y = q.length; u < y; u++) {
                    null == b[l] && (k = {
                        width: 0,
                        height: 0,
                        elements: [],
                        charNum: 0,
                        hasNextLine: !1
                    }, b[l] = k, f = g = d = 0);
                    var g = a._type == e.TextFieldType.INPUT ? a._size : Math.max(g, p.style.size || a._size),
                            s = !0;
                    if ("" == q[u])
                        u == y - 1 && (s = !1);
                    else {
                        this._isFlow && h.setupFont(this, p.style);
                        var w = h.measureText(q[u]);
                        if (this._DO_Props_._hasWidthSet)
                            if (d + w <= this._DO_Props_._explicitWidth)
                                k.elements.push({
                                    width: w,
                                    text: q[u],
                                    style: p.style
                                }), d += w, f += q[u].length, u == y - 1 && (s = !1);
                            else {
                                for (var v = s = 0, z = q[u], t = z.length; s < t; s++) {
                                    w = h.measureText(z.charAt(s));
                                    if (d + w > this._DO_Props_._explicitWidth && 0 != d + s)
                                        break;
                                    v += w;
                                    d += w;
                                    f += 1
                                }
                                0 < s && (k.elements.push({
                                    width: v,
                                    text: z.substring(0, s),
                                    style: p.style
                                }), q[u] = z.substring(s));
                                u--;
                                s = !1
                            }
                        else
                            d += w, f += q[u].length, k.elements.push({
                                width: w,
                                text: q[u],
                                style: p.style
                            }), u ==
                                    y - 1 && (s = !1)
                    }
                    s && (f++, k.hasNextLine = !0);
                    u < q.length - 1 && (k.width = d, k.height = g, k.charNum = f, a._textMaxWidth = Math.max(a._textMaxWidth, d), a._textMaxHeight += g, l++)
                }
                m == c.length - 1 && k && (k.width = d, k.height = g, k.charNum = f, a._textMaxWidth = Math.max(a._textMaxWidth, d), a._textMaxHeight += g)
            }
            a._numLines = b.length;
            return b
        };
        b.drawText = function (a) {
            var c = this._TF_Props_,
                    h = this._getLinesArr();
            if (0 != c._textMaxWidth) {
                var b = this._DO_Props_._hasWidthSet ? this._DO_Props_._explicitWidth : c._textMaxWidth,
                        d = e.TextFieldUtils._getTextHeight(this),
                        f = 0,
                        g = e.TextFieldUtils._getStartLine(this);
                if (this._DO_Props_._hasHeightSet && this._DO_Props_._explicitHeight > d)
                    var l = e.TextFieldUtils._getValign(this),
                        f = f + l * (this._DO_Props_._explicitHeight - d);
                for (var f = Math.round(f), d = e.TextFieldUtils._getHalign(this), l = 0, k = g, m = c._numLines; k < m; k++) {
                    var n = h[k],
                            p = n.height,
                            f = f + p / 2;
                    if (k != g) {
                        if (c._type == e.TextFieldType.INPUT && !c._multiline)
                            break;
                        if (this._DO_Props_._hasHeightSet && f > this._DO_Props_._explicitHeight)
                            break
                    }
                    for (var l = Math.round((b - n.width) * d), q = 0, u = n.elements.length; q <
                            u; q++) {
                        var y = n.elements[q];
                        a.drawText(this, y.text, l, f + (p - (y.style.size || c._size)) / 2, y.width, y.style);
                        l += y.width
                    }
                    f += p / 2 + c._lineSpacing
                }
            }
        };
        b._addEvent = function () {
            this.addEventListener(e.TouchEvent.TOUCH_TAP, this.onTapHandler, this)
        };
        b._removeEvent = function () {
            this.removeEventListener(e.TouchEvent.TOUCH_TAP, this.onTapHandler, this)
        };
        b.onTapHandler = function (a) {
            if (this._TF_Props_._type != e.TextFieldType.INPUT && (a = e.TextFieldUtils._getTextElement(this, a.localX, a.localY), null != a && (a = a.style) && a.href && a.href.match(/^event:/))) {
                var c =
                        a.href.match(/^event:/)[0];
                e.TextEvent.dispatchTextEvent(this, e.TextEvent.LINK, a.href.substring(c.length))
            }
        };
        d.default_fontFamily = "Arial";
        return d
    }(e.DisplayObject);
    e.TextField = f;
    f.prototype.__class__ = "egret.TextField"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function e() {
            this.resutlArr = []
        }
        var d = e.prototype;
        d.parser = function (b) {
            this.stackArray = [];
            this.resutlArr = [];
            for (var a = 0, c = b.length; a < c; ) {
                var h = b.indexOf("<", a);
                0 > h ? (this.addToResultArr(b.substring(a)), a = c) : (this.addToResultArr(b.substring(a, h)), a = b.indexOf(">", h), "/" == b.charAt(h + 1) ? this.stackArray.pop() : this.addToArray(b.substring(h + 1, a)), a += 1)
            }
            return this.resutlArr
        };
        d.addToResultArr = function (b) {
            if ("" != b) {
                var a = [];
                a.push(["&lt;", "<"]);
                a.push(["&gt;", ">"]);
                a.push(["&amp;",
                    "&"
                ]);
                a.push(["&quot;", '"']);
                a.push(["&apos;;", "'"]);
                for (var c = 0; c < a.length; c++)
                    b.replace(new RegExp(a[c][0], "g"), a[c][1]);
                0 < this.stackArray.length ? this.resutlArr.push({
                    text: b,
                    style: this.stackArray[this.stackArray.length - 1]
                }) : this.resutlArr.push({
                    text: b
                })
            }
        };
        d.changeStringToObject = function (b) {
            var a = {};
            b = b.replace(/( )+/g, " ").split(" ");
            for (var c = 0; c < b.length; c++)
                this.addProperty(a, b[c]);
            return a
        };
        d.addProperty = function (b, a) {
            var c = a.replace(/( )*=( )*/g, "=").split("=");
            c[1] && (c[1] = c[1].replace(/(\"|\')/g,
                    ""));
            switch (c[0].toLowerCase()) {
                case "color":
                case "textcolor":
                    c[1] = c[1].replace(/#/, "0x");
                    b.textColor = parseInt(c[1]);
                    break;
                case "strokecolor":
                    c[1] = c[1].replace(/#/, "0x");
                    b.strokeColor = parseInt(c[1]);
                    break;
                case "stroke":
                    b.stroke = parseInt(c[1]);
                    break;
                case "b":
                    b.bold = "true" == (c[1] || "true");
                    break;
                case "i":
                    b.italic = "true" == (c[1] || "true");
                    break;
                case "size":
                    b.size = parseInt(c[1]);
                    break;
                case "fontfamily":
                    b.fontFamily = c[1];
                    break;
                case "href":
                    b.href = c[1]
            }
        };
        d.addToArray = function (b) {
            b = this.changeStringToObject(b);
            if (0 != this.stackArray.length) {
                var a = this.stackArray[this.stackArray.length - 1],
                        c;
                for (c in a)
                    null == b[c] && (b[c] = a[c])
            }
            this.stackArray.push(b)
        };
        return e
    }();
    e.HtmlTextParser = f;
    f.prototype.__class__ = "egret.HtmlTextParser"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function e() {
        }
        e.DYNAMIC = "dynamic";
        e.INPUT = "input";
        return e
    }();
    e.TextFieldType = f;
    f.prototype.__class__ = "egret.TextFieldType"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d(a) {
            f.call(this);
            this._bitmapY = this._bitmapX = this._sourceHeight = this._sourceWidth = 0;
            this._textureMap = {};
            this.texture = a;
            this._sourceWidth = a._sourceWidth;
            this._sourceHeight = a._sourceHeight;
            this._bitmapX = a._bitmapX - a._offsetX;
            this._bitmapY = a._bitmapY - a._offsetY
        }
        __extends(d, f);
        var b = d.prototype;
        b.getTexture = function (a) {
            return this._textureMap[a]
        };
        b.createTexture = function (a, c, h, b, d, f, g, l, k) {
            void 0 === f && (f = 0);
            void 0 === g && (g = 0);
            "undefined" === typeof l && (l = f + b);
            "undefined" ===
                    typeof k && (k = g + d);
            var m = this.texture._clone(),
                    n = e.MainContext.instance.rendererContext._texture_scale_factor;
            m._bitmapX = this._bitmapX + c;
            m._bitmapY = this._bitmapY + h;
            m._bitmapWidth = b * n;
            m._bitmapHeight = d * n;
            m._offsetX = f;
            m._offsetY = g;
            m._textureWidth = l * n;
            m._textureHeight = k * n;
            m._sourceWidth = this._sourceWidth;
            m._sourceHeight = this._sourceHeight;
            return this._textureMap[a] = m
        };
        b.dispose = function () {
            this.texture && this.texture.dispose()
        };
        return d
    }(e.HashObject);
    e.SpriteSheet = f;
    f.prototype.__class__ = "egret.SpriteSheet"
})(egret ||
        (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this._text = null;
            this._isFocus = !1
        }
        __extends(d, f);
        var b = d.prototype;
        b.init = function (a) {
            this._text = a;
            this.stageText = e.StageText.create();
            this.stageText._setTextField(this._text)
        };
        b._addStageText = function () {
            this._text._inputEnabled || (this._text._DO_Props_._touchEnabled = !0);
            this.stageText._add();
            this.stageText._addListeners();
            this.stageText.addEventListener("updateText", this.updateTextHandler, this);
            this._text.addEventListener(e.TouchEvent.TOUCH_BEGIN, this.onMouseDownHandler,
                    this);
            e.MainContext.instance.stage.addEventListener(e.TouchEvent.TOUCH_BEGIN, this.onStageDownHandler, this);
            this.stageText.addEventListener("blur", this.blurHandler, this);
            this.stageText.addEventListener("focus", this.focusHandler, this)
        };
        b._removeStageText = function () {
            this._text._inputEnabled || (this._text._DO_Props_._touchEnabled = !1);
            this.stageText._remove();
            this.stageText._removeListeners();
            this.stageText._removeInput();
            this.stageText.removeEventListener("updateText", this.updateTextHandler, this);
            this._text.removeEventListener(e.TouchEvent.TOUCH_BEGIN,
                    this.onMouseDownHandler, this);
            e.MainContext.instance.stage.removeEventListener(e.TouchEvent.TOUCH_BEGIN, this.onStageDownHandler, this);
            this.stageText.removeEventListener("blur", this.blurHandler, this);
            this.stageText.removeEventListener("focus", this.focusHandler, this)
        };
        b._getText = function () {
            return this.stageText._getText()
        };
        b._setText = function (a) {
            this.stageText._setText(a)
        };
        b.focusHandler = function (a) {
            this._isFocus = !0;
            this._text._isTyping = !0;
            this._text.dispatchEvent(new e.FocusEvent(e.FocusEvent.FOCUS_IN))
        };
        b.blurHandler = function (a) {
            this._isFocus = !1;
            this._text._isTyping = !1;
            this._text.dispatchEvent(new e.FocusEvent(e.FocusEvent.FOCUS_OUT))
        };
        b.onMouseDownHandler = function (a) {
            a.stopPropagation();
            this._text._DO_Props_._visible && !this._isFocus && (this._isFocus = !0, this.stageText._show(this._text._TF_Props_._multiline, this._text.size, this._text.width, this._text.height), a = this._text.localToGlobal(), this.stageText._initElement(a.x, a.y, this._text._worldTransform.a, this._text._worldTransform.d))
        };
        b.onStageDownHandler =
                function (a) {
                    this.stageText._hide()
                };
        b.updateTextHandler = function (a) {
            this.resetText();
            this._text.dispatchEvent(new e.Event(e.Event.CHANGE))
        };
        b.resetText = function () {
            this._text._setBaseText(this.stageText._getText())
        };
        b._hideInput = function () {
            this.stageText._removeInput()
        };
        b._updateTransform = function () {
            this._text._updateBaseTransform();
            !this._text._DO_Props_._visible && this.stageText && this._hideInput()
        };
        b._updateProperties = function () {
            if (!this._isFocus) {
                var a = this._text._DO_Props_._stage;
                if (null == a)
                    this.stageText._setVisible(!1);
                else {
                    for (var c = this._text, h = c._DO_Props_._visible; h; ) {
                        c = c.parent;
                        if (c == a)
                            break;
                        h = c._DO_Props_._visible
                    }
                    this.stageText._setVisible(h)
                }
                this.stageText._setMultiline(this._text._TF_Props_._multiline);
                this.stageText._setTextType(this._text._TF_Props_._displayAsPassword ? "password" : "text");
                this.stageText._setText(this._text._TF_Props_._text);
                this.stageText._resetStageText()
            }
            this._updateTransform()
        };
        return d
    }(e.HashObject);
    e.InputController = f;
    f.prototype.__class__ = "egret.InputController"
})(egret || (egret = {}));
(function (e) {
    var f = function (e) {
        function d(a, c) {
            e.call(this, a);
            this.firstCharHeight = 0;
            "string" == typeof c ? this.charList = this.parseConfig(c) : c && c.hasOwnProperty("frames") ? this.charList = c.frames : this.charList = {}
        }
        __extends(d, e);
        var b = d.prototype;
        b.getTexture = function (a) {
            var c = this._textureMap[a];
            if (!c) {
                c = this.charList[a];
                if (!c)
                    return null;
                c = this.createTexture(a, c.x, c.y, c.w, c.h, c.offX, c.offY, c.sourceW, c.sourceH);
                this._textureMap[a] = c
            }
            return c
        };
        b._getFirstCharHeight = function () {
            if (0 == this.firstCharHeight)
                for (var a in this.charList) {
                    var c = this.charList[a];
                    if (c) {
                        var h = c.sourceH;
                        void 0 === h && (h = c.h, void 0 === h && (h = 0), c = c.offY, void 0 === c && (c = 0), h += c);
                        if (!(0 >= h)) {
                            this.firstCharHeight = h;
                            break
                        }
                    }
                }
            return this.firstCharHeight
        };
        b.parseConfig = function (a) {
            a = a.split("\r\n").join("\n");
            a = a.split("\n");
            for (var c = this.getConfigByKey(a[3], "count"), h = {}, b = 4; b < 4 + c; b++) {
                var d = a[b],
                        e = String.fromCharCode(this.getConfigByKey(d, "id")),
                        f = {};
                h[e] = f;
                f.x = this.getConfigByKey(d, "x");
                f.y = this.getConfigByKey(d, "y");
                f.w = this.getConfigByKey(d, "width");
                f.h = this.getConfigByKey(d, "height");
                f.offX = this.getConfigByKey(d, "xoffset");
                f.offY = this.getConfigByKey(d, "yoffset")
            }
            return h
        };
        b.getConfigByKey = function (a, c) {
            for (var h = a.split(" "), b = 0, d = h.length; b < d; b++) {
                var e = h[b];
                if (c == e.substring(0, c.length))
                    return h = e.substring(c.length + 1), parseInt(h)
            }
            return 0
        };
        return d
    }(e.SpriteSheet);
    e.BitmapFont = f;
    f.prototype.__class__ = "egret.BitmapFont"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d(a) {
            f.call(this);
            this._isAddedToStage = !1;
            this._frames = this._movieClipData = this._textureToRender = null;
            this._totalFrames = 0;
            this._frameLabels = null;
            this._frameIntervalTime = 0;
            this._eventPool = null;
            this._isPlaying = !1;
            this._isStopped = !0;
            this._passedTime = this._displayedKeyFrameNum = this._nextFrameNum = this._currentFrameNum = this._playTimes = 0;
            this._setMovieClipData(a);
            this.needDraw = !0
        }
        __extends(d, f);
        var b = d.prototype;
        b._init = function () {
            this._reset();
            var a = this._movieClipData;
            a && a._isDataValid() && (this._frames = a.frames, this._totalFrames = a.numFrames, this._frameLabels = a.labels, this._frameIntervalTime = 1E3 / a.frameRate, this._initFrame())
        };
        b._reset = function () {
            this._frames = null;
            this._playTimes = 0;
            this._isPlaying = !1;
            this.setIsStopped(!0);
            this._currentFrameNum = 0;
            this._nextFrameNum = 1;
            this._passedTime = this._displayedKeyFrameNum = 0;
            this._eventPool = []
        };
        b._initFrame = function () {
            this._movieClipData._isTextureValid() && (this._advanceFrame(), this._constructFrame())
        };
        b._render = function (a) {
            var c =
                    this._textureToRender;
            if (this._texture_to_render = c) {
                var h = Math.round(c._offsetX),
                        b = Math.round(c._offsetY),
                        e = c._bitmapWidth || c._textureWidth,
                        f = c._bitmapHeight || c._textureHeight,
                        g = Math.round(e),
                        l = Math.round(f);
                d.renderFilter.drawImage(a, this, c._bitmapX, c._bitmapY, e, f, h, b, g, l)
            }
        };
        b._measureBounds = function () {
            var a = this._textureToRender;
            return a ? e.Rectangle.identity.initialize(a._offsetX, a._offsetY, a._textureWidth, a._textureHeight) : f.prototype._measureBounds.call(this)
        };
        b._onAddToStage = function () {
            f.prototype._onAddToStage.call(this);
            this._isAddedToStage = !0;
            this._isPlaying && 1 < this._totalFrames && this.setIsStopped(!1)
        };
        b._onRemoveFromStage = function () {
            f.prototype._onRemoveFromStage.call(this);
            this._isAddedToStage = !1;
            this.setIsStopped(!0)
        };
        b._getFrameLabelByName = function (a, c) {
            void 0 === c && (c = !1);
            c && (a = a.toLowerCase());
            var h = this._frameLabels;
            if (h)
                for (var b = null, d = 0; d < h.length; d++)
                    if (b = h[d], c ? b.name.toLowerCase() === a : b.name === a)
                        return b;
            return null
        };
        b._getFrameLabelByFrame = function (a) {
            var c = this._frameLabels;
            if (c)
                for (var h = null, b = 0; b <
                        c.length; b++)
                    if (h = c[b], h.frame === a)
                        return h;
            return null
        };
        b._getFrameLabelForFrame = function (a) {
            var c = null,
                    h = null,
                    b = this._frameLabels;
            if (b)
                for (var d = 0; d < b.length; d++) {
                    h = b[d];
                    if (h.frame > a)
                        break;
                    c = h
                }
            return c
        };
        b.play = function (a) {
            void 0 === a && (a = 0);
            this._isPlaying = !0;
            this.setPlayTimes(a);
            1 < this._totalFrames && this._isAddedToStage && this.setIsStopped(!1)
        };
        b.stop = function () {
            this._isPlaying = !1;
            this.setIsStopped(!0)
        };
        b.prevFrame = function () {
            this.gotoAndStop(this._currentFrameNum - 1)
        };
        b.nextFrame = function () {
            this.gotoAndStop(this._currentFrameNum +
                    1)
        };
        b.gotoAndPlay = function (a, c) {
            void 0 === c && (c = 0);
            if (0 === arguments.length || 2 < arguments.length)
                throw Error(e.getString(1022, "MovieClip.gotoAndPlay()"));
            this.play(c);
            this._gotoFrame(a)
        };
        b.gotoAndStop = function (a) {
            if (1 != arguments.length)
                throw Error(e.getString(1022, "MovieClip.gotoAndStop()"));
            this.stop();
            this._gotoFrame(a)
        };
        b._gotoFrame = function (a) {
            var c;
            if ("string" === typeof a)
                c = this._getFrameLabelByName(a).frame;
            else if (c = parseInt(a + "", 10), c != a)
                throw Error(e.getString(1022, "Frame Label Not Found"));
            1 > c ? c = 1 : c > this._totalFrames && (c = this._totalFrames);
            c !== this._nextFrameNum && (this._nextFrameNum = c, this._advanceFrame(), this._constructFrame(), this._handlePendingEvent())
        };
        b._advanceTime = function (a) {
            var c = this._frameIntervalTime;
            a = this._passedTime + a;
            this._passedTime = a % c;
            c = a / c;
            if (!(1 > c)) {
                for (; 1 <= c; ) {
                    c--;
                    this._nextFrameNum++;
                    if (this._nextFrameNum > this._totalFrames)
                        if (-1 == this._playTimes)
                            this._eventPool.push(e.Event.LOOP_COMPLETE), this._nextFrameNum = 1;
                        else if (this._playTimes--, 0 < this._playTimes)
                            this._eventPool.push(e.Event.LOOP_COMPLETE),
                                    this._nextFrameNum = 1;
                        else {
                            this._nextFrameNum = this._totalFrames;
                            this._eventPool.push(e.Event.COMPLETE);
                            this.stop();
                            break
                        }
                    this._advanceFrame()
                }
                this._constructFrame();
                this._handlePendingEvent();
                this._setDirty()
            }
        };
        b._advanceFrame = function () {
            this._currentFrameNum = this._nextFrameNum
        };
        b._constructFrame = function () {
            var a = this._currentFrameNum;
            this._displayedKeyFrameNum != a && (this._textureToRender = this._movieClipData.getTextureByFrame(a), this._displayedKeyFrameNum = a)
        };
        b._handlePendingEvent = function () {
            if (0 !=
                    this._eventPool.length) {
                this._eventPool.reverse();
                for (var a = this._eventPool, c = a.length, h = !1, b = !1, d = 0; d < c; d++) {
                    var f = a.pop();
                    f == e.Event.LOOP_COMPLETE ? b = !0 : f == e.Event.COMPLETE ? h = !0 : this.dispatchEventWith(f)
                }
                b && this.dispatchEventWith(e.Event.LOOP_COMPLETE);
                h && this.dispatchEventWith(e.Event.COMPLETE)
            }
        };
        Object.defineProperty(b, "totalFrames", {
            get: function () {
                return this._totalFrames
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "currentFrame", {
            get: function () {
                return this._currentFrameNum
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "currentFrameLabel", {
            get: function () {
                var a = this._getFrameLabelByFrame(this._currentFrameNum);
                return a && a.name
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "currentLabel", {
            get: function () {
                var a = this._getFrameLabelForFrame(this._currentFrameNum);
                return a ? a.name : null
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "frameRate", {
            get: function () {
                return this.movieClipData.frameRate
            },
            set: function (a) {
                a != this._movieClipData.frameRate && (this._movieClipData.frameRate =
                        a, this._frameIntervalTime = 1E3 / this._movieClipData.frameRate)
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "isPlaying", {
            get: function () {
                return this._isPlaying
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "movieClipData", {
            get: function () {
                return this._movieClipData
            },
            set: function (a) {
                this._setMovieClipData(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setMovieClipData = function (a) {
            this._movieClipData != a && (this._movieClipData = a, this._init())
        };
        b.setPlayTimes = function (a) {
            if (0 > a || 1 <= a)
                this._playTimes =
                        0 > a ? -1 : Math.floor(a)
        };
        b.setIsStopped = function (a) {
            this._isStopped != a && ((this._isStopped = a) ? (this._playTimes = 0, e.Ticker.getInstance().unregister(this._advanceTime, this)) : (this._playTimes = 0 == this._playTimes ? 1 : this._playTimes, e.Ticker.getInstance().register(this._advanceTime, this)))
        };
        d.renderFilter = e.RenderFilter.getInstance();
        return d
    }(e.DisplayObject);
    e.MovieClip = f;
    f.prototype.__class__ = "egret.MovieClip"
})(egret || (egret = {}));
(function (e) {
    var f = function (e) {
        function d(a, c) {
            e.call(this);
            this._name = a;
            this._frame = c | 0
        }
        __extends(d, e);
        var b = d.prototype;
        Object.defineProperty(b, "name", {
            get: function () {
                return this._name
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "frame", {
            get: function () {
                return this._frame
            },
            enumerable: !0,
            configurable: !0
        });
        b.clone = function () {
            return new d(this._name, this._frame)
        };
        return d
    }(e.EventDispatcher);
    e.FrameLabel = f;
    f.prototype.__class__ = "egret.FrameLabel"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this._mcData = null;
            this.numFrames = 1;
            this.frames = [];
            this.labels = null;
            this.frameRate = 0;
            this.spriteSheet = this.textureData = null
        }
        __extends(d, f);
        var b = d.prototype;
        b._init = function (a, c, h) {
            this.textureData = c;
            this.spriteSheet = h;
            this._setMCData(a)
        };
        b.getKeyFrameData = function (a) {
            a = this.frames[a - 1];
            a.frame && (a = this.frames[a.frame - 1]);
            return a
        };
        b.getTextureByFrame = function (a) {
            a = this.getKeyFrameData(a);
            if (a.res) {
                var c = this.getTextureByResName(a.res);
                c._offsetX =
                        a.x | 0;
                c._offsetY = a.y | 0;
                return c
            }
            return null
        };
        b.getTextureByResName = function (a) {
            var c = this.spriteSheet.getTexture(a);
            c || (c = this.textureData[a], c = this.spriteSheet.createTexture(a, c.x, c.y, c.w, c.h));
            return c
        };
        b._isDataValid = function () {
            return 0 < this.frames.length
        };
        b._isTextureValid = function () {
            return null != this.textureData && null != this.spriteSheet
        };
        b._fillMCData = function (a) {
            this.frameRate = a.frameRate || 24;
            this._fillFramesData(a.frames);
            this._fillFrameLabelsData(a.labels)
        };
        b._fillFramesData = function (a) {
            for (var c =
                    this.frames, h = a ? a.length : 0, b, d = 0; d < h; d++)
                if (b = a[d], c.push(b), b.duration) {
                    var e = parseInt(b.duration);
                    if (1 < e) {
                        b = c.length;
                        for (var f = 1; f < e; f++)
                            c.push({
                                frame: b
                            })
                    }
                }
            this.numFrames = c.length
        };
        b._fillFrameLabelsData = function (a) {
            if (a) {
                var c = a.length;
                if (0 < c) {
                    this.labels = [];
                    for (var h = 0; h < c; h++) {
                        var b = a[h];
                        this.labels.push(new e.FrameLabel(b.name, b.frame))
                    }
                }
            }
        };
        Object.defineProperty(b, "mcData", {
            get: function () {
                return this._mcData
            },
            set: function (a) {
                this._setMCData(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setMCData = function (a) {
            this._mcData !=
                    a && (this._mcData = a) && this._fillMCData(a)
        };
        return d
    }(e.HashObject);
    e.MovieClipData = f;
    f.prototype.__class__ = "egret.MovieClipData"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d(a, c) {
            f.call(this);
            this.enableCache = !0;
            this._mcDataCache = {};
            this._mcDataSet = a;
            this.setTexture(c)
        }
        __extends(d, f);
        var b = d.prototype;
        b.clearCache = function () {
            this._mcDataCache = {}
        };
        b.generateMovieClipData = function (a) {
            void 0 === a && (a = "");
            if ("" == a && this._mcDataSet)
                for (a in this._mcDataSet.mc)
                    break;
            if ("" == a)
                return null;
            var c = this._findFromCache(a, this._mcDataCache);
            c || (c = new e.MovieClipData, this._fillData(a, c, this._mcDataCache));
            return c
        };
        b._findFromCache = function (a,
                c) {
            return this.enableCache && c[a] ? c[a] : null
        };
        b._fillData = function (a, c, h) {
            if (this._mcDataSet) {
                var b = this._mcDataSet.mc[a];
                b && (c._init(b, this._mcDataSet.res, this._spriteSheet), this.enableCache && (h[a] = c))
            }
        };
        Object.defineProperty(b, "mcDataSet", {
            get: function () {
                return this._mcDataSet
            },
            set: function (a) {
                this._mcDataSet = a
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "texture", {
            set: function (a) {
                this.setTexture(a)
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "spriteSheet", {
            get: function () {
                return this._spriteSheet
            },
            enumerable: !0,
            configurable: !0
        });
        b.setTexture = function (a) {
            this._spriteSheet = a ? new e.SpriteSheet(a) : null
        };
        return d
    }(e.EventDispatcher);
    e.MovieClipDataFactory = f;
    f.prototype.__class__ = "egret.MovieClipDataFactory"
})(egret || (egret = {}));
(function (e) {
    var f = function (e) {
        function d() {
            e.call(this);
            this._scaleY = this._scaleX = 1;
            this._size = 30;
            this._color = "#FFFFFF";
            this._fontFamily = "Arial";
            this._italic = this._bold = !1;
            this._textAlign = "left";
            this._verticalAlign = "top";
            this._visible = !1;
            this._height = this._width = 0;
            this._multiline = !1;
            this._maxChars = 0
        }
        __extends(d, e);
        var b = d.prototype;
        b._setTextField = function (a) {
            this._textfield = a
        };
        b._getText = function () {
            return null
        };
        b._setText = function (a) {
        };
        b._setTextType = function (a) {
        };
        b._getTextType = function () {
            return null
        };
        b._show = function (a, c, h, b) {
        };
        b._add = function () {
        };
        b._remove = function () {
        };
        b._hide = function () {
        };
        b._addListeners = function () {
        };
        b._removeListeners = function () {
        };
        b._setScale = function (a, c) {
            this._scaleX = a;
            this._scaleY = c
        };
        b.changePosition = function (a, c) {
        };
        b._setSize = function (a) {
            this._size = a
        };
        b._setTextColor = function (a) {
            this._color = a
        };
        b._setTextFontFamily = function (a) {
            this._fontFamily = a
        };
        b._setBold = function (a) {
            this._bold = a
        };
        b._setItalic = function (a) {
            this._italic = a
        };
        b._setTextAlign = function (a) {
            this._textAlign = a
        };
        b._setVerticalAlign = function (a) {
            this._verticalAlign = a
        };
        b._setVisible = function (a) {
            this._visible = a
        };
        b._setWidth = function (a) {
            this._width = a
        };
        b._setHeight = function (a) {
            this._height = a
        };
        b._setMultiline = function (a) {
            this._multiline = a
        };
        b._setMaxChars = function (a) {
            this._maxChars = a
        };
        b._resetStageText = function () {
        };
        b._initElement = function (a, c, h, b) {
        };
        b._removeInput = function () {
        };
        d.create = function () {
            return null
        };
        return d
    }(e.EventDispatcher);
    e.StageText = f;
    f.prototype.__class__ = "egret.StageText"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function e() {
        }
        e.GET = "get";
        e.POST = "post";
        return e
    }();
    e.URLRequestMethod = f;
    f.prototype.__class__ = "egret.URLRequestMethod"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function e() {
        }
        e.BINARY = "binary";
        e.TEXT = "text";
        e.VARIABLES = "variables";
        e.TEXTURE = "texture";
        e.SOUND = "sound";
        return e
    }();
    e.URLLoaderDataFormat = f;
    f.prototype.__class__ = "egret.URLLoaderDataFormat"
})(egret || (egret = {}));
(function (e) {
    var f = function (e) {
        function d(a) {
            void 0 === a && (a = null);
            e.call(this);
            this.variables = null;
            null !== a && this.decode(a)
        }
        __extends(d, e);
        var b = d.prototype;
        b.decode = function (a) {
            this.variables || (this.variables = {});
            a = a.split("+").join(" ");
            for (var c, h = /[?&]?([^=]+)=([^&]*)/g; c = h.exec(a); ) {
                var b = decodeURIComponent(c[1]);
                c = decodeURIComponent(c[2]);
                if (!1 == b in this.variables)
                    this.variables[b] = c;
                else {
                    var d = this.variables[b];
                    d instanceof Array ? d.push(c) : this.variables[b] = [d, c]
                }
            }
        };
        b.toString = function () {
            if (!this.variables)
                return "";
            var a = this.variables,
                    c = [],
                    h;
            for (h in a)
                c.push(this.encodeValue(h, a[h]));
            return c.join("&")
        };
        b.encodeValue = function (a, c) {
            return c instanceof Array ? this.encodeArray(a, c) : encodeURIComponent(a) + "=" + encodeURIComponent(c)
        };
        b.encodeArray = function (a, c) {
            return a ? 0 == c.length ? encodeURIComponent(a) + "=" : c.map(function (c) {
                return encodeURIComponent(a) + "=" + encodeURIComponent(c)
            }).join("&") : ""
        };
        return d
    }(e.HashObject);
    e.URLVariables = f;
    f.prototype.__class__ = "egret.URLVariables"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        return function (e, d) {
            this.value = this.name = "";
            this.name = e;
            this.value = d
        }
    }();
    e.URLRequestHeader = f;
    f.prototype.__class__ = "egret.URLRequestHeader"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d(b) {
            void 0 === b && (b = null);
            f.call(this);
            this.data = null;
            this.method = e.URLRequestMethod.GET;
            this.url = "";
            this.url = b
        }
        __extends(d, f);
        return d
    }(e.HashObject);
    e.URLRequest = f;
    f.prototype.__class__ = "egret.URLRequest"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d(a) {
            void 0 === a && (a = null);
            f.call(this);
            this.dataFormat = e.URLLoaderDataFormat.TEXT;
            this._request = this.data = null;
            this._status = -1;
            a && this.load(a)
        }
        __extends(d, f);
        var b = d.prototype;
        b.load = function (a) {
            this._request = a;
            this.data = null;
            e.MainContext.instance.netContext.proceed(this)
        };
        b.__recycle = function () {
            this.data = this._request = null
        };
        return d
    }(e.EventDispatcher);
    e.URLLoader = f;
    f.prototype.__class__ = "egret.URLLoader"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this._sourceHeight = this._sourceWidth = this._textureHeight = this._textureWidth = this._offsetY = this._offsetX = this._bitmapHeight = this._bitmapWidth = this._bitmapY = this._bitmapX = 0;
            this._bitmapData = null
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "textureWidth", {
            get: function () {
                return this._textureWidth
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "textureHeight", {
            get: function () {
                return this._textureHeight
            },
            enumerable: !0,
            configurable: !0
        });
        b._setBitmapData = function (a) {
            var c = e.MainContext.instance.rendererContext._texture_scale_factor;
            this._bitmapData = a;
            this._sourceWidth = a.width;
            this._sourceHeight = a.height;
            this._textureWidth = this._sourceWidth * c;
            this._textureHeight = this._sourceHeight * c;
            this._bitmapWidth = this._textureWidth;
            this._bitmapHeight = this._textureHeight;
            this._offsetX = this._offsetY = this._bitmapX = this._bitmapY = 0
        };
        b.getPixel32 = function (a, c) {
            return this._bitmapData.getContext("2d").getImageData(a, c, 1, 1).data
        };
        b.dispose = function () {
            var a =
                    this._bitmapData;
            a.dispose && a.dispose()
        };
        b._clone = function () {
            var a = new d;
            a._bitmapData = this._bitmapData;
            return a
        };
        b.draw = function (a, c, h, b, d, e, f, g, k, m) {
        };
        b._drawForCanvas = function (a, c, h, b, d, e, f, g, k, m) {
            var n = this._bitmapData;
            n && n.avaliable && (void 0 != m ? this._drawRepeatImageForCanvas(a, c, h, b, d, e, f, g, k, m) : a.drawImage(n, c, h, b, d, e, f, g, k))
        };
        b._drawForNative = function (a, c, h, b, d, e, f, g, k, m) {
            var n = this._bitmapData;
            n && n.avaliable && (void 0 !== m ? this._drawRepeatImageForNative(a, c, h, b, d, e, f, g, k, m) : a.drawImage(n, c,
                    h, b, d, e, f, g, k))
        };
        b._drawRepeatImageForNative = function (a, c, h, b, d, f, g, l, k, m) {
            m = e.MainContext.instance.rendererContext._texture_scale_factor;
            b *= m;
            for (d *= m; f < l; f += b)
                for (var n = g; n < k; n += d) {
                    var p = Math.min(b, l - f),
                            q = Math.min(d, k - n);
                    this._drawForNative(a, c, h, p / m, q / m, f, n, p, q, void 0)
                }
        };
        b._drawRepeatImageForCanvas = function (a, c, h, b, d, f, g, l, k, m) {
            if (void 0 === this.pattern) {
                var n = e.MainContext.instance.rendererContext._texture_scale_factor,
                        p = this._bitmapData,
                        q = p;
                if (p.width != b || p.height != d || 1 != n)
                    q = document.createElement("canvas"),
                            q.width = b * n, q.height = d * n, q.getContext("2d").drawImage(p, c, h, b, d, 0, 0, b * n, d * n);
                this.pattern = a.createPattern(q, m)
            }
            a.fillStyle = this.pattern;
            a.translate(f, g);
            a.fillRect(0, 0, l, k);
            a.translate(-f, -g)
        };
        b._disposeForCanvas = function () {
            d.deleteWebGLTexture(this);
            var a = this._bitmapData;
            a.onload = null;
            a.onerror = null;
            a.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAATSURBVHjaYvj//z8DAAAA//8DAAj8Av7TpXVhAAAAAElFTkSuQmCC";
            a.avaliable = !1;
            console.log("_disposeForCanvas")
        };
        b._disposeForNative = function () {
            var a = this._bitmapData;
            a.dispose();
            a.avaliable = !1;
            console.log("_disposeForNative")
        };
        d.deleteWebGLTexture = function (a) {
            if (a = a._bitmapData) {
                var c = a.webGLTexture;
                if (c)
                    for (var h in c) {
                        var b = c[h];
                        b.glContext.deleteTexture(b)
                    }
                a.webGLTexture = null
            }
        };
        d.createBitmapData = function (a, c) {
        };
        d._createBitmapDataForCanvasAndWebGl = function (a, c) {
            var h = d._bitmapDataFactory[a];
            h || (h = document.createElement("img"), h.crossOrigin = "anonymous", h.setAttribute("bitmapSrc",
                    a), d._bitmapDataFactory[a] = h);
            if (h.avaliable)
                c(0, h);
            else {
                var b = window.URL || window.webkitURL;
                if (null == d._bitmapCallbackMap[a])
                    if (d._addToCallbackList(a, c), 0 != a.indexOf("http:") && 0 != a.indexOf("https:") && e.Browser.getInstance().isIOS() && 7 <= parseInt(e.Browser.getInstance().getIOSVersion().charAt(0)) && b) {
                        var f = new XMLHttpRequest;
                        f.open("get", a, !0);
                        f.responseType = "blob";
                        f.onload = function () {
                            if (200 == this.status) {
                                var e = this.response;
                                h.onload = function () {
                                    b.revokeObjectURL(h.src);
                                    d._onLoad(a, h)
                                };
                                h.onerror = function () {
                                    d._onError(a,
                                            h)
                                };
                                h.src = b.createObjectURL(e)
                            } else
                                c(1, null)
                        };
                        f.send()
                    } else
                        h.onload = function () {
                            d._onLoad(a, h)
                        }, h.onerror = function () {
                            d._onError(a, h)
                        }, h.src = a;
                else
                    d._addToCallbackList(a, c)
            }
        };
        d._onLoad = function (a, c) {
            c.avaliable = !0;
            c.onload && (c.onload = null);
            c.onerror && (c.onerror = null);
            var h = d._bitmapCallbackMap[a];
            if (h && h.length) {
                delete d._bitmapCallbackMap[a];
                for (var b = h.length, e = 0; e < b; e++)
                    (0, h[e])(0, c)
            }
        };
        d._onError = function (a, c) {
            var h = d._bitmapCallbackMap[a];
            if (h && h.length) {
                delete d._bitmapCallbackMap[a];
                for (var b =
                        h.length, e = 0; e < b; e++)
                    (0, h[e])(1, c)
            }
        };
        d._createBitmapDataForNative = function (a, c) {
            console.log("_createBitmapDataForNative:" + a);
            var h = d._bitmapDataFactory[a];
            h ? (h.avaliable || (console.log("reload"), h.reload(), h.avaliable = !0), c(0, h)) : e.NativeNetContext.__use_asyn ? d._bitmapCallbackMap[a] ? d._addToCallbackList(a, c) : (d._addToCallbackList(a, c), h = new e.PromiseObject, h.onSuccessFunc = function (c) {
                d._bitmapDataFactory[a] = c;
                d._onLoad(a, c)
            }, h.onErrorFunc = function () {
                d._onError(a, null)
            }, console.log("addTextureAsyn"),
                    egret_native.Texture.addTextureAsyn(a, h)) : (console.log("addTexture"), h = egret_native.Texture.addTexture(a), d._bitmapDataFactory[a] = h, h.avaliable = !0, c(0, h))
        };
        d._addToCallbackList = function (a, c) {
            var h = d._bitmapCallbackMap[a];
            h || (h = []);
            h.push(c);
            d._bitmapCallbackMap[a] = h
        };
        d._bitmapDataFactory = {};
        d._bitmapCallbackMap = {};
        return d
    }(e.HashObject);
    e.Texture = f;
    f.prototype.__class__ = "egret.Texture"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this)
        }
        __extends(d, f);
        var b = d.prototype;
        b.init = function () {
            this._bitmapData = document.createElement("canvas");
            this._bitmapData.avaliable = !0;
            this.renderContext = e.RendererContext.createRendererContext(this._bitmapData)
        };
        b.drawToTexture = function (a, c, h) {
            var b = c || a.getBounds(e.Rectangle.identity);
            if (0 == b.width || 0 == b.height)
                return !1;
            this._bitmapData || this.init();
            var f = b.x,
                    g = b.y,
                    r = b.width,
                    b = b.height,
                    l, k, m = e.MainContext.instance.rendererContext._texture_scale_factor;
            l = r / m;
            k = b / m;
            l = Math.round(l);
            k = Math.round(k);
            this.setSize(l, k);
            this.begin();
            a._worldTransform.identity();
            a._worldTransform.a = 1 / m;
            a._worldTransform.d = 1 / m;
            h && (a._worldTransform.a *= h, a._worldTransform.d *= h);
            h = a._DO_Props_._anchorOffsetX;
            m = a._DO_Props_._anchorOffsetY;
            if (0 != a._DO_Props_._anchorX || 0 != a._DO_Props_._anchorY)
                h = a._DO_Props_._anchorX * l, m = a._DO_Props_._anchorY * k;
            this._offsetX = f + h;
            this._offsetY = g + m;
            a._worldTransform.append(1, 0, 0, 1, -this._offsetX, -this._offsetY);
            c && (this._offsetX -= f, this._offsetY -=
                    g);
            a.worldAlpha = 1;
            if (a instanceof e.DisplayObjectContainer)
                for (c = a._children, f = 0, g = c.length; f < g; f++)
                    c[f]._updateTransform();
            this.renderContext.setTransform(a._worldTransform);
            c = e.RenderFilter.getInstance();
            f = c._drawAreaList.concat();
            c._drawAreaList.length = 0;
            this.renderContext.clearScreen();
            this.renderContext.onRenderStart();
            e.Texture.deleteWebGLTexture(this);
            a._DO_Props_._filter && this.renderContext.setGlobalFilter(a._DO_Props_._filter);
            a._DO_Props_._colorTransform && this.renderContext.setGlobalColorTransform(a._DO_Props_._colorTransform.matrix);
            (g = a.mask || a._DO_Props_._scrollRect) && this.renderContext.pushMask(g);
            h = e.MainContext.__use_new_draw;
            e.MainContext.__use_new_draw = !1;
            a._render(this.renderContext);
            e.MainContext.__use_new_draw = h;
            g && this.renderContext.popMask();
            a._DO_Props_._colorTransform && this.renderContext.setGlobalColorTransform(null);
            a._DO_Props_._filter && this.renderContext.setGlobalFilter(null);
            d.identityRectangle.width = l;
            d.identityRectangle.height = k;
            c.addDrawArea(d.identityRectangle);
            this.renderContext.onRenderFinish();
            c._drawAreaList =
                    f;
            this._sourceWidth = l;
            this._sourceHeight = k;
            this._textureWidth = Math.round(r);
            this._textureHeight = Math.round(b);
            this.end();
            return !0
        };
        b.setSize = function (a, c) {
            var h = this._bitmapData;
            h.width = a;
            h.height = c;
            h.style.width = a + "px";
            h.style.height = c + "px";
            this.renderContext._cacheCanvas && (this.renderContext._cacheCanvas.width = a, this.renderContext._cacheCanvas.height = c)
        };
        b.begin = function () {
        };
        b.end = function () {
        };
        b.dispose = function () {
            this._bitmapData && (this.renderContext = this._bitmapData = null)
        };
        d.identityRectangle =
                new e.Rectangle;
        return d
    }(e.Texture);
    e.RenderTexture = f;
    f.prototype.__class__ = "egret.RenderTexture"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this.renderCost = 0;
            this._texture_scale_factor = 1;
            this.profiler = e.Profiler.getInstance();
            d.blendModesForGL || d.initBlendMode()
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "texture_scale_factor", {
            get: function () {
                return this._texture_scale_factor
            },
            set: function (a) {
                this._setTextureScaleFactor(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setTextureScaleFactor = function (a) {
            this._texture_scale_factor = a
        };
        b.clearScreen = function () {
        };
        b.clearRect = function (a,
                c, h, b) {
        };
        b.drawImage = function (a, c, h, b, d, e, f, g, k, m) {
            this.profiler.onDrawImage()
        };
        b.drawImageScale9 = function (a, c, h, b, d, e, f, g, k, m) {
            return !1
        };
        b._addOneDraw = function () {
            this.profiler.onDrawImage()
        };
        b.setTransform = function (a) {
        };
        b.setAlpha = function (a, c) {
        };
        b.setupFont = function (a, c) {
        };
        b.measureText = function (a) {
            return 0
        };
        b.drawText = function (a, c, h, b, d, e) {
            this.profiler.onDrawImage()
        };
        b.strokeRect = function (a, c, h, b, d) {
        };
        b.pushMask = function (a) {
        };
        b.popMask = function () {
        };
        b.onRenderStart = function () {
        };
        b.onRenderFinish =
                function () {
                };
        b.setGlobalColorTransform = function (a) {
        };
        b.setGlobalFilter = function (a) {
        };
        b.drawCursor = function (a, c, h, b) {
        };
        d.createRendererContext = function (a) {
            return null
        };
        d.initBlendMode = function () {
            d.blendModesForGL = {};
            d.blendModesForGL[e.BlendMode.NORMAL] = [1, 771];
            d.blendModesForGL[e.BlendMode.ADD] = [770, 1];
            d.blendModesForGL[e.BlendMode.ERASE] = [0, 771];
            d.blendModesForGL[e.BlendMode.ERASE_REVERSE] = [0, 770]
        };
        d.registerBlendModeForGL = function (a, c, h, b) {
            d.blendModesForGL[a] && !b ? e.Logger.warningWithErrorId(1005,
                    a) : d.blendModesForGL[a] = [c, h]
        };
        d.imageSmoothingEnabled = !0;
        d.blendModesForGL = null;
        return d
    }(e.HashObject);
    e.RendererContext = f;
    f.prototype.__class__ = "egret.RendererContext"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function e() {
        }
        e.MOUSE = "mouse";
        e.TOUCH = "touch";
        e.mode = "touch";
        return e
    }();
    e.InteractionMode = f;
    f.prototype.__class__ = "egret.InteractionMode"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this._currentTouchTarget = {};
            this.maxTouches = 2;
            this.touchDownTarget = {};
            this.touchingIdentifiers = [];
            this.lastTouchY = this.lastTouchX = -1
        }
        __extends(d, f);
        var b = d.prototype;
        b.run = function () {
        };
        b.getTouchData = function (a, c, h) {
            var b = this._currentTouchTarget[a];
            null == b && (b = {}, this._currentTouchTarget[a] = b);
            b.stageX = c;
            b.stageY = h;
            b.identifier = a;
            return b
        };
        b.dispatchEvent = function (a, c) {
            e.TouchEvent.dispatchTouchEvent(c.target, a, c.identifier, c.stageX, c.stageY, !1, !1, !1, !0 == this.touchDownTarget[c.identifier])
        };
        b.onTouchBegan = function (a, c, h) {
            if (this.touchingIdentifiers.length != this.maxTouches) {
                this.lastTouchX = a;
                this.lastTouchY = c;
                var b = e.MainContext.instance.stage.hitTest(a, c);
                b && (a = this.getTouchData(h, a, c), this.touchDownTarget[h] = !0, a.target = b, a.beginTarget = b, this.dispatchEvent(e.TouchEvent.TOUCH_BEGIN, a));
                this.touchingIdentifiers.push(h)
            }
        };
        b.onTouchMove = function (a, c, h) {
            if (-1 != this.touchingIdentifiers.indexOf(h) && (a != this.lastTouchX || c != this.lastTouchY)) {
                this.lastTouchX =
                        a;
                this.lastTouchY = c;
                var b = e.MainContext.instance.stage.hitTest(a, c);
                b && (a = this.getTouchData(h, a, c), a.target = b, this.dispatchEvent(e.TouchEvent.TOUCH_MOVE, a))
            }
        };
        b.onTouchEnd = function (a, c, h) {
            var b = this.touchingIdentifiers.indexOf(h);
            -1 != b && (this.touchingIdentifiers.splice(b, 1), b = e.MainContext.instance.stage.hitTest(a, c)) && (a = this.getTouchData(h, a, c), delete this.touchDownTarget[h], h = a.beginTarget, a.target = b, this.dispatchEvent(e.TouchEvent.TOUCH_END, a), h == b ? this.dispatchEvent(e.TouchEvent.TOUCH_TAP, a) :
                    a.beginTarget && (a.target = a.beginTarget, this.dispatchEvent(e.TouchEvent.TOUCH_RELEASE_OUTSIDE, a)), delete this._currentTouchTarget[a.identifier])
        };
        return d
    }(e.HashObject);
    e.TouchContext = f;
    f.prototype.__class__ = "egret.TouchContext"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this)
        }
        __extends(d, f);
        var b = d.prototype;
        b.proceed = function (a) {
        };
        d._getUrl = function (a) {
            var c = a.url;
            -1 == c.indexOf("?") && a.method == e.URLRequestMethod.GET && a.data && a.data instanceof e.URLVariables && (c = c + "?" + a.data.toString());
            return c
        };
        b.getChangeList = function () {
            return []
        };
        return d
    }(e.HashObject);
    e.NetContext = f;
    f.prototype.__class__ = "egret.NetContext"
})(egret || (egret = {}));
(function (e) {
    var f = function (e) {
        function d() {
            e.call(this);
            this.frameRate = 60
        }
        __extends(d, e);
        d.prototype.executeMainLoop = function (b, a) {
        };
        return d
    }(e.HashObject);
    e.DeviceContext = f;
    f.prototype.__class__ = "egret.DeviceContext"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function e() {
        }
        e.call = function (d, b) {
        };
        e.addCallback = function (d, b) {
        };
        return e
    }();
    e.ExternalInterface = f;
    f.prototype.__class__ = "egret.ExternalInterface"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this.trans = null;
            this.header = "";
            this.ua = navigator.userAgent.toLowerCase();
            this.trans = this.getTrans("transform")
        }
        __extends(d, f);
        var b = d.prototype;
        d.getInstance = function () {
            null == d.instance && (d.instance = new d);
            return d.instance
        };
        Object.defineProperty(b, "isMobile", {
            get: function () {
                e.Logger.warningWithErrorId(1E3);
                return e.MainContext.deviceType == e.MainContext.DEVICE_MOBILE
            },
            enumerable: !0,
            configurable: !0
        });
        b.isIOS = function () {
            return 0 > this.ua.indexOf("windows") &&
                    (0 <= this.ua.indexOf("iphone") || 0 <= this.ua.indexOf("ipad") || 0 <= this.ua.indexOf("ipod"))
        };
        b.getIOSVersion = function () {
            return this.ua.toLowerCase().match(/cpu [^\d]*\d.*like mac os x/)[0].match(/\d(_\d)*/)[0]
        };
        b.getUserAgent = function () {
            return this.ua
        };
        b.getTrans = function (a) {
            "" == this.header && (this.header = this.getHeader());
            return this.header + a.substring(1, a.length)
        };
        b.getHeader = function () {
            for (var a = document.createElement("div").style, c = ["t", "webkitT", "msT", "MozT", "OT"], h = 0; h < c.length; h++)
                if (c[h] + "ransform" in
                        a)
                    return c[h];
            return c[0]
        };
        b.$new = function (a) {
            return this.$(document.createElement(a))
        };
        b.$ = function (a) {
            var c = document;
            if (a = a instanceof HTMLElement ? a : c.querySelector(a))
                a.find = a.find || this.$, a.hasClass = a.hasClass || function (c) {
                    return this.className.match(new RegExp("(\\s|^)" + c + "(\\s|$)"))
                }, a.addClass = a.addClass || function (c) {
                    this.hasClass(c) || (this.className && (this.className += " "), this.className += c);
                    return this
                }, a.removeClass = a.removeClass || function (c) {
                    this.hasClass(c) && (this.className = this.className.replace(c,
                            ""));
                    return this
                }, a.remove = a.remove || function () {
                }, a.appendTo = a.appendTo || function (c) {
                    c.appendChild(this);
                    return this
                }, a.prependTo = a.prependTo || function (c) {
                    c.childNodes[0] ? c.insertBefore(this, c.childNodes[0]) : c.appendChild(this);
                    return this
                }, a.transforms = a.transforms || function () {
                    this.style[d.getInstance().trans] = d.getInstance().translate(this.position) + d.getInstance().rotate(this.rotation) + d.getInstance().scale(this.scale) + d.getInstance().skew(this.skew);
                    return this
                }, a.position = a.position || {
                    x: 0,
                    y: 0
                },
                a.rotation = a.rotation || 0, a.scale = a.scale || {
                    x: 1,
                    y: 1
                }, a.skew = a.skew || {
                    x: 0,
                    y: 0
                }, a.translates = function (c, a) {
                    this.position.x = c;
                    this.position.y = a - e.MainContext.instance.stage.stageHeight;
                    this.transforms();
                    return this
                }, a.rotate = function (c) {
                    this.rotation = c;
                    this.transforms();
                    return this
                }, a.resize = function (c, a) {
                    this.scale.x = c;
                    this.scale.y = a;
                    this.transforms();
                    return this
                }, a.setSkew = function (c, a) {
                    this.skew.x = c;
                    this.skew.y = a;
                    this.transforms();
                    return this
                };
            return a
        };
        b.translate = function (a) {
            return "translate(" + a.x +
                    "px, " + a.y + "px) "
        };
        b.rotate = function (a) {
            return "rotate(" + a + "deg) "
        };
        b.scale = function (a) {
            return "scale(" + a.x + ", " + a.y + ") "
        };
        b.skew = function (a) {
            return "skewX(" + -a.x + "deg) skewY(" + a.y + "deg)"
        };
        return d
    }(e.HashObject);
    e.Browser = f;
    f.prototype.__class__ = "egret.Browser"
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        e.getItem = function (e) {
            return null
        };
        e.setItem = function (e, d) {
            return !1
        };
        e.removeItem = function (e) {
        };
        e.clear = function () {
        }
    })(e.localStorage || (e.localStorage = {}))
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function f() {
        }
        f.parse = function (d) {
            d = e.SAXParser.getInstance().parserXML(d);
            if (!d || !d.childNodes)
                return null;
            for (var b = d.childNodes.length, a = !1, c = 0; c < b; c++) {
                var h = d.childNodes[c];
                if (1 == h.nodeType) {
                    a = !0;
                    break
                }
            }
            return a ? f.parseNode(h) : null
        };
        f.parseNode = function (d) {
            if (!d || 1 != d.nodeType)
                return null;
            var b = {};
            b.localName = d.localName;
            b.name = d.nodeName;
            d.namespaceURI && (b.namespace = d.namespaceURI);
            d.prefix && (b.prefix = d.prefix);
            for (var a = d.attributes, c = a.length, h = 0; h < c; h++) {
                var e =
                        a[h],
                        A = e.name;
                0 != A.indexOf("xmlns:") && (b["$" + A] = e.value)
            }
            a = d.childNodes;
            c = a.length;
            for (h = 0; h < c; h++)
                if (e = f.parseNode(a[h]))
                    b.children || (b.children = []), e.parent = b, b.children.push(e);
            !b.children && (d = d.textContent.trim()) && (b.text = d);
            return b
        };
        f.findChildren = function (d, b, a) {
            a ? a.length = 0 : a = [];
            f.findByPath(d, b, a);
            return a
        };
        f.findByPath = function (d, b, a) {
            var c = b.indexOf("."),
                    h;
            -1 == c ? (h = b, c = !0) : (h = b.substring(0, c), b = b.substring(c + 1), c = !1);
            if (d = d.children)
                for (var e = d.length, A = 0; A < e; A++) {
                    var x = d[A];
                    x.localName ==
                            h && (c ? a.push(x) : f.findByPath(x, b, a))
                }
        };
        f.getAttributes = function (d, b) {
            b ? b.length = 0 : b = [];
            for (var a in d)
                "$" == a.charAt(0) && b.push(a.substring(1));
            return b
        };
        return f
    }();
    e.XML = f;
    f.prototype.__class__ = "egret.XML"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function d() {
        }
        d.LITTLE_ENDIAN = "littleEndian";
        d.BIG_ENDIAN = "bigEndian";
        return d
    }();
    e.Endian = f;
    f.prototype.__class__ = "egret.Endian";
    var g = function () {
        function d(a) {
            this.BUFFER_EXT_SIZE = 0;
            this.EOF_code_point = this.EOF_byte = -1;
            this._setArrayBuffer(a || new ArrayBuffer(this.BUFFER_EXT_SIZE));
            this.endian = f.BIG_ENDIAN
        }
        var b = d.prototype;
        b._setArrayBuffer = function (a) {
            this.write_position = a.byteLength;
            this.data = new DataView(a);
            this._position = 0
        };
        b.setArrayBuffer = function (a) {
        };
        Object.defineProperty(b,
                "buffer", {
                    get: function () {
                        return this.data.buffer
                    },
                    set: function (a) {
                        this.data = new DataView(a)
                    },
                    enumerable: !0,
                    configurable: !0
                });
        Object.defineProperty(b, "dataView", {
            get: function () {
                return this.data
            },
            set: function (a) {
                this.data = a;
                this.write_position = a.byteLength
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "bufferOffset", {
            get: function () {
                return this.data.byteOffset
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "position", {
            get: function () {
                return this._position
            },
            set: function (a) {
                this._position <
                        a && !this.validate(a - this._position) || (this._position = a, this.write_position = a > this.write_position ? a : this.write_position)
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "length", {
            get: function () {
                return this.write_position
            },
            set: function (a) {
                this.validateBuffer(a, !0)
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "bytesAvailable", {
            get: function () {
                return this.data.byteLength - this._position
            },
            enumerable: !0,
            configurable: !0
        });
        b.clear = function () {
            this._setArrayBuffer(new ArrayBuffer(this.BUFFER_EXT_SIZE))
        };
        b.readBoolean = function () {
            return this.validate(d.SIZE_OF_BOOLEAN) ? 0 != this.data.getUint8(this.position++) : null
        };
        b.readByte = function () {
            return this.validate(d.SIZE_OF_INT8) ? this.data.getInt8(this.position++) : null
        };
        b.readBytes = function (a, c, h) {
            void 0 === c && (c = 0);
            void 0 === h && (h = 0);
            if (0 == h)
                h = this.bytesAvailable;
            else if (!this.validate(h))
                return null;
            a ? a.validateBuffer(h) : a = new d(new ArrayBuffer(h));
            for (var b = 0; b < h; b++)
                a.data.setUint8(b + c, this.data.getUint8(this.position++))
        };
        b.readDouble = function () {
            if (!this.validate(d.SIZE_OF_FLOAT64))
                return null;
            var a = this.data.getFloat64(this.position, this.endian == f.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_FLOAT64;
            return a
        };
        b.readFloat = function () {
            if (!this.validate(d.SIZE_OF_FLOAT32))
                return null;
            var a = this.data.getFloat32(this.position, this.endian == f.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_FLOAT32;
            return a
        };
        b.readInt = function () {
            if (!this.validate(d.SIZE_OF_INT32))
                return null;
            var a = this.data.getInt32(this.position, this.endian == f.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_INT32;
            return a
        };
        b.readShort = function () {
            if (!this.validate(d.SIZE_OF_INT16))
                return null;
            var a = this.data.getInt16(this.position, this.endian == f.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_INT16;
            return a
        };
        b.readUnsignedByte = function () {
            return this.validate(d.SIZE_OF_UINT8) ? this.data.getUint8(this.position++) : null
        };
        b.readUnsignedInt = function () {
            if (!this.validate(d.SIZE_OF_UINT32))
                return null;
            var a = this.data.getUint32(this.position, this.endian == f.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_UINT32;
            return a
        };
        b.readUnsignedShort = function () {
            if (!this.validate(d.SIZE_OF_UINT16))
                return null;
            var a = this.data.getUint16(this.position,
                    this.endian == f.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_UINT16;
            return a
        };
        b.readUTF = function () {
            if (!this.validate(d.SIZE_OF_UINT16))
                return null;
            var a = this.data.getUint16(this.position, this.endian == f.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_UINT16;
            return 0 < a ? this.readUTFBytes(a) : ""
        };
        b.readUTFBytes = function (a) {
            if (!this.validate(a))
                return null;
            var c = new Uint8Array(this.buffer, this.bufferOffset + this.position, a);
            this.position += a;
            return this.decodeUTF8(c)
        };
        b.writeBoolean = function (a) {
            this.validateBuffer(d.SIZE_OF_BOOLEAN);
            this.data.setUint8(this.position++, a ? 1 : 0)
        };
        b.writeByte = function (a) {
            this.validateBuffer(d.SIZE_OF_INT8);
            this.data.setInt8(this.position++, a)
        };
        b.writeBytes = function (a, c, h) {
            void 0 === c && (c = 0);
            void 0 === h && (h = 0);
            if (!(0 > c || 0 > h) && (h = 0 == h ? a.length - c : Math.min(a.length - c, h), 0 < h)) {
                this.validateBuffer(h);
                a = new DataView(a.buffer);
                for (var b = c; b < h + c; b++)
                    this.data.setUint8(this.position++, a.getUint8(b))
            }
        };
        b.writeDouble = function (a) {
            this.validateBuffer(d.SIZE_OF_FLOAT64);
            this.data.setFloat64(this.position, a, this.endian ==
                    f.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_FLOAT64
        };
        b.writeFloat = function (a) {
            this.validateBuffer(d.SIZE_OF_FLOAT32);
            this.data.setFloat32(this.position, a, this.endian == f.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_FLOAT32
        };
        b.writeInt = function (a) {
            this.validateBuffer(d.SIZE_OF_INT32);
            this.data.setInt32(this.position, a, this.endian == f.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_INT32
        };
        b.writeShort = function (a) {
            this.validateBuffer(d.SIZE_OF_INT16);
            this.data.setInt16(this.position, a, this.endian == f.LITTLE_ENDIAN);
            this.position +=
                    d.SIZE_OF_INT16
        };
        b.writeUnsignedInt = function (a) {
            this.validateBuffer(d.SIZE_OF_UINT32);
            this.data.setUint32(this.position, a, this.endian == f.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_UINT32
        };
        b.writeUTF = function (a) {
            a = this.encodeUTF8(a);
            var c = a.length;
            this.validateBuffer(d.SIZE_OF_UINT16 + c);
            this.data.setUint16(this.position, c, this.endian === f.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_UINT16;
            this._writeUint8Array(a, !1)
        };
        b.writeUTFBytes = function (a) {
            this._writeUint8Array(this.encodeUTF8(a))
        };
        b.toString = function () {
            return "[ByteArray] length:" +
                    this.length + ", bytesAvailable:" + this.bytesAvailable
        };
        b._writeUint8Array = function (a, c) {
            void 0 === c && (c = !0);
            c && this.validateBuffer(this.position + a.length);
            for (var h = 0; h < a.length; h++)
                this.data.setUint8(this.position++, a[h])
        };
        b.validate = function (a) {
            if (0 < this.data.byteLength && this._position + a <= this.data.byteLength)
                return !0;
            throw e.getString(1025);
        };
        b.validateBuffer = function (a, c) {
            void 0 === c && (c = !1);
            this.write_position = a > this.write_position ? a : this.write_position;
            a += this._position;
            if (this.data.byteLength <
                    a || c) {
                var h = new Uint8Array(new ArrayBuffer(a + this.BUFFER_EXT_SIZE)),
                        b = Math.min(this.data.buffer.byteLength, a + this.BUFFER_EXT_SIZE);
                h.set(new Uint8Array(this.data.buffer, 0, b));
                this.buffer = h.buffer
            }
        };
        b.encodeUTF8 = function (a) {
            var c = 0;
            a = this.stringToCodePoints(a);
            for (var h = []; a.length > c; ) {
                var b = a[c++];
                if (this.inRange(b, 55296, 57343))
                    this.encoderError(b);
                else if (this.inRange(b, 0, 127))
                    h.push(b);
                else {
                    var d, e;
                    this.inRange(b, 128, 2047) ? (d = 1, e = 192) : this.inRange(b, 2048, 65535) ? (d = 2, e = 224) : this.inRange(b, 65536,
                            1114111) && (d = 3, e = 240);
                    for (h.push(this.div(b, Math.pow(64, d)) + e); 0 < d; ) {
                        var f = this.div(b, Math.pow(64, d - 1));
                        h.push(128 + f % 64);
                        d -= 1
                    }
                }
            }
            return new Uint8Array(h)
        };
        b.decodeUTF8 = function (a) {
            for (var c = 0, h = "", b, d = 0, e = 0, f = 0, g = 0; a.length > c; ) {
                b = a[c++];
                if (b === this.EOF_byte)
                    b = 0 !== e ? this.decoderError(!1) : this.EOF_code_point;
                else if (0 === e)
                    this.inRange(b, 0, 127) || (this.inRange(b, 194, 223) ? (e = 1, g = 128, d = b - 192) : this.inRange(b, 224, 239) ? (e = 2, g = 2048, d = b - 224) : this.inRange(b, 240, 244) ? (e = 3, g = 65536, d = b - 240) : this.decoderError(!1),
                            d *= Math.pow(64, e), b = null);
                else if (this.inRange(b, 128, 191))
                    if (f += 1, d += (b - 128) * Math.pow(64, e - f), f !== e)
                        b = null;
                    else {
                        var k = d,
                                m = g,
                                g = f = e = d = 0;
                        b = this.inRange(k, m, 1114111) && !this.inRange(k, 55296, 57343) ? k : this.decoderError(!1, b)
                    }
                else
                    g = f = e = d = 0, c--, b = this.decoderError(!1, b);
                null !== b && b !== this.EOF_code_point && (65535 >= b ? 0 < b && (h += String.fromCharCode(b)) : (b -= 65536, h += String.fromCharCode(55296 + (b >> 10 & 1023)), h += String.fromCharCode(56320 + (b & 1023))))
            }
            return h
        };
        b.encoderError = function (a) {
            throw e.getString(1026, a);
        };
        b.decoderError =
                function (a, c) {
                    if (a)
                        throw e.getString(1027);
                    return c || 65533
                };
        b.inRange = function (a, c, h) {
            return c <= a && a <= h
        };
        b.div = function (a, c) {
            return Math.floor(a / c)
        };
        b.stringToCodePoints = function (a) {
            for (var c = [], h = 0, b = a.length; h < a.length; ) {
                var d = a.charCodeAt(h);
                if (this.inRange(d, 55296, 57343))
                    if (this.inRange(d, 56320, 57343))
                        c.push(65533);
                    else if (h === b - 1)
                        c.push(65533);
                    else {
                        var e = a.charCodeAt(h + 1);
                        this.inRange(e, 56320, 57343) ? (d &= 1023, e &= 1023, h += 1, c.push(65536 + (d << 10) + e)) : c.push(65533)
                    }
                else
                    c.push(d);
                h += 1
            }
            return c
        };
        d.SIZE_OF_BOOLEAN =
                1;
        d.SIZE_OF_INT8 = 1;
        d.SIZE_OF_INT16 = 2;
        d.SIZE_OF_INT32 = 4;
        d.SIZE_OF_UINT8 = 1;
        d.SIZE_OF_UINT16 = 2;
        d.SIZE_OF_UINT32 = 4;
        d.SIZE_OF_FLOAT32 = 4;
        d.SIZE_OF_FLOAT64 = 8;
        return d
    }();
    e.ByteArray = g;
    g.prototype.__class__ = "egret.ByteArray"
})(egret || (egret = {}));
(function (e) {
    e.getOption = function (e) {
        if (window.hasOwnProperty("location")) {
            var g = location.search;
            if ("" == g)
                return "";
            for (var g = g.slice(1), g = g.split("&"), d = g.length, b = 0; b < d; b++) {
                var a = g[b].split("=");
                if (a[0] == e)
                    return a[1]
            }
        }
        return ""
    }
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d(a, c, h) {
            f.call(this);
            this._target = null;
            this.loop = this.ignoreGlobalPause = this._useTicks = !1;
            this._actions = this._steps = this.pluginData = null;
            this.paused = !1;
            this.duration = 0;
            this._prevPos = -1;
            this.position = null;
            this._stepPosition = this._prevPosition = 0;
            this.passive = !1;
            this.initialize(a, c, h)
        }
        __extends(d, f);
        var b = d.prototype;
        d.get = function (a, c, h, b) {
            void 0 === c && (c = null);
            void 0 === h && (h = null);
            void 0 === b && (b = !1);
            b && d.removeTweens(a);
            return new d(a, c, h)
        };
        d.removeTweens = function (a) {
            if (a.tween_count) {
                for (var c =
                        d._tweens, h = c.length - 1; 0 <= h; h--)
                    c[h]._target == a && (c[h].paused = !0, c.splice(h, 1));
                a.tween_count = 0
            }
        };
        d.pauseTweens = function (a) {
            if (a.tween_count)
                for (var c = e.Tween._tweens, h = c.length - 1; 0 <= h; h--)
                    c[h]._target == a && (c[h].paused = !0)
        };
        d.resumeTweens = function (a) {
            if (a.tween_count)
                for (var c = e.Tween._tweens, h = c.length - 1; 0 <= h; h--)
                    c[h]._target == a && (c[h].paused = !1)
        };
        d.tick = function (a, c) {
            void 0 === c && (c = !1);
            for (var h = d._tweens.concat(), b = h.length - 1; 0 <= b; b--) {
                var e = h[b];
                c && !e.ignoreGlobalPause || e.paused || e.tick(e._useTicks ?
                        1 : a)
            }
        };
        d._register = function (a, c) {
            var h = a._target,
                    b = d._tweens;
            if (c)
                h && (h.tween_count = 0 < h.tween_count ? h.tween_count + 1 : 1), b.push(a), d._inited || (e.Ticker.getInstance().register(d.tick, null), d._inited = !0);
            else
                for (h && h.tween_count--, h = b.length; h--; )
                    if (b[h] == a) {
                        b.splice(h, 1);
                        break
                    }
        };
        d.removeAllTweens = function () {
            for (var a = d._tweens, c = 0, h = a.length; c < h; c++) {
                var b = a[c];
                b.paused = !0;
                b._target.tweenjs_count = 0
            }
            a.length = 0
        };
        b.initialize = function (a, c, h) {
            this._target = a;
            c && (this._useTicks = c.useTicks, this.ignoreGlobalPause =
                    c.ignoreGlobalPause, this.loop = c.loop, c.onChange && this.addEventListener("change", c.onChange, c.onChangeObj), c.override && d.removeTweens(a));
            this.pluginData = h || {};
            this._curQueueProps = {};
            this._initQueueProps = {};
            this._steps = [];
            this._actions = [];
            c && c.paused ? this.paused = !0 : d._register(this, !0);
            c && null != c.position && this.setPosition(c.position, d.NONE)
        };
        b.setPosition = function (a, c) {
            void 0 === c && (c = 1);
            0 > a && (a = 0);
            var h = a,
                    b = !1;
            h >= this.duration && (this.loop ? h %= this.duration : (h = this.duration, b = !0));
            if (h == this._prevPos)
                return b;
            var d = this._prevPos;
            this.position = this._prevPos = h;
            this._prevPosition = a;
            if (this._target)
                if (b)
                    this._updateTargetProps(null, 1);
                else if (0 < this._steps.length) {
                    for (var e = 0, f = this._steps.length; e < f && !(this._steps[e].t > h); e++)
                        ;
                    e = this._steps[e - 1];
                    this._updateTargetProps(e, (this._stepPosition = h - e.t) / e.d)
                }
            0 != c && 0 < this._actions.length && (this._useTicks ? this._runActions(h, h) : 1 == c && h < d ? (d != this.duration && this._runActions(d, this.duration), this._runActions(0, h, !0)) : this._runActions(d, h));
            b && this.setPaused(!0);
            this.dispatchEventWith("change");
            return b
        };
        b._runActions = function (a, c, h) {
            void 0 === h && (h = !1);
            var b = a,
                    d = c,
                    e = -1,
                    f = this._actions.length,
                    g = 1;
            a > c && (b = c, d = a, e = f, f = g = -1);
            for (;
                    (e += g) != f; ) {
                c = this._actions[e];
                var k = c.t;
                (k == d || k > b && k < d || h && k == a) && c.f.apply(c.o, c.p)
            }
        };
        b._updateTargetProps = function (a, c) {
            var h, b, e, f;
            if (a || 1 != c) {
                if (this.passive = !!a.v)
                    return;
                a.e && (c = a.e(c, 0, 1, 1));
                h = a.p0;
                b = a.p1
            } else
                this.passive = !1, h = b = this._curQueueProps;
            for (var g in this._initQueueProps) {
                null == (e = h[g]) && (h[g] = e = this._initQueueProps[g]);
                null == (f = b[g]) && (b[g] = f = e);
                e = e == f || 0 == c || 1 == c || "number" != typeof e ? 1 == c ? f : e : e + (f - e) * c;
                var l = !1;
                if (f = d._plugins[g])
                    for (var k = 0, m = f.length; k < m; k++) {
                        var n = f[k].tween(this, g, e, h, b, c, !!a && h == b, !a);
                        n == d.IGNORE ? l = !0 : e = n
                    }
                l || (this._target[g] = e)
            }
        };
        b.setPaused = function (a) {
            this.paused = a;
            d._register(this, !a);
            return this
        };
        b._cloneProps = function (a) {
            var c = {},
                    h;
            for (h in a)
                c[h] = a[h];
            return c
        };
        b._addStep = function (a) {
            0 < a.d && (this._steps.push(a), a.t = this.duration, this.duration += a.d);
            return this
        };
        b._appendQueueProps = function (a) {
            var c, h, b, e, f, g;
            for (g in a)
                if (void 0 ===
                        this._initQueueProps[g]) {
                    h = this._target[g];
                    if (c = d._plugins[g])
                        for (b = 0, e = c.length; b < e; b++)
                            h = c[b].init(this, g, h);
                    this._initQueueProps[g] = this._curQueueProps[g] = void 0 === h ? null : h
                }
            for (g in a) {
                h = this._curQueueProps[g];
                if (c = d._plugins[g])
                    for (f = f || {}, b = 0, e = c.length; b < e; b++)
                        c[b].step && c[b].step(this, g, h, a[g], f);
                this._curQueueProps[g] = a[g]
            }
            f && this._appendQueueProps(f);
            return this._curQueueProps
        };
        b._addAction = function (a) {
            a.t = this.duration;
            this._actions.push(a);
            return this
        };
        b._set = function (a, c) {
            for (var b in a)
                c[b] =
                        a[b]
        };
        b.wait = function (a, c) {
            if (null == a || 0 >= a)
                return this;
            var b = this._cloneProps(this._curQueueProps);
            return this._addStep({
                d: a,
                p0: b,
                p1: b,
                v: c
            })
        };
        b.to = function (a, c, b) {
            void 0 === b && (b = void 0);
            if (isNaN(c) || 0 > c)
                c = 0;
            return this._addStep({
                d: c || 0,
                p0: this._cloneProps(this._curQueueProps),
                e: b,
                p1: this._cloneProps(this._appendQueueProps(a))
            })
        };
        b.call = function (a, c, b) {
            void 0 === c && (c = void 0);
            void 0 === b && (b = void 0);
            return this._addAction({
                f: a,
                p: b ? b : [],
                o: c ? c : this._target
            })
        };
        b.set = function (a, c) {
            void 0 === c && (c = null);
            return this._addAction({
                f: this._set,
                o: this,
                p: [a, c ? c : this._target]
            })
        };
        b.play = function (a) {
            a || (a = this);
            return this.call(a.setPaused, a, [!1])
        };
        b.pause = function (a) {
            a || (a = this);
            return this.call(a.setPaused, a, [!0])
        };
        b.tick = function (a) {
            this.paused || this.setPosition(this._prevPosition + a)
        };
        d.NONE = 0;
        d.LOOP = 1;
        d.REVERSE = 2;
        d._tweens = [];
        d.IGNORE = {};
        d._plugins = {};
        d._inited = !1;
        return d
    }(e.EventDispatcher);
    e.Tween = f;
    f.prototype.__class__ = "egret.Tween"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function f() {
            e.Logger.fatalWithErrorId(1014)
        }
        f.get = function (d) {
            -1 > d && (d = -1);
            1 < d && (d = 1);
            return function (b) {
                return 0 == d ? b : 0 > d ? b * (b * -d + 1 + d) : b * ((2 - b) * d + (1 - d))
            }
        };
        f.getPowIn = function (d) {
            return function (b) {
                return Math.pow(b, d)
            }
        };
        f.getPowOut = function (d) {
            return function (b) {
                return 1 - Math.pow(1 - b, d)
            }
        };
        f.getPowInOut = function (d) {
            return function (b) {
                return 1 > (b *= 2) ? 0.5 * Math.pow(b, d) : 1 - 0.5 * Math.abs(Math.pow(2 - b, d))
            }
        };
        f.sineIn = function (d) {
            return 1 - Math.cos(d * Math.PI / 2)
        };
        f.sineOut = function (d) {
            return Math.sin(d *
                    Math.PI / 2)
        };
        f.sineInOut = function (d) {
            return -0.5 * (Math.cos(Math.PI * d) - 1)
        };
        f.getBackIn = function (d) {
            return function (b) {
                return b * b * ((d + 1) * b - d)
            }
        };
        f.getBackOut = function (d) {
            return function (b) {
                return --b * b * ((d + 1) * b + d) + 1
            }
        };
        f.getBackInOut = function (d) {
            d *= 1.525;
            return function (b) {
                return 1 > (b *= 2) ? 0.5 * b * b * ((d + 1) * b - d) : 0.5 * ((b -= 2) * b * ((d + 1) * b + d) + 2)
            }
        };
        f.circIn = function (d) {
            return -(Math.sqrt(1 - d * d) - 1)
        };
        f.circOut = function (d) {
            return Math.sqrt(1 - --d * d)
        };
        f.circInOut = function (d) {
            return 1 > (d *= 2) ? -0.5 * (Math.sqrt(1 - d * d) - 1) : 0.5 *
                    (Math.sqrt(1 - (d -= 2) * d) + 1)
        };
        f.bounceIn = function (d) {
            return 1 - f.bounceOut(1 - d)
        };
        f.bounceOut = function (d) {
            return d < 1 / 2.75 ? 7.5625 * d * d : d < 2 / 2.75 ? 7.5625 * (d -= 1.5 / 2.75) * d + 0.75 : d < 2.5 / 2.75 ? 7.5625 * (d -= 2.25 / 2.75) * d + 0.9375 : 7.5625 * (d -= 2.625 / 2.75) * d + 0.984375
        };
        f.bounceInOut = function (d) {
            return 0.5 > d ? 0.5 * f.bounceIn(2 * d) : 0.5 * f.bounceOut(2 * d - 1) + 0.5
        };
        f.getElasticIn = function (d, b) {
            var a = 2 * Math.PI;
            return function (c) {
                if (0 == c || 1 == c)
                    return c;
                var h = b / a * Math.asin(1 / d);
                return -(d * Math.pow(2, 10 * (c -= 1)) * Math.sin((c - h) * a / b))
            }
        };
        f.getElasticOut =
                function (d, b) {
                    var a = 2 * Math.PI;
                    return function (c) {
                        if (0 == c || 1 == c)
                            return c;
                        var h = b / a * Math.asin(1 / d);
                        return d * Math.pow(2, -10 * c) * Math.sin((c - h) * a / b) + 1
                    }
                };
        f.getElasticInOut = function (d, b) {
            var a = 2 * Math.PI;
            return function (c) {
                var h = b / a * Math.asin(1 / d);
                return 1 > (c *= 2) ? -0.5 * d * Math.pow(2, 10 * (c -= 1)) * Math.sin((c - h) * a / b) : d * Math.pow(2, -10 * (c -= 1)) * Math.sin((c - h) * a / b) * 0.5 + 1
            }
        };
        f.quadIn = f.getPowIn(2);
        f.quadOut = f.getPowOut(2);
        f.quadInOut = f.getPowInOut(2);
        f.cubicIn = f.getPowIn(3);
        f.cubicOut = f.getPowOut(3);
        f.cubicInOut = f.getPowInOut(3);
        f.quartIn = f.getPowIn(4);
        f.quartOut = f.getPowOut(4);
        f.quartInOut = f.getPowInOut(4);
        f.quintIn = f.getPowIn(5);
        f.quintOut = f.getPowOut(5);
        f.quintInOut = f.getPowInOut(5);
        f.backIn = f.getBackIn(1.7);
        f.backOut = f.getBackOut(1.7);
        f.backInOut = f.getBackInOut(1.7);
        f.elasticIn = f.getElasticIn(1, 0.3);
        f.elasticOut = f.getElasticOut(1, 0.3);
        f.elasticInOut = f.getElasticInOut(1, 0.3 * 1.5);
        return f
    }();
    e.Ease = f;
    f.prototype.__class__ = "egret.Ease"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this.path = "";
            this.audio = null;
            this.type = d.EFFECT;
            this._pauseTime = 0;
            this._listeners = []
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "position", {
            get: function () {
                return this.audio ? Math.floor(1E3 * this.audio._getCurrentTime()) : 0
            },
            enumerable: !0,
            configurable: !0
        });
        b.play = function (a, c) {
            void 0 === a && (a = !1);
            void 0 === c && (c = 0);
            var b = this.audio;
            b && (b._setCurrentTime(c / 1E3), b._setLoop(a), b._play(this.type))
        };
        b.stop = function () {
            var a = this.audio;
            a &&
                    (this._pauseTime = 0, a._setCurrentTime(0), a._pause())
        };
        b.pause = function () {
            var a = this.audio;
            a && (this._pauseTime = a._getCurrentTime(), a._pause())
        };
        b.resume = function () {
            var a = this.audio;
            a && (a._setCurrentTime(this._pauseTime), this._pauseTime = 0, a._play(this.type))
        };
        b.load = function () {
            var a = this.audio;
            a && a._load()
        };
        b.addEventListener = function (a, c, b) {
            f.prototype.addEventListener.call(this, a, c, b);
            var d = this;
            this.audio && 1 == this._eventsMap[a].length && (c = a == e.SoundEvent.SOUND_COMPLETE ? function (c) {
                e.Event._dispatchByTarget(e.SoundEvent,
                        d, e.SoundEvent.SOUND_COMPLETE)
            } : function (c) {
                e.Event._dispatchByTarget(e.Event, d, c.type)
            }, this._listeners.push({
                type: a,
                func: c
            }), a = d.getVirtualType(a), this.audio._addEventListener(a, c, !1))
        };
        b.removeEventListener = function (a, c, b) {
            f.prototype.removeEventListener.call(this, a, c, b);
            if (this.audio && (!this._eventsMap || !this._eventsMap[a] || 0 == this._eventsMap[a].length))
                for (b = 0; b < this._listeners.length; b++)
                    if (c = this._listeners[b], c.type == a) {
                        this._listeners.splice(b, 1);
                        a = this.getVirtualType(a);
                        this.audio._removeEventListener(a,
                                c.func, !1);
                        break
                    }
        };
        b.getVirtualType = function (a) {
            switch (a) {
                case e.SoundEvent.SOUND_COMPLETE:
                    return "ended";
                default:
                    return a
            }
        };
        Object.defineProperty(b, "volume", {
            get: function () {
                return this.audio ? this.audio._getVolume() : 0
            },
            set: function (a) {
                var c = this.audio;
                c && c._setVolume(Math.max(0, Math.min(a, 1)))
            },
            enumerable: !0,
            configurable: !0
        });
        b.setVolume = function (a) {
            e.Logger.warningWithErrorId(1031);
            this.volume = a
        };
        b.getVolume = function () {
            e.Logger.warningWithErrorId(1032);
            return this.volume
        };
        b.preload = function (a, c, b) {
            void 0 ===
                    c && (c = null);
            void 0 === b && (b = null);
            this.type = a;
            this.audio._preload(a, c, b)
        };
        b._setAudio = function (a) {
            this.audio = a
        };
        b.destroy = function () {
            this.audio._destroy()
        };
        d.MUSIC = "music";
        d.EFFECT = "effect";
        return d
    }(e.EventDispatcher);
    e.Sound = f;
    f.prototype.__class__ = "egret.Sound"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function e() {
        }
        e.isNumber = function (d) {
            return "number" === typeof d && !isNaN(d)
        };
        e.sin = function (d) {
            var b = Math.floor(d),
                    a = b + 1,
                    c = e.sinInt(b),
                    h = e.sinInt(a);
            return (d - b) * h + (a - d) * c
        };
        e.sinInt = function (d) {
            d %= 360;
            0 > d && (d += 360);
            return 90 > d ? egret_sin_map[d] : 180 > d ? egret_cos_map[d - 90] : 270 > d ? -egret_sin_map[d - 180] : -egret_cos_map[d - 270]
        };
        e.cos = function (d) {
            var b = Math.floor(d),
                    a = b + 1,
                    c = e.cosInt(b),
                    h = e.cosInt(a);
            return (d - b) * h + (a - d) * c
        };
        e.cosInt = function (d) {
            d %= 360;
            0 > d && (d += 360);
            return 90 > d ? egret_cos_map[d] :
                    180 > d ? -egret_sin_map[d - 90] : 270 > d ? -egret_cos_map[d - 180] : egret_sin_map[d - 270]
        };
        return e
    }();
    e.NumberUtils = f;
    f.prototype.__class__ = "egret.NumberUtils"
})(egret || (egret = {}));
for (var egret_sin_map = {}, egret_cos_map = {}, NumberUtils_i = 0; 90 >= NumberUtils_i; NumberUtils_i++)
    egret_sin_map[NumberUtils_i] = Math.sin(NumberUtils_i * egret.Matrix.DEG_TO_RAD), egret_cos_map[NumberUtils_i] = Math.cos(NumberUtils_i * egret.Matrix.DEG_TO_RAD);
Function.prototype.bind || (Function.prototype.bind = function (e) {
    if ("function" !== typeof this)
        throw new TypeError(egret.getString(1029));
    var f = Array.prototype.slice.call(arguments, 1),
            g = this,
            d = function () {
            },
            b = function () {
                return g.apply(this instanceof d && e ? this : e, f.concat(Array.prototype.slice.call(arguments)))
            };
    d.prototype = this.prototype;
    b.prototype = new d;
    return b
});
(function (e) {
    var f = function () {
        function f() {
            this.downloadingSizeThisObject = this.downloadingSizeFunc = this.onErrorThisObject = this.onErrorFunc = this.onSuccessThisObject = this.onSuccessFunc = null
        }
        var d = f.prototype;
        f.create = function () {
            return f.promiseObjectList.length ? f.promiseObjectList.pop() : new e.PromiseObject
        };
        d.onSuccess = function () {
            for (var b = [], a = 0; a < arguments.length; a++)
                b[a - 0] = arguments[a];
            this.onSuccessFunc && this.onSuccessFunc.apply(this.onSuccessThisObject, b);
            this.destroy()
        };
        d.onError = function () {
            for (var b = [], a = 0; a < arguments.length; a++)
                b[a - 0] = arguments[a];
            this.onErrorFunc && this.onErrorFunc.apply(this.onErrorThisObject, b);
            this.destroy()
        };
        d.downloadingSize = function () {
            for (var b = [], a = 0; a < arguments.length; a++)
                b[a - 0] = arguments[a];
            this.downloadingSizeFunc && this.downloadingSizeFunc.apply(this.downloadingSizeThisObject, b)
        };
        d.destroy = function () {
            this.downloadingSizeThisObject = this.downloadingSizeFunc = this.onErrorThisObject = this.onErrorFunc = this.onSuccessThisObject = this.onSuccessFunc = void 0;
            f.promiseObjectList.push(this)
        };
        f.promiseObjectList = [];
        return f
    }();
    e.PromiseObject = f;
    f.prototype.__class__ = "egret.PromiseObject"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d(a) {
            void 0 === a && (a = 60);
            f.call(this);
            this.frameRate = a;
            this._time = 0;
            this._requestAnimationId = NaN;
            this._isActivate = !0;
            60 == a && (d.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame, d.cancelAnimationFrame = window.cancelAnimationFrame || window.msCancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.oCancelAnimationFrame ||
                    window.cancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.webkitCancelRequestAnimationFrame);
            d.requestAnimationFrame || (d.requestAnimationFrame = function (c) {
                return window.setTimeout(c, 1E3 / a)
            });
            d.cancelAnimationFrame || (d.cancelAnimationFrame = function (c) {
                return window.clearTimeout(c)
            });
            d.instance = this;
            this.registerListener()
        }
        __extends(d, f);
        var b = d.prototype;
        b.enterFrame = function () {
            var a = d.instance,
                    c = d._thisObject,
                    b = d._callback,
                    f = e.getTimer(),
                    g = f - a._time;
            a._requestAnimationId = d.requestAnimationFrame.call(window, d.prototype.enterFrame);
            b.call(c, g);
            a._time = f
        };
        b.executeMainLoop = function (a, c) {
            d._callback = a;
            d._thisObject = c;
            this.enterFrame()
        };
        b.reset = function () {
            var a = d.instance;
            a._requestAnimationId && (a._time = e.getTimer(), d.cancelAnimationFrame.call(window, a._requestAnimationId), a.enterFrame())
        };
        b.registerListener = function () {
            var a = this,
                    c = function () {
                        a._isActivate && (a._isActivate = !1, e.MainContext.instance.stage.dispatchEvent(new e.Event(e.Event.DEACTIVATE)))
                    },
                    b = function () {
                        a._isActivate || (a._isActivate = !0, d.instance.reset(), e.MainContext.instance.stage.dispatchEvent(new e.Event(e.Event.ACTIVATE)))
                    },
                    f = function () {
                        document[g] ? c() : b()
                    };
            window.addEventListener("focus", b, !1);
            window.addEventListener("blur", c, !1);
            var g, x;
            "undefined" !== typeof document.hidden ? (g = "hidden", x = "visibilitychange") : "undefined" !== typeof document.mozHidden ? (g = "mozHidden", x = "mozvisibilitychange") : "undefined" !== typeof document.msHidden ? (g = "msHidden", x = "msvisibilitychange") : "undefined" !== typeof document.webkitHidden ?
                    (g = "webkitHidden", x = "webkitvisibilitychange") : "undefined" !== typeof document.oHidden && (g = "oHidden", x = "ovisibilitychange");
            "onpageshow" in window && "onpagehide" in window && (window.addEventListener("pageshow", b, !1), window.addEventListener("pagehide", c, !1));
            g && x && document.addEventListener(x, f, !1)
        };
        d.instance = null;
        d.requestAnimationFrame = null;
        d.cancelAnimationFrame = null;
        d._thisObject = null;
        d._callback = null;
        return d
    }(e.DeviceContext);
    e.HTML5DeviceContext = f;
    f.prototype.__class__ = "egret.HTML5DeviceContext"
})(egret ||
        (egret = {}));
var egret_html5_localStorage;
(function (e) {
    e.getItem = function (e) {
        return window.localStorage.getItem(e)
    };
    e.setItem = function (e, g) {
        try {
            return window.localStorage.setItem(e, g), !0
        } catch (d) {
            return egret.Logger.infoWithErrorId(1018, e, g), !1
        }
    };
    e.removeItem = function (e) {
        window.localStorage.removeItem(e)
    };
    e.clear = function () {
        window.localStorage.clear()
    };
    e.init = function () {
        for (var f in e)
            egret.localStorage[f] = e[f]
    }
})(egret_html5_localStorage || (egret_html5_localStorage = {}));
egret_html5_localStorage.init();
(function (e) {
    var f = function (f) {
        function d(a, c) {
            void 0 === c && (c = !0);
            f.call(this);
            this.useCacheCanvas = c;
            e.Texture.prototype.draw = e.Texture.prototype._drawForCanvas;
            e.Texture.prototype.dispose = e.Texture.prototype._disposeForCanvas;
            this.canvas = a || this.createCanvas();
            this.canvasContext = this.canvas.getContext("2d");
            c ? (this._cacheCanvas = document.createElement("canvas"), this._cacheCanvas.width = this.canvas.width, this._cacheCanvas.height = this.canvas.height, this.drawCanvasContext = this._cacheCanvasContext = this._cacheCanvas.getContext("2d")) :
                    this.drawCanvasContext = this.canvasContext;
            this.onResize();
            var b = this.drawCanvasContext.setTransform,
                    d = this;
            this.drawCanvasContext.setTransform = function (c, a, e, f, g, m) {
                d._matrixA = c;
                d._matrixB = a;
                d._matrixC = e;
                d._matrixD = f;
                d._matrixTx = g;
                d._matrixTy = m;
                b.call(d.drawCanvasContext, c, a, e, f, g, m)
            };
            this._matrixA = 1;
            this._matrixC = this._matrixB = 0;
            this._matrixD = 1;
            this._transformTy = this._transformTx = this._matrixTy = this._matrixTx = 0;
            this.initBlendMode()
        }
        __extends(d, f);
        var b = d.prototype;
        b.createCanvas = function () {
            var a =
                    e.Browser.getInstance().$("#egretCanvas");
            if (!a) {
                var c = document.getElementById(e.StageDelegate.canvas_div_name),
                        a = e.Browser.getInstance().$new("canvas");
                a.id = "egretCanvas";
                c.appendChild(a)
            }
            e.MainContext.instance.stage.addEventListener(e.Event.RESIZE, this.onResize, this);
            return a
        };
        b.onResize = function () {
            if (this.canvas) {
                var a = document.getElementById(e.StageDelegate.canvas_div_name);
                this.canvas.width = e.MainContext.instance.stage.stageWidth;
                this.canvas.height = e.MainContext.instance.stage.stageHeight;
                this.canvas.style.width =
                        a.style.width;
                this.canvas.style.height = a.style.height;
                this.useCacheCanvas && (this._cacheCanvas.width = this.canvas.width, this._cacheCanvas.height = this.canvas.height);
                this.drawCanvasContext.imageSmoothingEnabled = e.RendererContext.imageSmoothingEnabled;
                this.drawCanvasContext.webkitImageSmoothingEnabled = e.RendererContext.imageSmoothingEnabled;
                this.drawCanvasContext.mozImageSmoothingEnabled = e.RendererContext.imageSmoothingEnabled;
                this.drawCanvasContext.msImageSmoothingEnabled = e.RendererContext.imageSmoothingEnabled
            }
        };
        b.clearScreen = function () {
            for (var a = e.RenderFilter.getInstance().getDrawAreaList(), c = 0, b = a.length; c < b; c++) {
                var d = a[c];
                this.clearRect(d.x, d.y, d.width, d.height)
            }
            a = e.MainContext.instance.stage;
            this.useCacheCanvas && this._cacheCanvasContext.clearRect(0, 0, a.stageWidth, a.stageHeight);
            this.renderCost = 0
        };
        b.clearRect = function (a, c, b, d) {
            this.canvasContext.clearRect(a, c, b, d)
        };
        b.drawImage = function (a, c, b, d, A, x, r, l, k, m) {
            void 0 === m && (m = void 0);
            x += this._transformTx;
            r += this._transformTy;
            var n = e.getTimer();
            a.draw(this.drawCanvasContext,
                    c, b, d, A, x, r, l, k, m);
            f.prototype.drawImage.call(this, a, c, b, d, A, x, r, l, k, m);
            this.renderCost += e.getTimer() - n
        };
        b.setTransform = function (a) {
            1 == a.a && 0 == a.b && 0 == a.c && 1 == a.d && 1 == this._matrixA && 0 == this._matrixB && 0 == this._matrixC && 1 == this._matrixD ? (this._transformTx = a.tx - this._matrixTx, this._transformTy = a.ty - this._matrixTy) : (this._transformTx = this._transformTy = 0, this._matrixA == a.a && this._matrixB == a.b && this._matrixC == a.c && this._matrixD == a.d && this._matrixTx == a.tx && this._matrixTy == a.ty || this.drawCanvasContext.setTransform(a.a,
                    a.b, a.c, a.d, a.tx, a.ty))
        };
        b.setAlpha = function (a, c) {
            this.drawCanvasContext.globalAlpha = a;
            c ? (this.blendValue = this.blendModes[c], this.drawCanvasContext.globalCompositeOperation = this.blendValue) : this.blendValue != e.BlendMode.NORMAL && (this.blendValue = this.blendModes[e.BlendMode.NORMAL], this.drawCanvasContext.globalCompositeOperation = this.blendValue)
        };
        b.initBlendMode = function () {
            this.blendModes = {};
            this.blendModes[e.BlendMode.NORMAL] = "source-over";
            this.blendModes[e.BlendMode.ADD] = "lighter";
            this.blendModes[e.BlendMode.ERASE] =
                    "destination-out";
            this.blendModes[e.BlendMode.ERASE_REVERSE] = "destination-in"
        };
        b.setupFont = function (a, c) {
            void 0 === c && (c = null);
            c = c || {};
            var b = a._TF_Props_,
                    d = null == c.size ? b._size : c.size,
                    e = null == c.fontFamily ? b._fontFamily : c.fontFamily,
                    f = this.drawCanvasContext,
                    g = (null == c.italic ? b._italic : c.italic) ? "italic " : "normal ",
                    g = g + ((null == c.bold ? b._bold : c.bold) ? "bold " : "normal ");
            f.font = g + (d + "px " + e);
            f.textAlign = "left";
            f.textBaseline = "middle"
        };
        b.measureText = function (a) {
            return this.drawCanvasContext.measureText(a).width
        };
        b.drawText = function (a, c, b, d, A, x) {
            void 0 === x && (x = null);
            this.setupFont(a, x);
            x = x || {};
            var r = a._TF_Props_,
                    l;
            l = null != x.textColor ? e.toColorString(x.textColor) : r._textColorString;
            var k;
            k = null != x.strokeColor ? e.toColorString(x.strokeColor) : r._strokeColorString;
            var r = null != x.stroke ? x.stroke : r._stroke,
                    m = this.drawCanvasContext;
            m.fillStyle = l;
            m.strokeStyle = k;
            r && (m.lineWidth = 2 * r, m.strokeText(c, b + this._transformTx, d + this._transformTy, A || 65535));
            m.fillText(c, b + this._transformTx, d + this._transformTy, A || 65535);
            f.prototype.drawText.call(this,
                    a, c, b, d, A, x)
        };
        b.strokeRect = function (a, c, b, d, e) {
            this.drawCanvasContext.strokeStyle = e;
            this.drawCanvasContext.strokeRect(a, c, b, d)
        };
        b.pushMask = function (a) {
            this.drawCanvasContext.save();
            this.drawCanvasContext.beginPath();
            this.drawCanvasContext.rect(a.x + this._transformTx, a.y + this._transformTy, a.width, a.height);
            this.drawCanvasContext.clip();
            this.drawCanvasContext.closePath()
        };
        b.popMask = function () {
            this.drawCanvasContext.restore();
            this.drawCanvasContext.setTransform(1, 0, 0, 1, 0, 0)
        };
        b.onRenderStart = function () {
            this.drawCanvasContext.save()
        };
        b.onRenderFinish = function () {
            this.drawCanvasContext.restore();
            this.drawCanvasContext.setTransform(1, 0, 0, 1, 0, 0);
            if (this.useCacheCanvas)
                for (var a = this._cacheCanvas.width, c = this._cacheCanvas.height, b = e.RenderFilter.getInstance().getDrawAreaList(), d = 0, f = b.length; d < f; d++) {
                    var g = b[d],
                            r = g.x,
                            l = g.y,
                            k = g.width,
                            g = g.height;
                    r + k > a && (k = a - r);
                    l + g > c && (g = c - l);
                    0 < k && 0 < g && this.canvasContext.drawImage(this._cacheCanvas, r, l, k, g, r, l, k, g)
                }
        };
        b.drawCursor = function (a, c, b, d) {
            this.drawCanvasContext.strokeStyle = "#40a5ff";
            this.drawCanvasContext.lineWidth =
                    2;
            this.drawCanvasContext.beginPath();
            this.drawCanvasContext.moveTo(Math.round(a + this._transformTx), Math.round(c + this._transformTy));
            this.drawCanvasContext.lineTo(Math.round(b + this._transformTx), Math.round(d + this._transformTy));
            this.drawCanvasContext.closePath();
            this.drawCanvasContext.stroke()
        };
        return d
    }(e.RendererContext);
    e.HTML5CanvasRenderer = f;
    f.prototype.__class__ = "egret.HTML5CanvasRenderer"
})(egret || (egret = {}));
egret.RendererContext.createRendererContext = function (e) {
    return new egret.HTML5CanvasRenderer(e, !1)
};
egret.Graphics.prototype._beginDraw = function (e) {
    this._renderContext = e.drawCanvasContext;
    var f = e._transformTx;
    e = e._transformTy;
    0 == f && 0 == e || this._renderContext.translate(f, e)
};
egret.Graphics.prototype._endDraw = function (e) {
    this._renderContext = e.drawCanvasContext;
    var f = e._transformTx;
    e = e._transformTy;
    0 == f && 0 == e || this._renderContext.translate(-f, -e)
};
(function (e) {
    var f = function (f) {
        function d(a) {
            f.call(this);
            this.glID = this.gl = this.canvas = null;
            this.size = 2E3;
            this.vertices = null;
            this.vertSize = 5;
            this.indices = null;
            this.projectionY = this.projectionX = NaN;
            this.shaderManager = null;
            this.contextLost = !1;
            this.glContextId = 0;
            this.currentBlendMode = "";
            this.currentBaseTexture = null;
            this.currentBatchSize = 0;
            this.worldTransform = null;
            this.worldAlpha = 1;
            this.maskList = [];
            this.maskDataFreeList = [];
            this.graphicsIndexBuffer = this.graphicsBuffer = this.graphicsIndices = this.graphicsPoints =
                    this.filterType = this.colorTransformMatrix = null;
            this.graphicsStyle = {};
            e.Texture.prototype.dispose = e.Texture.prototype._disposeForCanvas;
            this.canvas = a || this.createCanvas();
            this.canvas.addEventListener("webglcontextlost", this.handleContextLost.bind(this), !1);
            this.canvas.addEventListener("webglcontextrestored", this.handleContextRestored.bind(this), !1);
            this.html5Canvas = document.createElement("canvas");
            this.canvasContext = new e.HTML5CanvasRenderer(this.html5Canvas);
            this.onResize();
            this.projectionX = this.canvas.width /
                    2;
            this.projectionY = -this.canvas.height / 2;
            a = 6 * this.size;
            this.vertices = new Float32Array(4 * this.size * this.vertSize);
            this.indices = new Uint16Array(a);
            for (var c = 0, b = 0; c < a; c += 6, b += 4)
                this.indices[c + 0] = b + 0, this.indices[c + 1] = b + 1, this.indices[c + 2] = b + 2, this.indices[c + 3] = b + 0, this.indices[c + 4] = b + 2, this.indices[c + 5] = b + 3;
            this.initWebGL();
            this.shaderManager = new e.WebGLShaderManager(this.gl);
            this.worldTransform = new e.Matrix;
            this.initAll()
        }
        __extends(d, f);
        var b = d.prototype;
        b.onRenderFinish = function () {
            this._drawWebGL()
        };
        b.initAll = function () {
            d.isInit || (d.isInit = !0, egret_webgl_graphics.init(), e.TextField.prototype._makeBitmapCache = function () {
                this.renderTexture || (this.renderTexture = new e.RenderTexture);
                var a = this.getBounds(e.Rectangle.identity);
                if (0 == a.width || 0 == a.height)
                    return this._texture_to_render = null, !1;
                this._bitmapData || (this._bitmapData = document.createElement("canvas"), this._bitmapData.avaliable = !0, this.renderContext = e.RendererContext.createRendererContext(this._bitmapData));
                var c = this._bitmapData,
                        b = a.width,
                        a = a.height,
                        d, f, g = e.MainContext.instance.rendererContext._texture_scale_factor;
                d = b / g;
                f = a / g;
                d = Math.round(d);
                f = Math.round(f);
                c.width = d;
                c.height = f;
                c.style.width = d + "px";
                c.style.height = f + "px";
                this.renderContext._cacheCanvas && (this.renderContext._cacheCanvas.width = d, this.renderContext._cacheCanvas.height = f);
                this._worldTransform.identity();
                this._worldTransform.a = 1 / g;
                this._worldTransform.d = 1 / g;
                this.renderContext.setTransform(this._worldTransform);
                this.worldAlpha = 1;
                c = e.RenderFilter.getInstance();
                g = c._drawAreaList.concat();
                c._drawAreaList.length = 0;
                this.renderContext.clearScreen();
                this.renderContext.onRenderStart();
                e.Texture.deleteWebGLTexture(this.renderTexture);
                this.renderTexture.dispose();
                this._DO_Props_._colorTransform && this.renderContext.setGlobalColorTransform(this._DO_Props_._colorTransform.matrix);
                var r = this.mask || this._DO_Props_._scrollRect;
                r && this.renderContext.pushMask(r);
                this._render(this.renderContext);
                r && this.renderContext.popMask();
                this._DO_Props_._colorTransform && this.renderContext.setGlobalColorTransform(null);
                e.RenderTexture.identityRectangle.width = d;
                e.RenderTexture.identityRectangle.height = f;
                c.addDrawArea(e.RenderTexture.identityRectangle);
                this.renderContext.onRenderFinish();
                c._drawAreaList = g;
                this.renderTexture._bitmapData = this._bitmapData;
                this.renderTexture._sourceWidth = d;
                this.renderTexture._sourceHeight = f;
                this.renderTexture._textureWidth = b;
                this.renderTexture._textureHeight = a;
                this._texture_to_render = this.renderTexture;
                return !0
            }, e.TextField.prototype._draw = function (a) {
                this._TF_Props_._type == e.TextFieldType.INPUT &&
                        this._isTyping || (this.getDirty() && (this._texture_to_render = this.renderTexture, this._DO_Props_._cacheAsBitmap = !0), e.DisplayObject.prototype._draw.call(this, a))
            }, e.RenderTexture.prototype.init = function () {
                this._bitmapData = document.createElement("canvas");
                this._bitmapData.avaliable = !0;
                this.canvasContext = this._bitmapData.getContext("2d");
                this._webglBitmapData = document.createElement("canvas");
                this._bitmapData.avaliable = !0;
                this.renderContext = new e.WebGLRenderer(this._webglBitmapData)
            }, e.RenderTexture.prototype.setSize =
                    function (a, c) {
                        if (this._webglBitmapData) {
                            var b = this._webglBitmapData;
                            b.width = a;
                            b.height = c;
                            b.style.width = a + "px";
                            b.style.height = c + "px";
                            this.renderContext.projectionX = a / 2;
                            this.renderContext.projectionY = -c / 2;
                            this.renderContext.viewportScale = e.MainContext.instance.rendererContext._texture_scale_factor
                        }
                    }, e.RenderTexture.prototype.end = function () {
            }, e.RenderTexture.prototype.drawToTexture = function (a, c, b) {
                var d = c || a.getBounds(e.Rectangle.identity);
                if (0 == d.width || 0 == d.height)
                    return !1;
                "undefined" == typeof b && (b =
                        1);
                this._bitmapData || (this._bitmapData = document.createElement("canvas"), this._bitmapData.avaliable = !0, this.canvasContext = this._bitmapData.getContext("2d"), e.RenderTexture.WebGLCanvas || (e.RenderTexture.WebGLCanvas = document.createElement("canvas"), e.RenderTexture.WebGLCanvas.avaliable = !0, e.RenderTexture.WebGLRenderer = new e.WebGLRenderer(e.RenderTexture.WebGLCanvas), e.RenderTexture.WebGLRenderer.setAlpha(1)), this._webglBitmapData = e.RenderTexture.WebGLCanvas, this.renderContext = e.RenderTexture.WebGLRenderer);
                var f = d.x,
                        g = d.y,
                        r = d.width,
                        d = d.height,
                        d = d / b,
                        l = e.MainContext.instance.rendererContext._texture_scale_factor,
                        r = Math.round(r / b),
                        d = Math.round(d);
                this.setSize(r, d);
                var k = this._bitmapData,
                        m = r / l * b,
                        n = d / l * b;
                k.width = m;
                k.height = n;
                k.style.width = m + "px";
                k.style.height = n + "px";
                this.begin();
                a._worldTransform.identity();
                k = a._DO_Props_._anchorOffsetX;
                m = a._DO_Props_._anchorOffsetY;
                if (0 != a._DO_Props_._anchorX || 0 != a._DO_Props_._anchorY)
                    k = a._DO_Props_._anchorX * r, m = a._DO_Props_._anchorY * d;
                this._offsetX = f + k;
                this._offsetY =
                        g + m;
                a._worldTransform.append(1, 0, 0, 1, -this._offsetX, -this._offsetY);
                c && (this._offsetX -= f, this._offsetY -= g);
                a.worldAlpha = 1;
                c = e.MainContext.__use_new_draw;
                e.MainContext.__use_new_draw = !1;
                if (a instanceof e.DisplayObjectContainer)
                    for (f = a._children, g = 0, k = f.length; g < k; g++)
                        f[g]._updateTransform();
                this.renderContext.setTransform(a._worldTransform);
                f = e.RenderFilter.getInstance();
                g = f._drawAreaList.concat();
                f._drawAreaList.length = 0;
                k = this.renderContext.gl;
                k.viewport(0, 0, r, d);
                k.bindFramebuffer(k.FRAMEBUFFER,
                        null);
                k.clearColor(0, 0, 0, 0);
                k.clear(k.COLOR_BUFFER_BIT);
                this.renderContext.onRenderStart();
                e.Texture.deleteWebGLTexture(this);
                a._DO_Props_._filter && this.renderContext.setGlobalFilter(a._DO_Props_._filter);
                a._DO_Props_._colorTransform && this.renderContext.setGlobalColorTransform(a._DO_Props_._colorTransform.matrix);
                (k = a.mask || a._DO_Props_._scrollRect) && this.renderContext.pushMask(k);
                a._render(this.renderContext);
                this.renderContext._drawWebGL();
                e.MainContext.__use_new_draw = c;
                k && this.renderContext.popMask();
                a._DO_Props_._colorTransform && this.renderContext.setGlobalColorTransform(null);
                a._DO_Props_._filter && this.renderContext.setGlobalFilter(null);
                e.RenderTexture.identityRectangle.width = r;
                e.RenderTexture.identityRectangle.height = d;
                f.addDrawArea(e.RenderTexture.identityRectangle);
                this.renderContext.onRenderFinish();
                f._drawAreaList = g;
                this._sourceWidth = r / l * b;
                this._sourceHeight = d / l * b;
                this._textureWidth = r * b;
                this._textureHeight = d * b;
                this.canvasContext.drawImage(this._webglBitmapData, 0, 0, r, d, 0, 0, this._sourceWidth,
                        this._sourceHeight);
                return !0
            })
        };
        b.createCanvas = function () {
            var a = e.Browser.getInstance().$("#egretCanvas");
            if (!a) {
                var c = document.getElementById(e.StageDelegate.canvas_div_name),
                        a = e.Browser.getInstance().$new("canvas");
                a.id = "egretCanvas";
                c.appendChild(a)
            }
            e.MainContext.instance.stage.addEventListener(e.Event.RESIZE, this.onResize, this);
            return a
        };
        b.onResize = function () {
            var a = document.getElementById(e.StageDelegate.canvas_div_name);
            this.canvas && (this.canvas.width = e.MainContext.instance.stage.stageWidth,
                    this.canvas.height = e.MainContext.instance.stage.stageHeight, this.canvas.style.width = a.style.width, this.canvas.style.height = a.style.height, this.projectionX = this.canvas.width / 2, this.projectionY = -this.canvas.height / 2);
            this.html5Canvas && (this.html5Canvas.width = e.MainContext.instance.stage.stageWidth, this.html5Canvas.height = e.MainContext.instance.stage.stageHeight, this.html5Canvas.style.width = a.style.width, this.html5Canvas.style.height = a.style.height)
        };
        b.handleContextLost = function () {
            this.contextLost = !0
        };
        b.handleContextRestored = function () {
            this.initWebGL();
            this.shaderManager.setContext(this.gl);
            this.contextLost = !1
        };
        b.initWebGL = function () {
            for (var a = {}, c, b = ["experimental-webgl", "webgl"], f = 0; f < b.length; f++) {
                try {
                    c = this.canvas.getContext(b[f], a)
                } catch (g) {
                }
                if (c)
                    break
            }
            if (!c)
                throw Error(e.getString(1021));
            d.glID++;
            this.glID = d.glID;
            this.setContext(c)
        };
        b.setContext = function (a) {
            this.gl = a;
            a.id = this.glContextId++;
            this.vertexBuffer = a.createBuffer();
            this.indexBuffer = a.createBuffer();
            a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,
                    this.indexBuffer);
            a.bufferData(a.ELEMENT_ARRAY_BUFFER, this.indices, a.STATIC_DRAW);
            a.bindBuffer(a.ARRAY_BUFFER, this.vertexBuffer);
            a.bufferData(a.ARRAY_BUFFER, this.vertices, a.DYNAMIC_DRAW);
            a.disable(a.DEPTH_TEST);
            a.disable(a.CULL_FACE);
            a.enable(a.BLEND);
            a.colorMask(!0, !0, !0, !0)
        };
        b.start = function () {
            if (!this.contextLost) {
                var a = this.gl;
                a.activeTexture(a.TEXTURE0);
                a.bindBuffer(a.ARRAY_BUFFER, this.vertexBuffer);
                a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
                var c;
                c = this.colorTransformMatrix ? this.shaderManager.colorTransformShader :
                        "blur" == this.filterType ? this.shaderManager.blurShader : this.shaderManager.defaultShader;
                this.shaderManager.activateShader(c);
                c.syncUniforms();
                a.uniform2f(c.projectionVector, this.projectionX, this.projectionY);
                var b = 4 * this.vertSize;
                a.vertexAttribPointer(c.aVertexPosition, 2, a.FLOAT, !1, b, 0);
                a.vertexAttribPointer(c.aTextureCoord, 2, a.FLOAT, !1, b, 8);
                a.vertexAttribPointer(c.colorAttribute, 2, a.FLOAT, !1, b, 16)
            }
        };
        b.clearScreen = function () {
            var a = this.gl;
            a.colorMask(!0, !0, !0, !0);
            for (var c = e.RenderFilter.getInstance().getDrawAreaList(),
                    b = 0, d = c.length; b < d; b++) {
                var f = c[b];
                a.viewport(f.x, f.y, f.width, f.height);
                a.bindFramebuffer(a.FRAMEBUFFER, null);
                a.clearColor(0, 0, 0, 0);
                a.clear(a.COLOR_BUFFER_BIT)
            }
            c = e.MainContext.instance.stage;
            a.viewport(0, 0, c.stageWidth, c.stageHeight);
            this.renderCost = 0
        };
        b.setBlendMode = function (a) {
            a || (a = e.BlendMode.NORMAL);
            if (this.currentBlendMode != a) {
                var c = e.RendererContext.blendModesForGL[a];
                c && (this._drawWebGL(), this.gl.blendFunc(c[0], c[1]), this.currentBlendMode = a)
            }
        };
        b.drawRepeatImage = function (a, c, b, d, f, g, r, l, k,
                m) {
            m = e.MainContext.instance.rendererContext._texture_scale_factor;
            d *= m;
            for (f *= m; g < l; g += d)
                for (var n = r; n < k; n += f) {
                    var p = Math.min(d, l - g),
                            q = Math.min(f, k - n);
                    this.drawImage(a, c, b, p / m, q / m, g, n, p, q)
                }
        };
        b.drawImage = function (a, c, b, d, e, f, g, l, k, m) {
            void 0 === m && (m = void 0);
            if (!this.contextLost) {
                var n = a._bitmapData;
                if (n && n.avaliable)
                    if (void 0 !== m)
                        this.drawRepeatImage(a, c, b, d, e, f, g, l, k, m);
                    else {
                        this.createWebGLTexture(a);
                        m = a._bitmapData.webGLTexture[this.glID];
                        if (m !== this.currentBaseTexture || this.currentBatchSize >= this.size -
                                1)
                            this._drawWebGL(), this.currentBaseTexture = m;
                        var p = this.worldTransform,
                                q = p.a,
                                u = p.b,
                                y = p.c,
                                s = p.d,
                                w = p.tx,
                                v = p.ty;
                        0 == f && 0 == g || p.append(1, 0, 0, 1, f, g);
                        1 == d / l && 1 == e / k || p.append(l / d, 0, 0, k / e, 0, 0);
                        f = p.a;
                        g = p.b;
                        l = p.c;
                        k = p.d;
                        m = p.tx;
                        n = p.ty;
                        p.a = q;
                        p.b = u;
                        p.c = y;
                        p.d = s;
                        p.tx = w;
                        p.ty = v;
                        q = a._sourceWidth;
                        u = a._sourceHeight;
                        a = d;
                        p = e;
                        c /= q;
                        b /= u;
                        d /= q;
                        e /= u;
                        q = this.vertices;
                        u = 4 * this.currentBatchSize * this.vertSize;
                        y = this.worldAlpha;
                        q[u++] = m;
                        q[u++] = n;
                        q[u++] = c;
                        q[u++] = b;
                        q[u++] = y;
                        q[u++] = f * a + m;
                        q[u++] = g * a + n;
                        q[u++] = d + c;
                        q[u++] = b;
                        q[u++] = y;
                        q[u++] =
                                f * a + l * p + m;
                        q[u++] = k * p + g * a + n;
                        q[u++] = d + c;
                        q[u++] = e + b;
                        q[u++] = y;
                        q[u++] = l * p + m;
                        q[u++] = k * p + n;
                        q[u++] = c;
                        q[u++] = e + b;
                        q[u++] = y;
                        this.currentBatchSize++
                    }
            }
        };
        b._drawWebGL = function () {
            if (0 != this.currentBatchSize && !this.contextLost) {
                var a = e.getTimer();
                this.start();
                var c = this.gl;
                c.bindTexture(c.TEXTURE_2D, this.currentBaseTexture);
                var b = this.vertices.subarray(0, 4 * this.currentBatchSize * this.vertSize);
                c.bufferSubData(c.ARRAY_BUFFER, 0, b);
                c.drawElements(c.TRIANGLES, 6 * this.currentBatchSize, c.UNSIGNED_SHORT, 0);
                this.currentBatchSize =
                        0;
                this.renderCost += e.getTimer() - a;
                e.Profiler.getInstance().onDrawImage()
            }
        };
        b.setTransform = function (a) {
            var c = this.worldTransform;
            c.a = a.a;
            c.b = a.b;
            c.c = a.c;
            c.d = a.d;
            c.tx = a.tx;
            c.ty = a.ty
        };
        b.setAlpha = function (a, c) {
            this.worldAlpha = a;
            this.setBlendMode(c)
        };
        b.createWebGLTexture = function (a) {
            a = a._bitmapData;
            a.webGLTexture || (a.webGLTexture = {});
            if (!a.webGLTexture[this.glID]) {
                var c = this.gl;
                a.webGLTexture[this.glID] = c.createTexture();
                a.webGLTexture[this.glID].glContext = c;
                c.bindTexture(c.TEXTURE_2D, a.webGLTexture[this.glID]);
                c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !0);
                c.texImage2D(c.TEXTURE_2D, 0, c.RGBA, c.RGBA, c.UNSIGNED_BYTE, a);
                c.texParameteri(c.TEXTURE_2D, c.TEXTURE_MAG_FILTER, c.LINEAR);
                c.texParameteri(c.TEXTURE_2D, c.TEXTURE_MIN_FILTER, c.LINEAR);
                c.texParameteri(c.TEXTURE_2D, c.TEXTURE_WRAP_S, c.CLAMP_TO_EDGE);
                c.texParameteri(c.TEXTURE_2D, c.TEXTURE_WRAP_T, c.CLAMP_TO_EDGE);
                c.bindTexture(c.TEXTURE_2D, null)
            }
        };
        b.pushMask = function (a) {
            this._drawWebGL();
            var c = this.gl;
            0 == this.maskList.length && c.enable(c.SCISSOR_TEST);
            a = this.getScissorRect(a);
            this.maskList.push(a);
            this.scissor(a.x, a.y, a.width, a.height)
        };
        b.getScissorRect = function (a) {
            var c = this.maskList[this.maskList.length - 1],
                    b, d, f;
            c ? c.intersects(c) ? (b = Math.max(a.x + this.worldTransform.tx, c.x), d = Math.max(a.y + this.worldTransform.ty, c.y), f = Math.min(a.x + this.worldTransform.tx + a.width, c.x + c.width) - b, a = Math.min(a.y + this.worldTransform.ty + a.height, c.y + c.height) - d) : a = f = d = b = 0 : (b = a.x + this.worldTransform.tx, d = a.y + this.worldTransform.ty, f = a.width, a = a.height);
            (c = this.maskDataFreeList.pop()) ? (c.x = b,
                    c.y = d, c.width = f, c.height = a) : c = new e.Rectangle(b, d, f, a);
            return c
        };
        b.popMask = function () {
            this._drawWebGL();
            var a = this.gl,
                    c = this.maskList.pop();
            this.maskDataFreeList.push(c);
            c = this.maskList.length;
            0 != c ? (c = this.maskList[c - 1], (0 < c.width || 0 < c.height) && this.scissor(c.x, c.y, c.width, c.height)) : a.disable(a.SCISSOR_TEST)
        };
        b.scissor = function (a, c, b, d) {
            var f = this.gl;
            0 > b && (b = 0);
            0 > d && (d = 0);
            f.scissor(a, -c + e.MainContext.instance.stage.stageHeight - d, b, d)
        };
        b.setGlobalColorTransform = function (a) {
            if (this.colorTransformMatrix !=
                    a && (this._drawWebGL(), this.colorTransformMatrix = a)) {
                a = a.concat();
                var c = this.shaderManager.colorTransformShader;
                c.uniforms.colorAdd.value.w = a.splice(19, 1)[0] / 255;
                c.uniforms.colorAdd.value.z = a.splice(14, 1)[0] / 255;
                c.uniforms.colorAdd.value.y = a.splice(9, 1)[0] / 255;
                c.uniforms.colorAdd.value.x = a.splice(4, 1)[0] / 255;
                c.uniforms.matrix.value = a
            }
        };
        b.setGlobalFilter = function (a) {
            this._drawWebGL();
            this.setFilterProperties(a)
        };
        b.setFilterProperties = function (a) {
            if (a)
                switch (this.filterType = a.type, a.type) {
                    case "blur":
                        var c =
                                this.shaderManager.blurShader;
                        c.uniforms.blur.value.x = a.blurX;
                        c.uniforms.blur.value.y = a.blurY
                }
            else
                this.filterType = null
        };
        b.setupFont = function (a, c) {
            void 0 === c && (c = null);
            this.canvasContext.setupFont(a, c)
        };
        b.measureText = function (a) {
            return this.canvasContext.measureText(a)
        };
        b.renderGraphics = function (a) {
            this._drawWebGL();
            var c = this.gl,
                    b = this.shaderManager.primitiveShader;
            this.graphicsPoints ? (this.graphicsPoints.length = 0, this.graphicsIndices.length = 0) : (this.graphicsPoints = [], this.graphicsIndices = [], this.graphicsBuffer =
                    c.createBuffer(), this.graphicsIndexBuffer = c.createBuffer());
            this.updateGraphics(a);
            this.shaderManager.activateShader(b);
            c.blendFunc(c.ONE, c.ONE_MINUS_SRC_ALPHA);
            c.uniformMatrix3fv(b.translationMatrix, !1, this.worldTransform.toArray(!0));
            c.uniform2f(b.projectionVector, this.projectionX, -this.projectionY);
            c.uniform2f(b.offsetVector, 0, 0);
            c.uniform3fv(b.tintColor, [1, 1, 1]);
            c.uniform1f(b.alpha, this.worldAlpha);
            c.bindBuffer(c.ARRAY_BUFFER, this.graphicsBuffer);
            c.vertexAttribPointer(b.aVertexPosition, 2, c.FLOAT, !1, 24, 0);
            c.vertexAttribPointer(b.colorAttribute, 4, c.FLOAT, !1, 24, 8);
            c.bindBuffer(c.ELEMENT_ARRAY_BUFFER, this.graphicsIndexBuffer);
            c.drawElements(c.TRIANGLE_STRIP, this.graphicsIndices.length, c.UNSIGNED_SHORT, 0);
            this.shaderManager.activateShader(this.shaderManager.defaultShader)
        };
        b.updateGraphics = function (a) {
            var c = this.gl;
            this.buildRectangle(a);
            c.bindBuffer(c.ARRAY_BUFFER, this.graphicsBuffer);
            c.bufferData(c.ARRAY_BUFFER, new Float32Array(this.graphicsPoints), c.STATIC_DRAW);
            c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,
                    this.graphicsIndexBuffer);
            c.bufferData(c.ELEMENT_ARRAY_BUFFER, new Uint16Array(this.graphicsIndices), c.STATIC_DRAW)
        };
        b.buildRectangle = function (a) {
            var c = a.x,
                    b = a.y,
                    d = a.w;
            a = a.h;
            var e = this.graphicsStyle.a,
                    f = this.graphicsStyle.r * e,
                    g = this.graphicsStyle.g * e,
                    l = this.graphicsStyle.b * e,
                    k = this.graphicsPoints,
                    m = this.graphicsIndices,
                    n = k.length / 6;
            k.push(c, b);
            k.push(f, g, l, e);
            k.push(c + d, b);
            k.push(f, g, l, e);
            k.push(c, b + a);
            k.push(f, g, l, e);
            k.push(c + d, b + a);
            k.push(f, g, l, e);
            m.push(n, n, n + 1, n + 2, n + 3, n + 3)
        };
        b.setGraphicsStyle =
                function (a, c, b, d) {
                    this.graphicsStyle.r = a;
                    this.graphicsStyle.g = c;
                    this.graphicsStyle.b = b;
                    this.graphicsStyle.a = d
                };
        d.glID = 0;
        d.isInit = !1;
        return d
    }(e.RendererContext);
    e.WebGLRenderer = f;
    f.prototype.__class__ = "egret.WebGLRenderer"
})(egret || (egret = {}));
var egret_webgl_graphics;
(function (e) {
    e.beginFill = function (e, d) {
        void 0 === d && (d = 1);
        this._pushCommand(new f(this._setStyle, this, [(e >> 16) / 255, ((e & 65280) >> 8) / 255, (e & 255) / 255, d]))
    };
    e.drawRect = function (e, d, b, a) {
        this._pushCommand(new f(function (c) {
            this.renderContext.renderGraphics(c)
        }, this, [{
                x: e,
                y: d,
                w: b,
                h: a
            }]));
        this._checkRect(e, d, b, a)
    };
    e.drawCircle = function (e, d, b) {
    };
    e.drawRoundRect = function (e, d, b, a, c, h) {
    };
    e.drawEllipse = function (e, d, b, a) {
    };
    e.lineStyle = function (e, d, b, a, c, h, f, A) {
    };
    e.lineTo = function (e, d) {
    };
    e.curveTo = function (e, d, b,
            a) {
    };
    e.cubicCurveTo = function (e, d, b, a, c, h) {
    };
    e.moveTo = function (e, d) {
    };
    e.clear = function () {
        this._maxY = this._maxX = this._minY = this._minX = this.commandQueue.length = 0
    };
    e.endFill = function () {
    };
    e._pushCommand = function (e) {
        this.commandQueue.push(e)
    };
    e._draw = function (e) {
        var d = this.commandQueue.length;
        if (0 != d)
            for (this.renderContext = e, e = 0; e < d; e++) {
                var b = this.commandQueue[e];
                b.method.apply(b.thisObject, b.args)
            }
    };
    var f = function () {
        return function (e, d, b) {
            this.method = e;
            this.thisObject = d;
            this.args = b
        }
    }();
    f.prototype.__class__ =
            "egret_webgl_graphics.Command";
    e._setStyle = function (e, d, b, a) {
        this.renderContext.setGraphicsStyle(e, d, b, a)
    };
    e.init = function () {
        for (var f in e)
            egret.Graphics.prototype[f] = e[f]
    }
})(egret_webgl_graphics || (egret_webgl_graphics = {}));
(function (e) {
    var f = function () {
        function f() {
        }
        f.compileProgram = function (d, b, a) {
            a = f.compileFragmentShader(d, a);
            b = f.compileVertexShader(d, b);
            var c = d.createProgram();
            d.attachShader(c, b);
            d.attachShader(c, a);
            d.linkProgram(c);
            d.getProgramParameter(c, d.LINK_STATUS) || e.Logger.infoWithErrorId(1020);
            return c
        };
        f.compileFragmentShader = function (d, b) {
            return f._compileShader(d, b, d.FRAGMENT_SHADER)
        };
        f.compileVertexShader = function (d, b) {
            return f._compileShader(d, b, d.VERTEX_SHADER)
        };
        f._compileShader = function (d, b, a) {
            a =
                    d.createShader(a);
            d.shaderSource(a, b);
            d.compileShader(a);
            return d.getShaderParameter(a, d.COMPILE_STATUS) ? a : (e.Logger.info(d.getShaderInfoLog(a)), null)
        };
        f.checkCanUseWebGL = function () {
            if (void 0 == f.canUseWebGL)
                try {
                    var d = document.createElement("canvas");
                    f.canUseWebGL = !!window.WebGLRenderingContext && !(!d.getContext("webgl") && !d.getContext("experimental-webgl"))
                } catch (b) {
                    f.canUseWebGL = !1
                }
            return f.canUseWebGL
        };
        return f
    }();
    e.WebGLUtils = f;
    f.prototype.__class__ = "egret.WebGLUtils"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function f(b) {
            this.defaultVertexSrc = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec2 aColor;\nuniform vec2 projectionVector;\nuniform vec2 offsetVector;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nconst vec2 center = vec2(-1.0, 1.0);\nvoid main(void) {\n   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.x, aColor.x, aColor.x, aColor.x);\n}";
            this.program = this.gl = null;
            this.fragmentSrc = "precision lowp float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nvoid main(void) {\ngl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;\n}";
            this.uniforms = null;
            this.gl = b;
            this.init()
        }
        var d = f.prototype;
        d.init = function () {
            var b = this.gl,
                    a = e.WebGLUtils.compileProgram(b, this.defaultVertexSrc, this.fragmentSrc);
            b.useProgram(a);
            this.uSampler = b.getUniformLocation(a, "uSampler");
            this.projectionVector = b.getUniformLocation(a,
                    "projectionVector");
            this.offsetVector = b.getUniformLocation(a, "offsetVector");
            this.dimensions = b.getUniformLocation(a, "dimensions");
            this.aVertexPosition = b.getAttribLocation(a, "aVertexPosition");
            this.aTextureCoord = b.getAttribLocation(a, "aTextureCoord");
            this.colorAttribute = b.getAttribLocation(a, "aColor");
            -1 === this.colorAttribute && (this.colorAttribute = 2);
            this.attributes = [this.aVertexPosition, this.aTextureCoord, this.colorAttribute];
            for (var c in this.uniforms)
                this.uniforms[c].uniformLocation = b.getUniformLocation(a,
                        c);
            this.initUniforms();
            this.program = a
        };
        d.initUniforms = function () {
            if (this.uniforms) {
                var b = this.gl,
                        a, c;
                for (c in this.uniforms) {
                    a = this.uniforms[c];
                    var h = a.type;
                    "mat2" === h || "mat3" === h || "mat4" === h ? (a.glMatrix = !0, a.glValueLength = 1, "mat2" === h ? a.glFunc = b.uniformMatrix2fv : "mat3" === h ? a.glFunc = b.uniformMatrix3fv : "mat4" === h && (a.glFunc = b.uniformMatrix4fv)) : (a.glFunc = b["uniform" + h], a.glValueLength = "2f" === h || "2i" === h ? 2 : "3f" === h || "3i" === h ? 3 : "4f" === h || "4i" === h ? 4 : 1)
                }
            }
        };
        d.syncUniforms = function () {
            if (this.uniforms) {
                var b,
                        a = this.gl,
                        c;
                for (c in this.uniforms)
                    b = this.uniforms[c], 1 === b.glValueLength ? !0 === b.glMatrix ? b.glFunc.call(a, b.uniformLocation, b.transpose, b.value) : b.glFunc.call(a, b.uniformLocation, b.value) : 2 === b.glValueLength ? b.glFunc.call(a, b.uniformLocation, b.value.x, b.value.y) : 3 === b.glValueLength ? b.glFunc.call(a, b.uniformLocation, b.value.x, b.value.y, b.value.z) : 4 === b.glValueLength && b.glFunc.call(a, b.uniformLocation, b.value.x, b.value.y, b.value.z, b.value.w)
            }
        };
        return f
    }();
    e.EgretShader = f;
    f.prototype.__class__ = "egret.EgretShader"
})(egret ||
        (egret = {}));
(function (e) {
    var f = function (e) {
        function d(b) {
            e.call(this, b);
            this.fragmentSrc = "precision mediump float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform float invert;\nuniform mat4 matrix;\nuniform vec4 colorAdd;\nuniform sampler2D uSampler;\nvoid main(void) {\nvec4 locColor = texture2D(uSampler, vTextureCoord) * matrix;\nif(locColor.a != 0.0){\nlocColor += colorAdd;\n}\ngl_FragColor = locColor;\n}";
            this.uniforms = {
                matrix: {
                    type: "mat4",
                    value: [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]
                },
                colorAdd: {
                    type: "4f",
                    value: {
                        x: 0,
                        y: 0,
                        z: 0,
                        w: 0
                    }
                }
            };
            this.init()
        }
        __extends(d, e);
        return d
    }(e.EgretShader);
    e.ColorTransformShader = f;
    f.prototype.__class__ = "egret.ColorTransformShader"
})(egret || (egret = {}));
(function (e) {
    var f = function (e) {
        function d(b) {
            e.call(this, b);
            this.fragmentSrc = "precision mediump float;uniform vec2 blur;uniform sampler2D uSampler;varying vec2 vTextureCoord;void main(){gl_FragColor = vec4(0.0);gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.028 * blur.x, -0.028 * blur.y))) * 0.0044299121055113265;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.024 * blur.x, -0.024 * blur.y))) * 0.00895781211794;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.020 * blur.x, -0.020 * blur.y))) * 0.0215963866053;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.016 * blur.x, -0.016 * blur.y))) * 0.0443683338718;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.012 * blur.x, -0.012 * blur.y))) * 0.0776744219933;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.008 * blur.x, -0.008 * blur.y))) * 0.115876621105;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.004 * blur.x, -0.004 * blur.y))) * 0.147308056121;gl_FragColor += texture2D(uSampler, vTextureCoord) * 0.159576912161;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.004 * blur.x,  0.004 * blur.y))) * 0.147308056121;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.008 * blur.x,  0.008 * blur.y))) * 0.115876621105;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.012 * blur.x,  0.012 * blur.y))) * 0.0776744219933;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.016 * blur.x,  0.016 * blur.y))) * 0.0443683338718;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.020 * blur.x,  0.020 * blur.y))) * 0.0215963866053;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.024 * blur.x,  0.024 * blur.y))) * 0.00895781211794;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.028 * blur.x,  0.028 * blur.y))) * 0.0044299121055113265;}";
            this.uniforms = {
                blur: {
                    type: "2f",
                    value: {
                        x: 2,
                        y: 2
                    }
                }
            };
            this.init()
        }
        __extends(d, e);
        return d
    }(e.EgretShader);
    e.BlurShader = f;
    f.prototype.__class__ = "egret.BlurShader"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function f(d) {
            this.alpha = this.translationMatrix = this.attributes = this.colorAttribute = this.aVertexPosition = this.tintColor = this.offsetVector = this.projectionVector = this.program = this.gl = null;
            this.fragmentSrc = "precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n   gl_FragColor = vColor;\n}";
            this.vertexSrc = "attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform vec2 projectionVector;\nuniform vec2 offsetVector;\nuniform float alpha;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void) {\n   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);\n   v -= offsetVector.xyx;\n   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}";
            this.gl = d;
            this.init()
        }
        f.prototype.init = function () {
            var d = this.gl,
                    b = e.WebGLUtils.compileProgram(d, this.vertexSrc, this.fragmentSrc);
            d.useProgram(b);
            this.projectionVector = d.getUniformLocation(b, "projectionVector");
            this.offsetVector = d.getUniformLocation(b, "offsetVector");
            this.tintColor = d.getUniformLocation(b, "tint");
            this.aVertexPosition = d.getAttribLocation(b, "aVertexPosition");
            this.colorAttribute = d.getAttribLocation(b, "aColor");
            this.attributes = [this.aVertexPosition, this.colorAttribute];
            this.translationMatrix =
                    d.getUniformLocation(b, "translationMatrix");
            this.alpha = d.getUniformLocation(b, "alpha");
            this.program = b
        };
        return f
    }();
    e.PrimitiveShader = f;
    f.prototype.__class__ = "egret.PrimitiveShader"
})(egret || (egret = {}));
(function (e) {
    var f = function () {
        function f(b) {
            this.gl = null;
            this.maxAttibs = 10;
            this.attribState = [];
            this.tempAttribState = [];
            this.blurShader = this.colorTransformShader = this.primitiveShader = this.defaultShader = this.currentShader = null;
            for (var a = 0; a < this.maxAttibs; a++)
                this.attribState[a] = !1;
            this.setContext(b)
        }
        var d = f.prototype;
        d.setContext = function (b) {
            this.gl = b;
            this.primitiveShader = new e.PrimitiveShader(b);
            this.defaultShader = new e.EgretShader(b);
            this.colorTransformShader = new e.ColorTransformShader(b);
            this.blurShader =
                    new e.BlurShader(b);
            this.activateShader(this.defaultShader)
        };
        d.activateShader = function (b) {
            this.currentShader != b && (this.gl.useProgram(b.program), this.setAttribs(b.attributes), this.currentShader = b)
        };
        d.setAttribs = function (b) {
            var a, c;
            c = this.tempAttribState.length;
            for (a = 0; a < c; a++)
                this.tempAttribState[a] = !1;
            c = b.length;
            for (a = 0; a < c; a++)
                this.tempAttribState[b[a]] = !0;
            b = this.gl;
            c = this.attribState.length;
            for (a = 0; a < c; a++)
                this.attribState[a] !== this.tempAttribState[a] && (this.attribState[a] = this.tempAttribState[a],
                        this.tempAttribState[a] ? b.enableVertexAttribArray(a) : b.disableVertexAttribArray(a))
        };
        return f
    }();
    e.WebGLShaderManager = f;
    f.prototype.__class__ = "egret.WebGLShaderManager"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            e.Texture.createBitmapData = e.Texture._createBitmapDataForCanvasAndWebGl
        }
        __extends(d, f);
        var b = d.prototype;
        b.initVersion = function (a) {
            this._versionCtr = a
        };
        b.proceed = function (a) {
            function c() {
                if (4 == d.readyState)
                    if (d.status != a._status && (a._status = d.status, e.HTTPStatusEvent.dispatchHTTPStatusEvent(a, d.status)), 400 <= d.status || 0 == d.status)
                        e.IOErrorEvent.dispatchIOErrorEvent(a);
                    else {
                        switch (a.dataFormat) {
                            case e.URLLoaderDataFormat.TEXT:
                                a.data = d.responseText;
                                break;
                            case e.URLLoaderDataFormat.VARIABLES:
                                a.data = new e.URLVariables(d.responseText);
                                break;
                            case e.URLLoaderDataFormat.BINARY:
                                a.data = d.response;
                                break;
                            default:
                                a.data = d.responseText
                        }
                        e.__callAsync(e.Event.dispatchEvent, e.Event, a, e.Event.COMPLETE)
                    }
            }
            if (a.dataFormat == e.URLLoaderDataFormat.TEXTURE)
                this.loadTexture(a);
            else if (a.dataFormat == e.URLLoaderDataFormat.SOUND)
                e.Browser.getInstance().isIOS() && e.WebAudio.canUseWebAudio ? this.loadWebAudio(a) : this.loadSound(a);
            else {
                var b = a._request,
                        d = this.getXHR();
                d.onreadystatechange =
                        c;
                var f = this.getVirtualUrl(e.NetContext._getUrl(b));
                d.open(b.method, f, !0);
                this.setResponseType(d, a.dataFormat);
                b.method != e.URLRequestMethod.GET && b.data ? b.data instanceof e.URLVariables ? (d.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), d.send(b.data.toString())) : (d.setRequestHeader("Content-Type", "multipart/form-data"), d.send(b.data)) : d.send()
            }
        };
        b.loadSound = function (a) {
            function c(d) {
                e.clearTimeout(f.__timeoutId);
                f.removeEventListener("canplaythrough", c, !1);
                f.removeEventListener("error",
                        b, !1);
                d = new e.Html5Audio;
                d._setAudio(f);
                var G = new e.Sound;
                G._setAudio(d);
                a.data = G;
                e.__callAsync(e.Event.dispatchEvent, e.Event, a, e.Event.COMPLETE)
            }

            function b(d) {
                e.clearTimeout(f.__timeoutId);
                f.removeEventListener("canplaythrough", c, !1);
                f.removeEventListener("error", b, !1);
                e.IOErrorEvent.dispatchIOErrorEvent(a)
            }
            var d = this.getVirtualUrl(a._request.url),
                    f = new Audio(d);
            f.__timeoutId = e.setTimeout(c, this, 100);
            f.addEventListener("canplaythrough", c, !1);
            f.addEventListener("error", b, !1);
            f.load()
        };
        b.loadWebAudio =
                function (a) {
                    var c = this.getVirtualUrl(a._request.url),
                            b = new XMLHttpRequest;
                    b.open("GET", c, !0);
                    b.responseType = "arraybuffer";
                    console.log("loadWebAudio");
                    b.onload = function () {
                        var c = new e.WebAudio;
                        c._setArrayBuffer(b.response, function () {
                            var b = new e.Sound;
                            b._setAudio(c);
                            a.data = b;
                            e.__callAsync(e.Event.dispatchEvent, e.Event, a, e.Event.COMPLETE)
                        })
                    };
                    b.send()
                };
        b.getXHR = function () {
            return window.XMLHttpRequest ? new window.XMLHttpRequest : new ActiveXObject("MSXML2.XMLHTTP")
        };
        b.setResponseType = function (a, c) {
            switch (c) {
                case e.URLLoaderDataFormat.TEXT:
                case e.URLLoaderDataFormat.VARIABLES:
                    a.responseType =
                            e.URLLoaderDataFormat.TEXT;
                    break;
                case e.URLLoaderDataFormat.BINARY:
                    a.responseType = "arraybuffer";
                    break;
                default:
                    a.responseType = c
            }
        };
        b.loadTexture = function (a) {
            var c = this.getVirtualUrl(a._request.url);
            e.Texture.createBitmapData(c, function (c, b) {
                if (0 != c)
                    e.IOErrorEvent.dispatchIOErrorEvent(a);
                else {
                    var d = new e.Texture;
                    d._setBitmapData(b);
                    a.data = d;
                    e.__callAsync(e.Event.dispatchEvent, e.Event, a, e.Event.COMPLETE)
                }
            })
        };
        b.getVirtualUrl = function (a) {
            return this._versionCtr ? this._versionCtr.getVirtualUrl(a) : a
        };
        return d
    }(e.NetContext);
    e.HTML5NetContext = f;
    f.prototype.__class__ = "egret.HTML5NetContext"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this._isTouchDown = !1;
            this.rootDiv = null;
            this.rootDiv = document.getElementById(e.StageDelegate.canvas_div_name);
            if (!this.rootDiv) {
                var a = document.getElementById(e.StageDelegate.egret_root_div);
                this.rootDiv = e.Browser.getInstance().$new("div");
                this.rootDiv.id = e.StageDelegate.canvas_div_name;
                a.appendChild(this.rootDiv)
            }
        }
        __extends(d, f);
        var b = d.prototype;
        b.prevent = function (a) {
            a.stopPropagation();
            !0 == a.isScroll || e.HTMLInput.getInstance().isInputOn() ||
                    a.preventDefault()
        };
        b.run = function () {
            var a = this;
            window.navigator.msPointerEnabled ? (this.rootDiv.addEventListener("MSPointerDown", function (c) {
                a._onTouchBegin(c);
                a.prevent(c)
            }, !1), this.rootDiv.addEventListener("MSPointerMove", function (c) {
                a._onTouchMove(c);
                a.prevent(c)
            }, !1), this.rootDiv.addEventListener("MSPointerUp", function (c) {
                a._onTouchEnd(c);
                a.prevent(c)
            }, !1)) : e.MainContext.deviceType == e.MainContext.DEVICE_MOBILE ? this.addTouchListener() : e.MainContext.deviceType == e.MainContext.DEVICE_PC && (this.addTouchListener(),
                    this.addMouseListener());
            window.addEventListener("mousedown", function (c) {
                a.inOutOfCanvas(c) ? a.dispatchLeaveStageEvent() : a._isTouchDown = !0
            });
            window.addEventListener("mouseup", function (c) {
                a._isTouchDown && (a.inOutOfCanvas(c) ? a.dispatchLeaveStageEvent() : a._onTouchEnd(c));
                a._isTouchDown = !1
            })
        };
        b.addMouseListener = function () {
            var a = this;
            this.rootDiv.addEventListener("mousedown", function (c) {
                a._onTouchBegin(c)
            });
            this.rootDiv.addEventListener("mousemove", function (c) {
                a._onTouchMove(c)
            });
            this.rootDiv.addEventListener("mouseup",
                    function (c) {
                        a._onTouchEnd(c)
                    })
        };
        b.addTouchListener = function () {
            var a = this;
            this.rootDiv.addEventListener("touchstart", function (c) {
                for (var b = c.changedTouches.length, d = 0; d < b; d++)
                    a._onTouchBegin(c.changedTouches[d]);
                a.prevent(c)
            }, !1);
            this.rootDiv.addEventListener("touchmove", function (c) {
                for (var b = c.changedTouches.length, d = 0; d < b; d++)
                    a._onTouchMove(c.changedTouches[d]);
                a.prevent(c)
            }, !1);
            this.rootDiv.addEventListener("touchend", function (c) {
                for (var b = c.changedTouches.length, d = 0; d < b; d++)
                    a._onTouchEnd(c.changedTouches[d]);
                a.prevent(c)
            }, !1);
            this.rootDiv.addEventListener("touchcancel", function (c) {
                for (var b = c.changedTouches.length, d = 0; d < b; d++)
                    a._onTouchEnd(c.changedTouches[d]);
                a.prevent(c)
            }, !1)
        };
        b.inOutOfCanvas = function (a) {
            var c = this.getLocation(this.rootDiv, a);
            a = c.x;
            var c = c.y,
                    b = e.MainContext.instance.stage;
            return 0 > a || 0 > c || a > b.stageWidth || c > b.stageHeight ? !0 : !1
        };
        b.dispatchLeaveStageEvent = function () {
            this.touchingIdentifiers.length = 0;
            e.MainContext.instance.stage.dispatchEventWith(e.Event.LEAVE_STAGE)
        };
        b._onTouchBegin = function (a) {
            var c =
                    this.getLocation(this.rootDiv, a),
                    b = -1;
            a.hasOwnProperty("identifier") && (b = a.identifier);
            this.onTouchBegan(c.x, c.y, b)
        };
        b._onTouchMove = function (a) {
            var c = this.getLocation(this.rootDiv, a),
                    b = -1;
            a.hasOwnProperty("identifier") && (b = a.identifier);
            this.onTouchMove(c.x, c.y, b)
        };
        b._onTouchEnd = function (a) {
            var c = this.getLocation(this.rootDiv, a),
                    b = -1;
            a.hasOwnProperty("identifier") && (b = a.identifier);
            this.onTouchEnd(c.x, c.y, b)
        };
        b.getLocation = function (a, c) {
            var b = document.documentElement,
                    d = window,
                    f, g;
            "function" === typeof a.getBoundingClientRect ?
                    (g = a.getBoundingClientRect(), f = g.left, g = g.top) : g = f = 0;
            f += d.pageXOffset - b.clientLeft;
            g += d.pageYOffset - b.clientTop;
            null != c.pageX ? (b = c.pageX, d = c.pageY) : (f -= document.body.scrollLeft, g -= document.body.scrollTop, b = c.clientX, d = c.clientY);
            var r = e.Point.identity;
            r.x = (b - f) / e.StageDelegate.getInstance().getScaleX();
            r.y = (d - g) / e.StageDelegate.getInstance().getScaleY();
            return r
        };
        return d
    }(e.TouchContext);
    e.HTML5TouchContext = f;
    f.prototype.__class__ = "egret.HTML5TouchContext"
})(egret || (egret = {}));
(function (e) {
    var f = function (d) {
        function b() {
            d.call(this);
            this._isNeedShow = !1;
            this.inputDiv = this.inputElement = null;
            this._gscaleY = this._gscaleX = 0;
            this._isNeesHide = !1;
            this.textValue = "";
            this._styleInfoes = {};
            g.getInstance()
        }
        __extends(b, d);
        var a = b.prototype;
        a._initElement = function (c, a, b, d) {
            var f = e.StageDelegate.getInstance().getScaleX(),
                    g = e.StageDelegate.getInstance().getScaleY();
            this.inputDiv.style.left = c * f + "px";
            this.inputDiv.style.top = a * g + "px";
            this._gscaleX = f * b;
            this._gscaleY = g * d
        };
        a._show = function (c, a,
                b, d) {
            this._multiline = c;
            g.getInstance().isCurrentStageText(this) ? this.inputElement.onblur = null : (this.inputElement = g.getInstance().getInputElement(this), this.inputDiv = g.getInstance()._inputDIV);
            this._isNeedShow = g.getInstance()._needShow = !0
        };
        a.onBlurHandler = function () {
            g.getInstance().clearInputElement();
            window.scrollTo(0, 0)
        };
        a.executeShow = function () {
            this.inputElement.value = this._getText();
            null == this.inputElement.onblur && (this.inputElement.onblur = this.onBlurHandler);
            this._resetStageText();
            0 < this._textfield._TF_Props_._maxChars ?
                    this.inputElement.setAttribute("maxlength", this._textfield._TF_Props_._maxChars) : this.inputElement.removeAttribute("maxlength");
            this.inputElement.selectionStart = this.inputElement.value.length;
            this.inputElement.selectionEnd = this.inputElement.value.length;
            this.inputElement.focus()
        };
        a._hide = function () {
            this._isNeesHide = !0;
            0 <= e.Browser.getInstance().getUserAgent().indexOf("ios") && g.getInstance().disconnectStageText(this)
        };
        a._getText = function () {
            this.textValue || (this.textValue = "");
            return this.textValue
        };
        a._setText = function (c) {
            this.textValue = c;
            this.resetText()
        };
        a.resetText = function () {
            this.inputElement && (this.inputElement.value = this.textValue)
        };
        a._onInput = function () {
            this.textValue = this.inputElement.value;
            e.Event.dispatchEvent(this, "updateText", !1)
        };
        a._onClickHandler = function (c) {
            this._isNeedShow && (c.stopImmediatePropagation(), this._isNeedShow = !1, this.executeShow(), this.dispatchEvent(new e.Event("focus")))
        };
        a._onDisconnect = function () {
            this.inputElement = null;
            this.dispatchEvent(new e.Event("blur"))
        };
        a.setElementStyle =
                function (c, a) {
                    this.inputElement && this._styleInfoes[c] != a && (this.inputElement.style[c] = a)
                };
        a._removeInput = function () {
            this.inputElement && g.getInstance().disconnectStageText(this)
        };
        a._resetStageText = function () {
            if (this.inputElement) {
                var c = this._textfield,
                        a = c._TF_Props_;
                this.setElementStyle("fontFamily", a._fontFamily);
                this.setElementStyle("fontStyle", a._italic ? "italic" : "normal");
                this.setElementStyle("fontWeight", a._bold ? "bold" : "normal");
                this.setElementStyle("textAlign", a._textAlign);
                this.setElementStyle("fontSize",
                        a._size * this._gscaleY + "px");
                this.setElementStyle("lineHeight", a._size * this._gscaleY + "px");
                this.setElementStyle("color", a._textColorString);
                this.setElementStyle("width", c._getSize(e.Rectangle.identity).width * this._gscaleX + "px");
                this.setElementStyle("height", c._getSize(e.Rectangle.identity).height * this._gscaleY + "px");
                this.setElementStyle("verticalAlign", a._verticalAlign)
            }
        };
        return b
    }(e.StageText);
    e.HTML5StageText = f;
    f.prototype.__class__ = "egret.HTML5StageText";
    var g = function () {
        function d() {
            this._needShow = !1
        }
        var b = d.prototype;
        b.isInputOn = function () {
            return null != this._stageText
        };
        b.isCurrentStageText = function (a) {
            return this._stageText == a
        };
        b.initValue = function (a) {
            a.style.position = "absolute";
            a.style.left = "0px";
            a.style.top = "0px";
            a.style.border = "none";
            a.style.padding = "0"
        };
        b._initStageDelegateDiv = function () {
            var a = this,
                    c = e.Browser.getInstance().$("#StageDelegateDiv");
            c || (c = e.Browser.getInstance().$new("div"), c.id = "StageDelegateDiv", document.getElementById(e.StageDelegate.egret_root_div).appendChild(c), a.initValue(c),
                    c.style.width = "0px", c.style.height = "0px", a._inputDIV = e.Browser.getInstance().$new("div"), a.initValue(a._inputDIV), a._inputDIV.style.width = "0px", a._inputDIV.style.height = "0px", a._inputDIV.style.left = "0px", a._inputDIV.style.top = "-100px", a._inputDIV.style[e.Browser.getInstance().getTrans("transformOrigin")] = "0% 0% 0px", c.appendChild(a._inputDIV), document.getElementById(e.StageDelegate.canvas_div_name).addEventListener("click", function (c) {
                a._needShow ? (a._needShow = !1, e.MainContext.instance.stage._changeSizeDispatchFlag = !1, a._stageText._onClickHandler(c), d.getInstance().show()) : a._inputElement && (a.clearInputElement(), a._inputElement.blur(), a._inputElement = null)
            }), a.initInputElement(!0), a.initInputElement(!1))
        };
        b.initInputElement = function (a) {
            var c = this;
            a ? (a = document.createElement("textarea"), a.style.resize = "none", c._multiElement = a, a.id = "egretTextarea") : (a = document.createElement("input"), c._simpleElement = a, a.id = "egretInput");
            a.type = "text";
            c._inputDIV.appendChild(a);
            a.setAttribute("tabindex", "-1");
            a.style.width = "1px";
            a.style.height = "12px";
            c.initValue(a);
            a.style.outline = "thin";
            a.style.background = "none";
            a.style.overflow = "hidden";
            a.style.wordBreak = "break-all";
            a.style.opacity = 0;
            a.oninput = function () {
                c._stageText && c._stageText._onInput()
            }
        };
        b.show = function () {
            var a = this._inputElement;
            e.__callAsync(function () {
                a.style.opacity = 1
            }, this)
        };
        b.disconnectStageText = function (a) {
            if (null == this._stageText || this._stageText == a)
                this.clearInputElement(), this._inputElement && this._inputElement.blur()
        };
        b.clearInputElement = function () {
            this._inputElement &&
                    (this._inputElement.value = "", this._inputElement.onblur = null, this._inputElement.style.width = "1px", this._inputElement.style.height = "12px", this._inputElement.style.left = "0px", this._inputElement.style.top = "0px", this._inputElement.style.opacity = 0, (this._simpleElement == this._inputElement ? this._multiElement : this._simpleElement).style.display = "block", this._inputDIV.style.left = "0px", this._inputDIV.style.top = "-100px");
            this._stageText && (this._stageText._onDisconnect(), this._stageText = null);
            e.MainContext.instance.stage._changeSizeDispatchFlag = !0
        };
        b.getInputElement = function (a) {
            this.clearInputElement();
            this._stageText = a;
            this._inputElement = this._stageText._multiline ? this._multiElement : this._simpleElement;
            (this._simpleElement == this._inputElement ? this._multiElement : this._simpleElement).style.display = "none";
            return this._inputElement
        };
        d.getInstance = function () {
            null == d._instance && (d._instance = new e.HTMLInput);
            return d._instance
        };
        return d
    }();
    e.HTMLInput = g;
    g.prototype.__class__ = "egret.HTMLInput"
})(egret || (egret = {}));
egret.StageText.create = function () {
    egret.HTMLInput.getInstance()._initStageDelegateDiv();
    return new egret.HTML5StageText
};
(function (e) {
    var f = function () {
        function f() {
            this._loop = !1;
            this.paused = !0;
            this._listeners = [];
            this._startTime = 0
        }
        var d = f.prototype;
        d._play = function (b) {
            this.paused = !1;
            this._audio.currentTime = this._startTime;
            this._audio.play()
        };
        d.clear = function () {
            this._audio.pause();
            this._loop && !this.paused && this._play()
        };
        d._pause = function () {
            this.paused = !0;
            this._audio.pause()
        };
        d._load = function () {
            this._audio.load()
        };
        d._setAudio = function (b) {
            var a = this;
            this._audio = b;
            this._audio.onended = function () {
                a.clear()
            };
            this.initStart()
        };
        d.initStart = function () {
            for (var b = 0; b < this._listeners.length; b++) {
                var a = this._listeners[b];
                this._audio.addEventListener(a.type, a.listener, a.useCapture)
            }
        };
        d._addEventListener = function (b, a, c) {
            void 0 === c && (c = !1);
            this._listeners.push({
                type: b,
                listener: a,
                useCapture: c
            });
            this._audio && this._audio.addEventListener(b, a, c)
        };
        d._removeEventListener = function (b, a, c) {
            void 0 === c && (c = !1);
            for (var d = 0; d < this._listeners.length; d++) {
                var e = this._listeners[d];
                if (e.listener == a && e.useCapture == c && e.type == b) {
                    this._listeners.splice(d,
                            1);
                    this._audio && this._audio.removeEventListener(b, a, c);
                    break
                }
            }
        };
        d._preload = function (b, a, c) {
            void 0 === a && (a = null);
            void 0 === c && (c = null);
            e.callLater(a, c)
        };
        d._destroy = function () {
        };
        d._getVolume = function () {
            return this._audio.volume
        };
        d._setVolume = function (b) {
            this._audio.volume = Math.max(0, Math.min(b, 1))
        };
        d._setLoop = function (b) {
            this._loop = b
        };
        d._getCurrentTime = function () {
            return this._audio.currentTime
        };
        d._setCurrentTime = function (b) {
            this._startTime = b
        };
        return f
    }();
    e.Html5Audio = f;
    f.prototype.__class__ = "egret.Html5Audio"
})(egret ||
        (egret = {}));
(function (e) {
    var f = function () {
        function f() {
            this.context = f.ctx;
            this.bufferSource = null;
            this.paused = !0;
            this._loop = !1;
            this._listeners = [];
            this._onEndedCall = null;
            this._currentTime = this._startTime = 0;
            this.gain = f.ctx.createGain ? f.ctx.createGain() : f.ctx.createGainNode()
        }
        var d = f.prototype;
        f.decodeAudios = function () {
            if (!(0 >= f.decodeArr.length || f.isDecoding)) {
                f.isDecoding = !0;
                var b = f.decodeArr.shift();
                f.ctx.decodeAudioData(b.buffer, function (a) {
                    b.self.audioBuffer = a;
                    b.callback && b.callback();
                    f.isDecoding = !1;
                    f.decodeAudios()
                })
            }
        };
        d._play = function (b) {
            var a = this;
            this.bufferSource && (this.bufferSource.onended = null, this.removeListeners(), this.bufferSource = null);
            b = this.context;
            var c = this.gain,
                    d = b.createBufferSource();
            this.bufferSource = d;
            this.addListeners();
            d.buffer = this.audioBuffer;
            d.connect(c);
            c.connect(b.destination);
            d.onended = function (c) {
                a.clear();
                a._onEndedCall && a._onEndedCall.call(null, c);
                a._loop && !a.paused && a._play()
            };
            this.paused = !1;
            this._startTime = Date.now();
            d.start(0, this._currentTime);
            this._currentTime = 0
        };
        d.clear = function () {
            if (this.bufferSource) {
                this.removeListeners();
                var b = this.bufferSource;
                b.stop ? b.stop(0) : b.noteOff(0);
                this.bufferSource.disconnect();
                this.bufferSource = null
            }
        };
        d.addListeners = function () {
            for (var b = 0; b < this._listeners.length; b++) {
                var a = this._listeners[b];
                this.bufferSource.addEventListener(a.type, a.listener, a.useCapture)
            }
        };
        d.removeListeners = function () {
            for (var b = 0; b < this._listeners.length; b++) {
                var a = this._listeners[b];
                this.bufferSource.removeEventListener(a.type, a.listener, a.useCapture)
            }
        };
        d._pause = function () {
            this.paused = !0;
            this.clear()
        };
        d._addEventListener =
                function (b, a, c) {
                    void 0 === c && (c = !1);
                    "ended" == b ? this._onEndedCall = a : (this._listeners.push({
                        type: b,
                        listener: a,
                        useCapture: c
                    }), this.bufferSource && this.bufferSource.addEventListener(b, a, c))
                };
        d._removeEventListener = function (b, a, c) {
            void 0 === c && (c = !1);
            if ("ended" == b)
                this._onEndedCall = null;
            else
                for (var d = 0; d < this._listeners.length; d++) {
                    var e = this._listeners[d];
                    if (e.listener == a && e.useCapture == c && e.type == b) {
                        this._listeners.splice(d, 1);
                        this.bufferSource && this.bufferSource.removeEventListener(b, a, c);
                        break
                    }
                }
        };
        d._load =
                function () {
                    this._setArrayBuffer(this._arrayBuffer, null)
                };
        d._setArrayBuffer = function (b, a) {
            this._arrayBuffer = b;
            f.decodeArr.push({
                buffer: b,
                callback: a,
                self: this
            });
            f.decodeAudios()
        };
        d._preload = function (b, a, c) {
            void 0 === a && (a = null);
            void 0 === c && (c = null);
            e.callLater(a, c)
        };
        d._getVolume = function () {
            return this.gain.gain.value
        };
        d._setVolume = function (b) {
            this.gain.gain.value = b
        };
        d._setLoop = function (b) {
            this._loop = b
        };
        d._getCurrentTime = function () {
            return this.bufferSource ? (Date.now() - this._startTime) / 1E3 : 0
        };
        d._setCurrentTime =
                function (b) {
                    this._currentTime = b
                };
        d._destroy = function () {
        };
        f.canUseWebAudio = window.AudioContext || window.webkitAudioContext || window.mozAudioContext;
        f.ctx = f.canUseWebAudio ? new (window.AudioContext || window.webkitAudioContext || window.mozAudioContext) : void 0;
        f.decodeArr = [];
        f.isDecoding = !1;
        return f
    }();
    e.WebAudio = f;
    f.prototype.__class__ = "egret.WebAudio"
})(egret || (egret = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this.localVersionDataPath = "localVersion.manifest";
            this.localVersionData = null;
            this.changeVersionDataPath = "version.manifest";
            this.changeVersionData = null;
            this.baseVersionDataPath = "base.manifest";
            this.baseVersionData = null;
            this.localVersionCodePath = "localCode.manifest";
            this.serverVersionCodePath = "code.manifest";
            this._call = this._load = null
        }
        __extends(d, f);
        var b = d.prototype;
        b.fetchVersion = function () {
            this._load = new e.NativeResourceLoader;
            this._load.addEventListener(e.IOErrorEvent.IO_ERROR,
                    this.loadError, this);
            this._load.addEventListener(e.Event.COMPLETE, this.fileLoadComplete, this);
            this.initLocalVersionData()
        };
        b.initLocalVersionData = function () {
            var a = this.getData("appVersion.manifest", !0);
            if (a) {
                if (1 == a.debug) {
                    this.baseVersionData = null;
                    if (a = this.getData(this.localVersionDataPath, !1))
                        for (var c in a)
                            this.deleteFile(c);
                    this.deleteFile(this.localVersionDataPath);
                    this.deleteFile(this.localVersionCodePath);
                    this.loadOver();
                    return
                }
                var b = this.getData("appVersion.manifest", !1);
                if (null == b || b.version !=
                        a.version) {
                    this.localVersionData = this.getData(this.localVersionDataPath, !0);
                    null == this.localVersionData && (this.localVersionData = {});
                    this.deleteFile(this.localVersionCodePath);
                    this.save("appVersion.manifest", JSON.stringify(a));
                    if (a = this.getData(this.localVersionCodePath, !1))
                        for (c in a)
                            a[c] != this.localVersionData[c] && this.deleteFile(c);
                    else
                        a = {};
                    for (c in this.localVersionData)
                        a[c] != this.localVersionData[c] && this.deleteFile(c);
                    this.save(this.localVersionDataPath, JSON.stringify(this.localVersionData));
                    this.loadCodeVersion();
                    return
                }
            }
            this.localVersionData = this.getLocalData(this.localVersionDataPath);
            null == this.localVersionData && (this.localVersionData = this.getLocalData(this.baseVersionDataPath), null == this.localVersionData && (this.localVersionData = {}), this.save(this.localVersionDataPath, JSON.stringify(this.localVersionData)));
            this.loadCodeVersion()
        };
        b.deleteFile = function (a) {
            egret_native.deleteUpdateFile && egret_native.deleteUpdateFile(a)
        };
        b.loadCodeVersion = function () {
            var a = 1;
            this.newCode = 1;
            var c = this.getLocalData(this.localVersionCodePath);
            null != c && (a = c.code);
            c = this.getLocalData(this.serverVersionCodePath);
            null != c && (this.newCode = c.code);
            this.loadBaseVersion(a != this.newCode)
        };
        b.loadBaseVersion = function (a) {
            this.baseVersionData = this.getLocalData(this.baseVersionDataPath);
            this.changeVersionData = this.getLocalData(this.changeVersionDataPath);
            var c = this;
            null == c.baseVersionData || a ? c.loadFile(c.baseVersionDataPath, function () {
                c.baseVersionData = c.getLocalData(c.baseVersionDataPath);
                c.loadBaseOver()
            }) : c.loadBaseOver()
        };
        b.loadBaseOver = function () {
            this.save(this.localVersionCodePath,
                    JSON.stringify({
                        code: this.newCode
                    }));
            this.loadOver()
        };
        b.loadFile = function (a, c) {
            void 0 === c && (c = null);
            this._call = c;
            this._load.load(a, 1E3)
        };
        b.fileLoadComplete = function (a) {
            this._call && this._call()
        };
        b.loadError = function (a) {
            this._load.removeEventListener(e.IOErrorEvent.IO_ERROR, this.loadError, this);
            this._load.removeEventListener(e.Event.COMPLETE, this.fileLoadComplete, this);
            this.dispatchEvent(a)
        };
        b.loadOver = function () {
            this._load.removeEventListener(e.IOErrorEvent.IO_ERROR, this.loadError, this);
            this._load.removeEventListener(e.Event.COMPLETE,
                    this.fileLoadComplete, this);
            this.dispatchEvent(new e.Event(e.Event.COMPLETE))
        };
        b.save = function (a, c) {
            egret_native.writeFileSync ? egret_native.writeFileSync(a, c) : egret_native.saveRecord && egret_native.saveRecord(a, c)
        };
        b.getData = function (a, c) {
            if (egret_native.readUpdateFileSync && egret_native.readResourceFileSync) {
                var b = c ? egret_native.readResourceFileSync(a) : egret_native.readUpdateFileSync(a);
                return null != b ? JSON.parse(b) : null
            }
            return this.getLocalDataByOld(a)
        };
        b.getLocalData = function (a) {
            if (egret_native.readUpdateFileSync &&
                    egret_native.readResourceFileSync) {
                var c = egret_native.readUpdateFileSync(a);
                if (null != c)
                    return JSON.parse(c);
                c = egret_native.readResourceFileSync(a);
                return null != c ? JSON.parse(c) : null
            }
            return this.getLocalDataByOld(a)
        };
        b.getLocalDataByOld = function (a) {
            var c = null;
            egret_native.isRecordExists(a) ? (a = egret_native.loadRecord(a), c = JSON.parse(a)) : egret_native.isFileExists(a) && (a = egret_native.readFileSync(a), c = JSON.parse(a));
            return c
        };
        b.getChangeList = function () {
            if (!this.baseVersionData)
                return [];
            var a = {},
                    c;
            for (c in this.changeVersionData)
                1 ==
                        this.changeVersionData[c].d ? delete this.baseVersionData[c] : this.baseVersionData[c] = this.changeVersionData[c];
            for (c in this.baseVersionData)
                null != this.localVersionData[c] && this.compareVersion(this.localVersionData, this.baseVersionData, c) || (a[c] = {
                    url: c,
                    size: this.baseVersionData[c].s
                });
            var b = [];
            for (c in a)
                b.push(a[c]);
            return b
        };
        b.compareVersion = function (a, c, b) {
            return null == a[b] || null == c[b] ? !1 : a[b].v == c[b].v
        };
        b.checkIsNewVersion = function (a) {
            return this.baseVersionData ? null != this.changeVersionData[a] ?
                    this.compareVersion(this.changeVersionData, this.localVersionData, a) : null != this.baseVersionData[a] ? this.compareVersion(this.baseVersionData, this.localVersionData, a) : !0 : !0
        };
        b.saveVersion = function (a) {
            if (this.baseVersionData) {
                var c = !1;
                null != this.changeVersionData[a] ? this.compareVersion(this.changeVersionData, this.localVersionData, a) || (c = !0, this.localVersionData[a] = this.changeVersionData[a]) : null == this.baseVersionData[a] || this.compareVersion(this.baseVersionData, this.localVersionData, a) || (c = !0, this.localVersionData[a] =
                        this.baseVersionData[a]);
                c && this.save(this.localVersionDataPath, JSON.stringify(this.localVersionData))
            }
        };
        b.getVirtualUrl = function (a) {
            return a
        };
        return d
    }(e.EventDispatcher);
    e.NativeVersionController = f;
    f.prototype.__class__ = "egret.NativeVersionController"
})(egret || (egret = {}));
var RES;
(function (e) {
    var f = function (e) {
        function d(b, a, c) {
            void 0 === a && (a = !1);
            void 0 === c && (c = !1);
            e.call(this, b, a, c);
            this.itemsTotal = this.itemsLoaded = 0;
            this.groupName = "";
            this.resItem = null
        }
        __extends(d, e);
        d.dispatchResourceEvent = function (b, a, c, h, e, f) {
            void 0 === c && (c = "");
            void 0 === h && (h = null);
            void 0 === e && (e = 0);
            void 0 === f && (f = 0);
            var g = egret.Event._getPropertyData(d);
            g.groupName = c;
            g.resItem = h;
            g.itemsLoaded = e;
            g.itemsTotal = f;
            egret.Event._dispatchByTarget(d, b, a, g)
        };
        d.ITEM_LOAD_ERROR = "itemLoadError";
        d.CONFIG_COMPLETE =
                "configComplete";
        d.CONFIG_LOAD_ERROR = "configLoadError";
        d.GROUP_PROGRESS = "groupProgress";
        d.GROUP_COMPLETE = "groupComplete";
        d.GROUP_LOAD_ERROR = "groupLoadError";
        return d
    }(egret.Event);
    e.ResourceEvent = f;
    f.prototype.__class__ = "RES.ResourceEvent"
})(RES || (RES = {}));
(function (e) {
    var f = function () {
        function e(b, a, c) {
            this.groupName = "";
            this.data = null;
            this._loaded = !1;
            this.name = b;
            this.url = a;
            this.type = c
        }
        var d = e.prototype;
        Object.defineProperty(d, "loaded", {
            get: function () {
                return this.data ? this.data.loaded : this._loaded
            },
            set: function (b) {
                this.data && (this.data.loaded = b);
                this._loaded = b
            },
            enumerable: !0,
            configurable: !0
        });
        d.toString = function () {
            return '[ResourceItem name="' + this.name + '" url="' + this.url + '" type="' + this.type + '"]'
        };
        e.TYPE_XML = "xml";
        e.TYPE_IMAGE = "image";
        e.TYPE_BIN = "bin";
        e.TYPE_TEXT = "text";
        e.TYPE_JSON = "json";
        e.TYPE_SHEET = "sheet";
        e.TYPE_FONT = "font";
        e.TYPE_SOUND = "sound";
        return e
    }();
    e.ResourceItem = f;
    f.prototype.__class__ = "RES.ResourceItem"
})(RES || (RES = {}));
(function (e) {
    var f = function () {
        function f() {
            this.keyMap = {};
            this.groupDic = {};
            e.configInstance = this
        }
        var d = f.prototype;
        d.getGroupByName = function (b) {
            var a = [];
            if (!this.groupDic[b])
                return a;
            b = this.groupDic[b];
            for (var c = b.length, d = 0; d < c; d++)
                a.push(this.parseResourceItem(b[d]));
            return a
        };
        d.getRawGroupByName = function (b) {
            return this.groupDic[b] ? this.groupDic[b] : []
        };
        d.createGroup = function (b, a, c) {
            void 0 === c && (c = !1);
            if (!c && this.groupDic[b] || !a || 0 == a.length)
                return !1;
            c = this.groupDic;
            for (var d = [], e = a.length, f = 0; f <
                    e; f++) {
                var g = a[f],
                        r = c[g];
                if (r)
                    for (var g = r.length, l = 0; l < g; l++) {
                        var k = r[l];
                        -1 == d.indexOf(k) && d.push(k)
                    }
                else
                    (k = this.keyMap[g]) ? -1 == d.indexOf(k) && d.push(k) : egret.Logger.warningWithErrorId(2E3, g)
            }
            if (0 == d.length)
                return !1;
            this.groupDic[b] = d;
            return !0
        };
        d.parseConfig = function (b, a) {
            if (b) {
                var c = b.resources;
                if (c)
                    for (var d = c.length, e = 0; e < d; e++) {
                        var f = c[e],
                                g = f.url;
                        g && -1 == g.indexOf("://") && (f.url = a + g);
                        this.addItemToKeyMap(f)
                    }
                if (c = b.groups)
                    for (d = c.length, e = 0; e < d; e++) {
                        for (var g = c[e], r = [], l = g.keys.split(","), k = l.length,
                                m = 0; m < k; m++)
                            f = l[m].trim(), (f = this.keyMap[f]) && -1 == r.indexOf(f) && r.push(f);
                        this.groupDic[g.name] = r
                    }
            }
        };
        d.addSubkey = function (b, a) {
            var c = this.keyMap[a];
            c && !this.keyMap[b] && (this.keyMap[b] = c)
        };
        d.addItemToKeyMap = function (b) {
            this.keyMap[b.name] || (this.keyMap[b.name] = b);
            if (b.hasOwnProperty("subkeys")) {
                var a = b.subkeys.split(",");
                b.subkeys = a;
                for (var c = a.length, d = 0; d < c; d++) {
                    var e = a[d];
                    null == this.keyMap[e] && (this.keyMap[e] = b)
                }
            }
        };
        d.getName = function (b) {
            return (b = this.keyMap[b]) ? b.name : ""
        };
        d.getType = function (b) {
            return (b =
                    this.keyMap[b]) ? b.type : ""
        };
        d.getRawResourceItem = function (b) {
            return this.keyMap[b]
        };
        d.getResourceItem = function (b) {
            return (b = this.keyMap[b]) ? this.parseResourceItem(b) : null
        };
        d.parseResourceItem = function (b) {
            var a = new e.ResourceItem(b.name, b.url, b.type);
            a.data = b;
            return a
        };
        return f
    }();
    e.ResourceConfig = f;
    f.prototype.__class__ = "RES.ResourceConfig"
})(RES || (RES = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this.thread = 2;
            this.loadingCount = 0;
            this.resInstance = this.callBack = null;
            this.groupTotalDic = {};
            this.numLoadedDic = {};
            this.itemListDic = {};
            this.groupErrorDic = {};
            this.retryTimesDic = {};
            this.maxRetryTimes = 3;
            this.failedList = [];
            this.priorityQueue = {};
            this.lazyLoadList = [];
            this.analyzerDic = {};
            this.queueIndex = 0
        }
        __extends(d, f);
        var b = d.prototype;
        b.isGroupInLoading = function (a) {
            return void 0 !== this.itemListDic[a]
        };
        b.loadGroup = function (a, c, b) {
            void 0 === b && (b = 0);
            if (!this.itemListDic[c] && c)
                if (a && 0 != a.length) {
                    this.priorityQueue[b] ? this.priorityQueue[b].push(c) : this.priorityQueue[b] = [c];
                    this.itemListDic[c] = a;
                    b = a.length;
                    for (var d = 0; d < b; d++)
                        a[d].groupName = c;
                    this.groupTotalDic[c] = a.length;
                    this.numLoadedDic[c] = 0;
                    this.next()
                } else
                    egret.Logger.warningWithErrorId(2001, c), a = new e.ResourceEvent(e.ResourceEvent.GROUP_LOAD_ERROR), a.groupName = c, this.dispatchEvent(a)
        };
        b.loadItem = function (a) {
            this.lazyLoadList.push(a);
            a.groupName = "";
            this.next()
        };
        b.next = function () {
            for (; this.loadingCount <
                    this.thread; ) {
                var a = this.getOneResourceItem();
                if (!a)
                    break;
                this.loadingCount++;
                if (a.loaded)
                    this.onItemComplete(a);
                else {
                    var c = this.analyzerDic[a.type];
                    c || (c = this.analyzerDic[a.type] = egret.Injector.getInstance(e.AnalyzerBase, a.type));
                    c.loadFile(a, this.onItemComplete, this)
                }
            }
        };
        b.getOneResourceItem = function () {
            if (0 < this.failedList.length)
                return this.failedList.shift();
            var a = Number.NEGATIVE_INFINITY,
                    c;
            for (c in this.priorityQueue)
                a = Math.max(a, c);
            a = this.priorityQueue[a];
            if (!a || 0 == a.length)
                return 0 == this.lazyLoadList.length ?
                        null : this.lazyLoadList.pop();
            c = a.length;
            for (var b, d = 0; d < c; d++) {
                this.queueIndex >= c && (this.queueIndex = 0);
                b = this.itemListDic[a[this.queueIndex]];
                if (0 < b.length)
                    break;
                this.queueIndex++
            }
            return 0 == b.length ? null : b.shift()
        };
        b.onItemComplete = function (a) {
            this.loadingCount--;
            var c = a.groupName;
            if (!a.loaded) {
                var b = this.retryTimesDic[a.name] || 1;
                if (b > this.maxRetryTimes)
                    delete this.retryTimesDic[a.name], e.ResourceEvent.dispatchResourceEvent(this.resInstance, e.ResourceEvent.ITEM_LOAD_ERROR, c, a);
                else {
                    this.retryTimesDic[a.name] =
                            b + 1;
                    this.failedList.push(a);
                    this.next();
                    return
                }
            }
            if (c) {
                this.numLoadedDic[c]++;
                var b = this.numLoadedDic[c],
                        d = this.groupTotalDic[c];
                a.loaded || (this.groupErrorDic[c] = !0);
                e.ResourceEvent.dispatchResourceEvent(this.resInstance, e.ResourceEvent.GROUP_PROGRESS, c, a, b, d);
                b == d && (a = this.groupErrorDic[c], this.removeGroupName(c), delete this.groupTotalDic[c], delete this.numLoadedDic[c], delete this.itemListDic[c], delete this.groupErrorDic[c], a ? e.ResourceEvent.dispatchResourceEvent(this, e.ResourceEvent.GROUP_LOAD_ERROR,
                        c) : e.ResourceEvent.dispatchResourceEvent(this, e.ResourceEvent.GROUP_COMPLETE, c))
            } else
                this.callBack.call(this.resInstance, a);
            this.next()
        };
        b.removeGroupName = function (a) {
            for (var c in this.priorityQueue) {
                for (var b = this.priorityQueue[c], d = b.length, e = 0, f = !1, d = b.length, g = 0; g < d; g++) {
                    if (b[g] == a) {
                        b.splice(e, 1);
                        f = !0;
                        break
                    }
                    e++
                }
                if (f) {
                    0 == b.length && delete this.priorityQueue[c];
                    break
                }
            }
        };
        return d
    }(egret.EventDispatcher);
    e.ResourceLoader = f;
    f.prototype.__class__ = "RES.ResourceLoader"
})(RES || (RES = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this.resourceConfig = null;
            this.resourceConfig = e.configInstance
        }
        __extends(d, f);
        var b = d.prototype;
        b.addSubkey = function (a, c) {
            this.resourceConfig.addSubkey(a, c)
        };
        b.loadFile = function (a, c, b) {
        };
        b.getRes = function (a) {
        };
        b.destroyRes = function (a) {
            return !1
        };
        d.getStringPrefix = function (a) {
            if (!a)
                return "";
            var c = a.indexOf(".");
            return -1 != c ? a.substring(0, c) : ""
        };
        d.getStringTail = function (a) {
            if (!a)
                return "";
            var c = a.indexOf(".");
            return -1 != c ? a.substring(c + 1) : ""
        };
        return d
    }(egret.HashObject);
    e.AnalyzerBase = f;
    f.prototype.__class__ = "RES.AnalyzerBase"
})(RES || (RES = {}));
(function (e) {
    var f = function (e) {
        function d() {
            e.call(this);
            this.fileDic = {};
            this.resItemDic = [];
            this._dataFormat = egret.URLLoaderDataFormat.BINARY;
            this.recycler = new egret.Recycler
        }
        __extends(d, e);
        var b = d.prototype;
        b.loadFile = function (a, c, b) {
            if (this.fileDic[a.name])
                c.call(b, a);
            else {
                var d = this.getLoader();
                this.resItemDic[d.hashCode] = {
                    item: a,
                    func: c,
                    thisObject: b
                };
                d.load(new egret.URLRequest(a.url))
            }
        };
        b.getLoader = function () {
            var a = this.recycler.pop();
            a || (a = new egret.URLLoader, a.addEventListener(egret.Event.COMPLETE,
                    this.onLoadFinish, this), a.addEventListener(egret.IOErrorEvent.IO_ERROR, this.onLoadFinish, this));
            a.dataFormat = this._dataFormat;
            return a
        };
        b.onLoadFinish = function (a) {
            var c = a.target,
                    b = this.resItemDic[c.hashCode];
            delete this.resItemDic[c.hashCode];
            var d = b.item,
                    e = b.func;
            d.loaded = a.type == egret.Event.COMPLETE;
            d.loaded && this.analyzeData(d, c.data);
            this.recycler.push(c);
            e.call(b.thisObject, d)
        };
        b.analyzeData = function (a, c) {
            var b = a.name;
            !this.fileDic[b] && c && (this.fileDic[b] = c)
        };
        b.getRes = function (a) {
            return this.fileDic[a]
        };
        b.hasRes = function (a) {
            return null != this.getRes(a)
        };
        b.destroyRes = function (a) {
            return this.fileDic[a] ? (this.onResourceDestroy(this.fileDic[a]), delete this.fileDic[a], !0) : !1
        };
        b.onResourceDestroy = function (a) {
        };
        return d
    }(e.AnalyzerBase);
    e.BinAnalyzer = f;
    f.prototype.__class__ = "RES.BinAnalyzer"
})(RES || (RES = {}));
(function (e) {
    var f = function (e) {
        function d() {
            e.call(this);
            this._dataFormat = egret.URLLoaderDataFormat.TEXTURE
        }
        __extends(d, e);
        var b = d.prototype;
        b.analyzeData = function (a, c) {
            var b = a.name;
            !this.fileDic[b] && c && (this.fileDic[b] = c, (b = a.data) && b.scale9grid && (b = b.scale9grid.split(","), c.scale9Grid = new egret.Rectangle(parseInt(b[0]), parseInt(b[1]), parseInt(b[2]), parseInt(b[3]))))
        };
        b.onResourceDestroy = function (a) {
            a.dispose()
        };
        return d
    }(e.BinAnalyzer);
    e.ImageAnalyzer = f;
    f.prototype.__class__ = "RES.ImageAnalyzer"
})(RES ||
        (RES = {}));
(function (e) {
    var f = function (e) {
        function d() {
            e.call(this);
            this._dataFormat = egret.URLLoaderDataFormat.TEXT
        }
        __extends(d, e);
        d.prototype.analyzeData = function (b, a) {
            var c = b.name;
            if (!this.fileDic[c] && a)
                try {
                    this.fileDic[c] = JSON.parse(a)
                } catch (d) {
                    egret.Logger.warningWithErrorId(1017, b.url, a)
                }
        };
        return d
    }(e.BinAnalyzer);
    e.JsonAnalyzer = f;
    f.prototype.__class__ = "RES.JsonAnalyzer"
})(RES || (RES = {}));
(function (e) {
    var f = function (e) {
        function d() {
            e.call(this);
            this._dataFormat = egret.URLLoaderDataFormat.TEXT
        }
        __extends(d, e);
        return d
    }(e.BinAnalyzer);
    e.TextAnalyzer = f;
    f.prototype.__class__ = "RES.TextAnalyzer"
})(RES || (RES = {}));
(function (e) {
    var f = function (f) {
        function d() {
            f.call(this);
            this.sheetMap = {};
            this.textureMap = {};
            this._dataFormat = egret.URLLoaderDataFormat.TEXT
        }
        __extends(d, f);
        var b = d.prototype;
        b.getRes = function (a) {
            var c = this.fileDic[a];
            c || (c = this.textureMap[a]);
            !c && (c = e.AnalyzerBase.getStringPrefix(a), c = this.fileDic[c]) && (a = e.AnalyzerBase.getStringTail(a), c = c.getTexture(a));
            return c
        };
        b.onLoadFinish = function (a) {
            var c = a.target,
                    b = this.resItemDic[c.hashCode];
            delete this.resItemDic[c.hashCode];
            var d = b.item,
                    e = b.func;
            d.loaded =
                    a.type == egret.Event.COMPLETE;
            if (d.loaded)
                if ("string" == typeof c.data) {
                    if (d.loaded = !1, a = this.analyzeConfig(d, c.data)) {
                        c = d.url;
                        d.url = a;
                        this._dataFormat = egret.URLLoaderDataFormat.TEXTURE;
                        this.loadFile(d, e, b.thisObject);
                        this._dataFormat = egret.URLLoaderDataFormat.TEXT;
                        d.url = c;
                        return
                    }
                } else
                    this.analyzeBitmap(d, c.data);
            this.recycler.push(c);
            e.call(b.thisObject, d)
        };
        b.analyzeConfig = function (a, c) {
            var b = a.name,
                    d, e = "";
            try {
                d = JSON.parse(c)
            } catch (f) {
                egret.Logger.warningWithErrorId(1017, a.url, c)
            }
            d && (this.sheetMap[b] =
                    d, e = this.getRelativePath(a.url, d.file));
            return e
        };
        b.analyzeBitmap = function (a, c) {
            var b = a.name;
            if (!this.fileDic[b] && c) {
                var d = this.sheetMap[b];
                delete this.sheetMap[b];
                d = this.parseSpriteSheet(c, d, a.data && a.data.subkeys ? "" : b);
                this.fileDic[b] = d
            }
        };
        b.getRelativePath = function (a, c) {
            a = a.split("\\").join("/");
            var b = a.lastIndexOf("/");
            return a = -1 != b ? a.substring(0, b + 1) + c : c
        };
        b.parseSpriteSheet = function (a, c, b) {
            c = c.frames;
            if (!c)
                return null;
            var d = new egret.SpriteSheet(a),
                    e = this.textureMap,
                    f;
            for (f in c) {
                var g = c[f];
                a = d.createTexture(f, g.x, g.y, g.w, g.h, g.offX, g.offY, g.sourceW, g.sourceH);
                g.scale9grid && (g = g.scale9grid.split(","), a.scale9Grid = new egret.Rectangle(parseInt(g[0]), parseInt(g[1]), parseInt(g[2]), parseInt(g[3])));
                null == e[f] && (e[f] = a, b && this.addSubkey(f, b))
            }
            return d
        };
        b.destroyRes = function (a) {
            var c = this.fileDic[a];
            if (c) {
                delete this.fileDic[a];
                for (var b in c._textureMap)
                    this.textureMap[b] && delete this.textureMap[b];
                this.onResourceDestroy(c);
                return !0
            }
            return !1
        };
        b.onResourceDestroy = function (a) {
            a.dispose()
        };
        return d
    }(e.BinAnalyzer);
    e.SheetAnalyzer = f;
    f.prototype.__class__ = "RES.SheetAnalyzer"
})(RES || (RES = {}));
(function (e) {
    var f = function (e) {
        function d() {
            e.call(this)
        }
        __extends(d, e);
        var b = d.prototype;
        b.analyzeConfig = function (a, c) {
            var b = a.name,
                    d, e = "";
            try {
                d = JSON.parse(c)
            } catch (f) {
            }
            d ? e = this.getRelativePath(a.url, d.file) : (d = c, e = this.getTexturePath(a.url, d));
            this.sheetMap[b] = d;
            return e
        };
        b.analyzeBitmap = function (a, c) {
            var b = a.name;
            if (!this.fileDic[b] && c) {
                var d = this.sheetMap[b];
                delete this.sheetMap[b];
                d = new egret.BitmapFont(c, d);
                this.fileDic[b] = d
            }
        };
        b.getTexturePath = function (a, c) {
            var b = "",
                    d = c.split("\n")[2],
                    e = d.indexOf('file="');
            -1 != e && (d = d.substring(e + 6), e = d.indexOf('"'), b = d.substring(0, e));
            a = a.split("\\").join("/");
            e = a.lastIndexOf("/");
            return a = -1 != e ? a.substring(0, e + 1) + b : b
        };
        b.onResourceDestroy = function (a) {
            a.dispose()
        };
        return d
    }(e.SheetAnalyzer);
    e.FontAnalyzer = f;
    f.prototype.__class__ = "RES.FontAnalyzer"
})(RES || (RES = {}));
(function (e) {
    var f = function (e) {
        function d() {
            e.call(this);
            this._dataFormat = egret.URLLoaderDataFormat.SOUND
        }
        __extends(d, e);
        d.prototype.analyzeData = function (b, a) {
            var c = b.name;
            !this.fileDic[c] && a && (this.fileDic[c] = a, (c = b.data) && c.soundType ? a.preload(c.soundType) : a.preload(egret.Sound.EFFECT))
        };
        return d
    }(e.BinAnalyzer);
    e.SoundAnalyzer = f;
    f.prototype.__class__ = "RES.SoundAnalyzer"
})(RES || (RES = {}));
(function (e) {
    var f = function (e) {
        function d() {
            e.call(this);
            this._dataFormat = egret.URLLoaderDataFormat.TEXT
        }
        __extends(d, e);
        d.prototype.analyzeData = function (b, a) {
            var c = b.name;
            if (!this.fileDic[c] && a)
                try {
                    var d = egret.XML.parse(a);
                    this.fileDic[c] = d
                } catch (e) {
                }
        };
        return d
    }(e.BinAnalyzer);
    e.XMLAnalyzer = f;
    f.prototype.__class__ = "RES.XMLAnalyzer"
})(RES || (RES = {}));
(function (e) {
    e.loadConfig = function (d, b, a) {
        void 0 === b && (b = "");
        void 0 === a && (a = "json");
        g.loadConfig(d, b, a)
    };
    e.loadGroup = function (d, b) {
        void 0 === b && (b = 0);
        g.loadGroup(d, b)
    };
    e.isGroupLoaded = function (d) {
        return g.isGroupLoaded(d)
    };
    e.getGroupByName = function (d) {
        return g.getGroupByName(d)
    };
    e.createGroup = function (d, b, a) {
        void 0 === a && (a = !1);
        return g.createGroup(d, b, a)
    };
    e.hasRes = function (d) {
        return g.hasRes(d)
    };
    e.parseConfig = function (d, b) {
        void 0 === b && (b = "");
        g.parseConfig(d, b)
    };
    e.getRes = function (d) {
        return g.getRes(d)
    };
    e.getResAsync = function (d, b, a) {
        g.getResAsync(d, b, a)
    };
    e.getResByUrl = function (d, b, a, c) {
        void 0 === c && (c = "");
        g.getResByUrl(d, b, a, c)
    };
    e.destroyRes = function (d, b) {
        return g.destroyRes(d, b)
    };
    e.setMaxLoadingThread = function (d) {
        g.setMaxLoadingThread(d)
    };
    e.setMaxRetryTimes = function (d) {
        g.setMaxRetryTimes(d)
    };
    e.addEventListener = function (d, b, a, c, e) {
        void 0 === c && (c = !1);
        void 0 === e && (e = 0);
        g.addEventListener(d, b, a, c, e)
    };
    e.removeEventListener = function (d, b, a, c) {
        void 0 === c && (c = !1);
        g.removeEventListener(d, b, a, c)
    };
    var f = function (d) {
        function b() {
            d.call(this);
            this.analyzerDic = {};
            this.configItemList = [];
            this.configComplete = this.callLaterFlag = !1;
            this.loadedGroups = [];
            this.groupNameList = [];
            this.asyncDic = {};
            this.init()
        }
        __extends(b, d);
        var a = b.prototype;
        a.getAnalyzerByType = function (c) {
            var a = this.analyzerDic[c];
            a || (a = this.analyzerDic[c] = egret.Injector.getInstance(e.AnalyzerBase, c));
            return a
        };
        a.init = function () {
            egret.Injector.hasMapRule(e.AnalyzerBase, e.ResourceItem.TYPE_BIN) || egret.Injector.mapClass(e.AnalyzerBase, e.BinAnalyzer, e.ResourceItem.TYPE_BIN);
            egret.Injector.hasMapRule(e.AnalyzerBase,
                    e.ResourceItem.TYPE_IMAGE) || egret.Injector.mapClass(e.AnalyzerBase, e.ImageAnalyzer, e.ResourceItem.TYPE_IMAGE);
            egret.Injector.hasMapRule(e.AnalyzerBase, e.ResourceItem.TYPE_TEXT) || egret.Injector.mapClass(e.AnalyzerBase, e.TextAnalyzer, e.ResourceItem.TYPE_TEXT);
            egret.Injector.hasMapRule(e.AnalyzerBase, e.ResourceItem.TYPE_JSON) || egret.Injector.mapClass(e.AnalyzerBase, e.JsonAnalyzer, e.ResourceItem.TYPE_JSON);
            egret.Injector.hasMapRule(e.AnalyzerBase, e.ResourceItem.TYPE_SHEET) || egret.Injector.mapClass(e.AnalyzerBase,
                    e.SheetAnalyzer, e.ResourceItem.TYPE_SHEET);
            egret.Injector.hasMapRule(e.AnalyzerBase, e.ResourceItem.TYPE_FONT) || egret.Injector.mapClass(e.AnalyzerBase, e.FontAnalyzer, e.ResourceItem.TYPE_FONT);
            egret.Injector.hasMapRule(e.AnalyzerBase, e.ResourceItem.TYPE_SOUND) || egret.Injector.mapClass(e.AnalyzerBase, e.SoundAnalyzer, e.ResourceItem.TYPE_SOUND);
            egret.Injector.hasMapRule(e.AnalyzerBase, e.ResourceItem.TYPE_XML) || egret.Injector.mapClass(e.AnalyzerBase, e.XMLAnalyzer, e.ResourceItem.TYPE_XML);
            this.resConfig =
                    new e.ResourceConfig;
            this.resLoader = new e.ResourceLoader;
            this.resLoader.callBack = this.onResourceItemComp;
            this.resLoader.resInstance = this;
            this.resLoader.addEventListener(e.ResourceEvent.GROUP_COMPLETE, this.onGroupComp, this);
            this.resLoader.addEventListener(e.ResourceEvent.GROUP_LOAD_ERROR, this.onGroupError, this)
        };
        a.loadConfig = function (c, a, b) {
            void 0 === b && (b = "json");
            this.configItemList.push({
                url: c,
                resourceRoot: a,
                type: b
            });
            this.callLaterFlag || (egret.callLater(this.startLoadConfig, this), this.callLaterFlag = !0)
        };
        a.startLoadConfig = function () {
            this.callLaterFlag = !1;
            var c = this.configItemList;
            this.configItemList = [];
            this.loadingConfigList = c;
            for (var a = c.length, d = [], f = 0; f < a; f++) {
                var g = c[f],
                        g = new e.ResourceItem(g.url, g.url, g.type);
                d.push(g)
            }
            this.resLoader.loadGroup(d, b.GROUP_CONFIG, Number.MAX_VALUE)
        };
        a.isGroupLoaded = function (c) {
            return -1 != this.loadedGroups.indexOf(c)
        };
        a.getGroupByName = function (c) {
            return this.resConfig.getGroupByName(c)
        };
        a.loadGroup = function (c, a) {
            void 0 === a && (a = 0);
            if (-1 != this.loadedGroups.indexOf(c))
                e.ResourceEvent.dispatchResourceEvent(this,
                        e.ResourceEvent.GROUP_COMPLETE, c);
            else if (!this.resLoader.isGroupInLoading(c))
                if (this.configComplete) {
                    var b = this.resConfig.getGroupByName(c);
                    this.resLoader.loadGroup(b, c, a)
                } else
                    this.groupNameList.push({
                        name: c,
                        priority: a
                    })
        };
        a.createGroup = function (c, a, b) {
            void 0 === b && (b = !1);
            if (b) {
                var d = this.loadedGroups.indexOf(c);
                -1 != d && this.loadedGroups.splice(d, 1)
            }
            return this.resConfig.createGroup(c, a, b)
        };
        a.onGroupComp = function (c) {
            if (c.groupName == b.GROUP_CONFIG) {
                c = this.loadingConfigList.length;
                for (var a = 0; a < c; a++) {
                    var d =
                            this.loadingConfigList[a],
                            f = this.getAnalyzerByType(d.type),
                            g = f.getRes(d.url);
                    f.destroyRes(d.url);
                    this.resConfig.parseConfig(g, d.resourceRoot)
                }
                this.configComplete = !0;
                this.loadingConfigList = null;
                e.ResourceEvent.dispatchResourceEvent(this, e.ResourceEvent.CONFIG_COMPLETE);
                this.loadDelayGroups()
            } else
                this.loadedGroups.push(c.groupName), this.dispatchEvent(c)
        };
        a.loadDelayGroups = function () {
            var c = this.groupNameList;
            this.groupNameList = [];
            for (var a = c.length, b = 0; b < a; b++) {
                var d = c[b];
                this.loadGroup(d.name, d.priority)
            }
        };
        a.onGroupError = function (c) {
            c.groupName == b.GROUP_CONFIG ? (this.loadingConfigList = null, e.ResourceEvent.dispatchResourceEvent(this, e.ResourceEvent.CONFIG_LOAD_ERROR)) : this.dispatchEvent(c)
        };
        a.hasRes = function (c) {
            var a = this.resConfig.getType(c);
            return "" == a && (c = e.AnalyzerBase.getStringPrefix(c), a = this.resConfig.getType(c), "" == a) ? !1 : !0
        };
        a.parseConfig = function (c, a) {
            this.resConfig.parseConfig(c, a);
            this.configComplete || this.loadingConfigList || (this.configComplete = !0, this.loadDelayGroups())
        };
        a.getRes = function (c) {
            var a =
                    this.resConfig.getType(c);
            return "" == a && (a = e.AnalyzerBase.getStringPrefix(c), a = this.resConfig.getType(a), "" == a) ? null : this.getAnalyzerByType(a).getRes(c)
        };
        a.getResAsync = function (c, a, b) {
            var d = this.resConfig.getType(c),
                    f = this.resConfig.getName(c);
            if ("" == d && (f = e.AnalyzerBase.getStringPrefix(c), d = this.resConfig.getType(f), "" == d)) {
                a.call(b, null);
                return
            }
            (d = this.getAnalyzerByType(d).getRes(c)) ? a.call(b, d) : (c = {
                key: c,
                compFunc: a,
                thisObject: b
            }, this.asyncDic[f] ? this.asyncDic[f].push(c) : (this.asyncDic[f] = [c], f =
                    this.resConfig.getResourceItem(f), this.resLoader.loadItem(f)))
        };
        a.getResByUrl = function (c, a, b, d) {
            void 0 === d && (d = "");
            if (c) {
                d || (d = this.getTypeByUrl(c));
                var f = this.getAnalyzerByType(d).getRes(c);
                f ? a.call(b, f) : (a = {
                    key: c,
                    compFunc: a,
                    thisObject: b
                }, this.asyncDic[c] ? this.asyncDic[c].push(a) : (this.asyncDic[c] = [a], c = new e.ResourceItem(c, c, d), this.resLoader.loadItem(c)))
            } else
                a.call(b, null)
        };
        a.getTypeByUrl = function (c) {
            (c = c.substr(c.lastIndexOf(".") + 1)) && (c = c.toLowerCase());
            switch (c) {
                case e.ResourceItem.TYPE_XML:
                case e.ResourceItem.TYPE_JSON:
                case e.ResourceItem.TYPE_SHEET:
                    break;
                case "png":
                case "jpg":
                case "gif":
                case "jpeg":
                case "bmp":
                    c = e.ResourceItem.TYPE_IMAGE;
                    break;
                case "fnt":
                    c = e.ResourceItem.TYPE_FONT;
                    break;
                case "txt":
                    c = e.ResourceItem.TYPE_TEXT;
                    break;
                case "mp3":
                case "ogg":
                case "mpeg":
                case "wav":
                case "m4a":
                case "mp4":
                case "aiff":
                case "wma":
                case "mid":
                    c = e.ResourceItem.TYPE_SOUND;
                    break;
                default:
                    c = e.ResourceItem.TYPE_BIN
            }
            return c
        };
        a.onResourceItemComp = function (c) {
            var a = this.asyncDic[c.name];
            delete this.asyncDic[c.name];
            c = this.getAnalyzerByType(c.type);
            for (var b = a.length, d =
                    0; d < b; d++) {
                var e = a[d],
                        f = c.getRes(e.key);
                e.compFunc.call(e.thisObject, f, e.key)
            }
        };
        a.destroyRes = function (c, a) {
            void 0 === a && (a = !0);
            var b = this.resConfig.getRawGroupByName(c);
            if (b && 0 < b.length) {
                var d = this.loadedGroups.indexOf(c);
                -1 != d && this.loadedGroups.splice(d, 1);
                for (var e = b.length, f = 0; f < e; f++)
                    if (d = b[f], a || !this.isResInLoadedGroup(d.name)) {
                        d.loaded = !1;
                        var g = this.getAnalyzerByType(d.type);
                        g.destroyRes(d.name);
                        this.removeLoadedGroupsByItemName(d.name)
                    }
                return !0
            }
            b = this.resConfig.getType(c);
            if ("" == b)
                return !1;
            d = this.resConfig.getRawResourceItem(c);
            d.loaded = !1;
            g = this.getAnalyzerByType(b);
            b = g.destroyRes(c);
            this.removeLoadedGroupsByItemName(d.name);
            return b
        };
        a.removeLoadedGroupsByItemName = function (c) {
            for (var a = this.loadedGroups, b = a.length, d = 0; d < b; d++)
                for (var e = this.resConfig.getRawGroupByName(a[d]), f = e.length, g = 0; g < f; g++)
                    if (e[g].name == c) {
                        a.splice(d, 1);
                        d--;
                        b = a.length;
                        break
                    }
        };
        a.isResInLoadedGroup = function (c) {
            for (var a = this.loadedGroups, b = a.length, d = 0; d < b; d++)
                for (var e = this.resConfig.getRawGroupByName(a[d]),
                        f = e.length, g = 0; g < f; g++)
                    if (e[g].name == c)
                        return !0;
            return !1
        };
        a.setMaxLoadingThread = function (c) {
            1 > c && (c = 1);
            this.resLoader.thread = c
        };
        a.setMaxRetryTimes = function (c) {
            c = Math.max(c, 0);
            this.resLoader.maxRetryTimes = c
        };
        b.GROUP_CONFIG = "RES__CONFIG";
        return b
    }(egret.EventDispatcher);
    f.prototype.__class__ = "RES.Resource";
    var g = new f
})(RES || (RES = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(c) {
                void 0 === c && (c = null);
                d.call(this);
                this._source = c ? c : []
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "source", {
                get: function () {
                    return this._source
                },
                set: function (c) {
                    c || (c = []);
                    this._source = c;
                    this.dispatchCoEvent(f.CollectionEventKind.RESET)
                },
                enumerable: !0,
                configurable: !0
            });
            a.refresh = function () {
                this.dispatchCoEvent(f.CollectionEventKind.REFRESH)
            };
            a.contains = function (c) {
                return -1 != this.getItemIndex(c)
            };
            a.checkIndex = function (c) {
                if (0 > c ||
                        c >= this._source.length)
                    throw new RangeError(e.getString(3002, c));
            };
            Object.defineProperty(a, "length", {
                get: function () {
                    return this._source.length
                },
                enumerable: !0,
                configurable: !0
            });
            a.addItem = function (c) {
                this._source.push(c);
                this.dispatchCoEvent(f.CollectionEventKind.ADD, this._source.length - 1, -1, [c])
            };
            a.addItemAt = function (c, a) {
                if (0 > a || a > this._source.length)
                    throw new RangeError(e.getString(3002, a));
                this._source.splice(a, 0, c);
                this.dispatchCoEvent(f.CollectionEventKind.ADD, a, -1, [c])
            };
            a.getItemAt = function (c) {
                return this._source[c]
            };
            a.getItemIndex = function (c) {
                for (var a = this._source.length, b = 0; b < a; b++)
                    if (this._source[b] === c)
                        return b;
                return -1
            };
            a.itemUpdated = function (c) {
                var a = this.getItemIndex(c);
                -1 != a && this.dispatchCoEvent(f.CollectionEventKind.UPDATE, a, -1, [c])
            };
            a.removeAll = function () {
                var c = this._source.concat();
                this._source.length = 0;
                this.dispatchCoEvent(f.CollectionEventKind.REMOVE, 0, -1, c)
            };
            a.removeItemAt = function (c) {
                this.checkIndex(c);
                var a = this._source.splice(c, 1)[0];
                this.dispatchCoEvent(f.CollectionEventKind.REMOVE, c, -1, [a]);
                return a
            };
            a.replaceItemAt = function (c, a) {
                this.checkIndex(a);
                var b = this._source.splice(a, 1, c)[0];
                this.dispatchCoEvent(f.CollectionEventKind.REPLACE, a, -1, [c], [b]);
                return b
            };
            a.replaceAll = function (c) {
                c || (c = []);
                for (var a = c.length, b = this._source.length, d = a; d < b; d++)
                    this.removeItemAt(a);
                for (d = 0; d < a; d++)
                    d >= b ? this.addItemAt(c[d], d) : this.replaceItemAt(c[d], d);
                this._source = c
            };
            a.moveItemAt = function (c, a) {
                this.checkIndex(c);
                this.checkIndex(a);
                var b = this._source.splice(c, 1)[0];
                this._source.splice(a, 0, b);
                this.dispatchCoEvent(f.CollectionEventKind.MOVE,
                        a, c, [b]);
                return b
            };
            a.dispatchCoEvent = function (c, a, b, d, e) {
                void 0 === c && (c = null);
                void 0 === a && (a = -1);
                void 0 === b && (b = -1);
                void 0 === d && (d = null);
                void 0 === e && (e = null);
                f.CollectionEvent.dispatchCollectionEvent(this, f.CollectionEvent.COLLECTION_CHANGE, c, a, b, d, e)
            };
            return b
        }(e.EventDispatcher);
        f.ArrayCollection = g;
        g.prototype.__class__ = "egret.gui.ArrayCollection"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.targetLevel = Number.MAX_VALUE;
                this.updateCompleteQueue = new f.DepthQueue;
                this.invalidateClientPropertiesFlag = this.invalidatePropertiesFlag = !1;
                this.invalidatePropertiesQueue = new f.DepthQueue;
                this.invalidateClientSizeFlag = this.invalidateSizeFlag = !1;
                this.invalidateSizeQueue = new f.DepthQueue;
                this.invalidateDisplayListFlag = !1;
                this.invalidateDisplayListQueue = new f.DepthQueue;
                this.listenersAttached = !1
            }
            __extends(b, d);
            var a = b.prototype;
            a.invalidateProperties = function (c) {
                this.invalidatePropertiesFlag || (this.invalidatePropertiesFlag = !0, this.listenersAttached || this.attachListeners());
                this.targetLevel <= c.nestLevel && (this.invalidateClientPropertiesFlag = !0);
                this.invalidatePropertiesQueue.insert(c)
            };
            a.validateProperties = function () {
                for (var c = this.invalidatePropertiesQueue.shift(); c; )
                    c.parent && (c.validateProperties(), c.updateCompletePendingFlag || (this.updateCompleteQueue.insert(c), c.updateCompletePendingFlag = !0)), c = this.invalidatePropertiesQueue.shift();
                this.invalidatePropertiesQueue.isEmpty() && (this.invalidatePropertiesFlag = !1)
            };
            a.invalidateSize = function (c) {
                this.invalidateSizeFlag || (this.invalidateSizeFlag = !0, this.listenersAttached || this.attachListeners());
                this.targetLevel <= c.nestLevel && (this.invalidateClientSizeFlag = !0);
                this.invalidateSizeQueue.insert(c)
            };
            a.validateSize = function () {
                for (var c = this.invalidateSizeQueue.pop(); c; )
                    c.parent && (c.validateSize(), c.updateCompletePendingFlag || (this.updateCompleteQueue.insert(c), c.updateCompletePendingFlag = !0)), c = this.invalidateSizeQueue.pop();
                this.invalidateSizeQueue.isEmpty() && (this.invalidateSizeFlag = !1)
            };
            a.invalidateDisplayList = function (c) {
                this.invalidateDisplayListFlag || (this.invalidateDisplayListFlag = !0, this.listenersAttached || this.attachListeners());
                this.invalidateDisplayListQueue.insert(c)
            };
            a.validateDisplayList = function () {
                for (var c = this.invalidateDisplayListQueue.shift(); c; )
                    c.parent && (c.validateDisplayList(), c.updateCompletePendingFlag || (this.updateCompleteQueue.insert(c), c.updateCompletePendingFlag = !0)), c = this.invalidateDisplayListQueue.shift();
                this.invalidateDisplayListQueue.isEmpty() && (this.invalidateDisplayListFlag = !1)
            };
            a.attachListeners = function () {
                f.UIGlobals.stage.addEventListener(e.Event.ENTER_FRAME, this.doPhasedInstantiationCallBack, this);
                f.UIGlobals.stage.addEventListener(e.Event.RENDER, this.doPhasedInstantiationCallBack, this);
                f.UIGlobals.stage.invalidate();
                this.listenersAttached = !0
            };
            a.doPhasedInstantiationCallBack = function (c) {
                f.UIGlobals.stage.removeEventListener(e.Event.ENTER_FRAME,
                        this.doPhasedInstantiationCallBack, this);
                f.UIGlobals.stage.removeEventListener(e.Event.RENDER, this.doPhasedInstantiationCallBack, this);
                this.doPhasedInstantiation()
            };
            a.doPhasedInstantiation = function () {
                this.invalidatePropertiesFlag && this.validateProperties();
                this.invalidateSizeFlag && this.validateSize();
                this.invalidateDisplayListFlag && this.validateDisplayList();
                if (this.invalidatePropertiesFlag || this.invalidateSizeFlag || this.invalidateDisplayListFlag)
                    this.attachListeners();
                else {
                    this.listenersAttached = !1;
                    for (var c = this.updateCompleteQueue.pop(); c; )
                        c.initialized || (c.initialized = !0), c.hasEventListener(f.UIEvent.UPDATE_COMPLETE) && f.UIEvent.dispatchUIEvent(c, f.UIEvent.UPDATE_COMPLETE), c.updateCompletePendingFlag = !1, c = this.updateCompleteQueue.pop();
                    f.UIEvent.dispatchUIEvent(this, f.UIEvent.UPDATE_COMPLETE)
                }
            };
            a.validateNow = function () {
                for (var c = 0; this.listenersAttached && 100 > c++; )
                    this.doPhasedInstantiationCallBack()
            };
            a.validateClient = function (c, a) {
                void 0 === a && (a = !1);
                var b, d = !1,
                        e = this.targetLevel;
                this.targetLevel ==
                        Number.MAX_VALUE && (this.targetLevel = c.nestLevel);
                for (; !d; ) {
                    d = !0;
                    for (b = this.invalidatePropertiesQueue.removeSmallestChild(c); b; )
                        b.parent && (b.validateProperties(), b.updateCompletePendingFlag || (this.updateCompleteQueue.insert(b), b.updateCompletePendingFlag = !0)), b = this.invalidatePropertiesQueue.removeSmallestChild(c);
                    this.invalidatePropertiesQueue.isEmpty() && (this.invalidatePropertiesFlag = !1);
                    this.invalidateClientPropertiesFlag = !1;
                    for (b = this.invalidateSizeQueue.removeLargestChild(c); b; ) {
                        b.parent && (b.validateSize(),
                                b.updateCompletePendingFlag || (this.updateCompleteQueue.insert(b), b.updateCompletePendingFlag = !0));
                        if (this.invalidateClientPropertiesFlag && (b = this.invalidatePropertiesQueue.removeSmallestChild(c))) {
                            this.invalidatePropertiesQueue.insert(b);
                            d = !1;
                            break
                        }
                        b = this.invalidateSizeQueue.removeLargestChild(c)
                    }
                    this.invalidateSizeQueue.isEmpty() && (this.invalidateSizeFlag = !1);
                    this.invalidateClientSizeFlag = this.invalidateClientPropertiesFlag = !1;
                    if (!a) {
                        for (b = this.invalidateDisplayListQueue.removeSmallestChild(c); b; ) {
                            b.parent &&
                                    (b.validateDisplayList(), b.updateCompletePendingFlag || (this.updateCompleteQueue.insert(b), b.updateCompletePendingFlag = !0));
                            if (this.invalidateClientPropertiesFlag && (b = this.invalidatePropertiesQueue.removeSmallestChild(c))) {
                                this.invalidatePropertiesQueue.insert(b);
                                d = !1;
                                break
                            }
                            if (this.invalidateClientSizeFlag && (b = this.invalidateSizeQueue.removeLargestChild(c))) {
                                this.invalidateSizeQueue.insert(b);
                                d = !1;
                                break
                            }
                            b = this.invalidateDisplayListQueue.removeSmallestChild(c)
                        }
                        this.invalidateDisplayListQueue.isEmpty() &&
                                (this.invalidateDisplayListFlag = !1)
                    }
                }
                if (e == Number.MAX_VALUE && (this.targetLevel = Number.MAX_VALUE, !a))
                    for (b = this.updateCompleteQueue.removeLargestChild(c); b; )
                        b.initialized || (b.initialized = !0), b.hasEventListener(f.UIEvent.UPDATE_COMPLETE) && f.UIEvent.dispatchUIEvent(b, f.UIEvent.UPDATE_COMPLETE), b.updateCompletePendingFlag = !1, b = this.updateCompleteQueue.removeLargestChild(c)
            };
            return b
        }(e.EventDispatcher);
        f.LayoutManager = g;
        g.prototype.__class__ = "egret.gui.LayoutManager"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function () {
            function b() {
                this.depthBins = [];
                this.minDepth = 0;
                this.maxDepth = -1
            }
            var a = b.prototype;
            a.insert = function (c) {
                var a = c.nestLevel,
                        b = c.hashCode;
                this.maxDepth < this.minDepth ? this.minDepth = this.maxDepth = a : (a < this.minDepth && (this.minDepth = a), a > this.maxDepth && (this.maxDepth = a));
                var e = this.depthBins[a];
                e ? null == e.items[b] && (e.items[b] = c, e.length++) : (e = new d, this.depthBins[a] = e, e.items[b] = c, e.length++)
            };
            a.pop = function () {
                var c = null;
                if (this.minDepth <= this.maxDepth) {
                    for (var a = this.depthBins[this.maxDepth]; !a ||
                            0 == a.length; ) {
                        this.maxDepth--;
                        if (this.maxDepth < this.minDepth)
                            return null;
                        a = this.depthBins[this.maxDepth]
                    }
                    var b = a.items,
                            d;
                    for (d in b) {
                        c = b[d];
                        this.remove(c, this.maxDepth);
                        break
                    }
                    for (; !a || 0 == a.length; ) {
                        this.maxDepth--;
                        if (this.maxDepth < this.minDepth)
                            break;
                        a = this.depthBins[this.maxDepth]
                    }
                }
                return c
            };
            a.shift = function () {
                var c = null;
                if (this.minDepth <= this.maxDepth) {
                    for (var a = this.depthBins[this.minDepth]; !a || 0 == a.length; ) {
                        this.minDepth++;
                        if (this.minDepth > this.maxDepth)
                            return null;
                        a = this.depthBins[this.minDepth]
                    }
                    var b =
                            a.items,
                            d;
                    for (d in b) {
                        c = b[d];
                        this.remove(c, this.minDepth);
                        break
                    }
                    for (; !a || 0 == a.length; ) {
                        this.minDepth++;
                        if (this.minDepth > this.maxDepth)
                            break;
                        a = this.depthBins[this.minDepth]
                    }
                }
                return c
            };
            a.removeLargestChild = function (c) {
                for (var a = this.maxDepth, b = c.nestLevel, d = c.hashCode; b <= a; ) {
                    var f = this.depthBins[a];
                    if (f && 0 < f.length) {
                        if (a == c.nestLevel) {
                            if (f.items[d])
                                return this.remove(c, a), c
                        } else {
                            var f = f.items,
                                    g;
                            for (g in f) {
                                var l = f[g];
                                if (l instanceof e.DisplayObject && c instanceof e.DisplayObjectContainer && c.contains(l))
                                    return this.remove(l,
                                            a), l
                            }
                        }
                        a--
                    } else if (a == this.maxDepth && this.maxDepth--, a--, a < b)
                        break
                }
                return null
            };
            a.removeSmallestChild = function (c) {
                for (var a = c.nestLevel, b = c.hashCode; a <= this.maxDepth; ) {
                    var d = this.depthBins[a];
                    if (d && 0 < d.length) {
                        if (a == c.nestLevel) {
                            if (d.items[b])
                                return this.remove(c, a), c
                        } else {
                            var d = d.items,
                                    f;
                            for (f in d) {
                                var g = d[f];
                                if (g instanceof e.DisplayObject && c instanceof e.DisplayObjectContainer && c.contains(g))
                                    return this.remove(g, a), g
                            }
                        }
                        a++
                    } else if (a == this.minDepth && this.minDepth++, a++, a > this.maxDepth)
                        break
                }
                return null
            };
            a.remove = function (c, a) {
                void 0 === a && (a = -1);
                var b = c.hashCode,
                        d = this.depthBins[0 <= a ? a : c.nestLevel];
                return d && null != d.items[b] ? (delete d.items[b], d.length--, c) : null
            };
            a.removeAll = function () {
                this.minDepth = this.depthBins.length = 0;
                this.maxDepth = -1
            };
            a.isEmpty = function () {
                return this.minDepth > this.maxDepth
            };
            return b
        }();
        f.DepthQueue = g;
        g.prototype.__class__ = "egret.gui.DepthQueue";
        var d = function () {
            return function () {
                this.length = 0;
                this.items = []
            }
        }();
        f.DepthBin = d;
        d.prototype.__class__ = "egret.gui.DepthBin"
    })(e.gui ||
            (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function () {
            function d() {
            }
            Object.defineProperty(d, "stage", {
                get: function () {
                    return d._stage
                },
                enumerable: !0,
                configurable: !0
            });
            d._initlize = function (b) {
                d.initlized || (d._stage = b, d._layoutManager = new e.LayoutManager, d.initlized = !0)
            };
            Object.defineProperty(d, "uiStage", {
                get: function () {
                    return d._uiStage
                },
                enumerable: !0,
                configurable: !0
            });
            d.initlized = !1;
            return d
        }();
        e.UIGlobals = g;
        g.prototype.__class__ = "egret.gui.UIGlobals"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function () {
            return function () {
                this._id = null;
                this._isPopUp = !1;
                this._owner = null;
                this._initialized = this._updateCompletePendingFlag = !1;
                this._nestLevel = 0;
                this._enabled = !0;
                this._minWidth = this._height = this._width = 0;
                this._maxWidth = 1E4;
                this._minHeight = 0;
                this._maxHeight = 1E4;
                this._measuredHeight = this._measuredWidth = 0;
                this._percentHeight = this._percentWidth = this._verticalCenter = this._horizontalCenter = this._bottom = this._top = this._right = this._left = NaN;
                this._includeInLayout = !0;
                this._oldY =
                        this._oldX = this._oldHeight = this._oldWidth = NaN;
                this._invalidateSizeFlag = this._invalidatePropertiesFlag = !1;
                this._oldPreferHeight = this._oldPreferWidth = NaN;
                this._hasOwnStyleChain = this._initializeCalled = this._validateNowFlag = this._invalidateDisplayListFlag = !1;
                this._styleProtoChain = null;
                this._layoutHeightExplicitlySet = this._layoutWidthExplicitlySet = this._hasNoStyleChild = !1
            }
        }();
        e.UIComponentProperties = g;
        g.prototype.__class__ = "egret.gui.UIComponentProperties"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this._UIC_Props_ = new e.gui.UIComponentProperties;
                this.touchEnabled = !0;
                this.addEventListener(e.Event.ADDED_TO_STAGE, this.onAddedToStage, this);
                this.addEventListener(e.Event.ADDED_TO_STAGE, this.checkInvalidateFlag, this);
                void 0 === b.prototypeCanSet && (b.prototypeCanSet = void 0 !== {}.__proto__)
            }
            __extends(b, d);
            var a = b.prototype;
            a.onAddedToStage = function (c) {
                this.removeEventListener(e.Event.ADDED_TO_STAGE, this.onAddedToStage, this);
                this._initialize();
                f.UIGlobals._initlize(this.stage);
                0 < this._UIC_Props_._nestLevel && this.checkInvalidateFlag()
            };
            Object.defineProperty(a, "id", {
                get: function () {
                    return this._UIC_Props_._id
                },
                set: function (c) {
                    this._UIC_Props_._id = c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "isPopUp", {
                get: function () {
                    return this._UIC_Props_._isPopUp
                },
                set: function (c) {
                    this._UIC_Props_._isPopUp = c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "owner", {
                get: function () {
                    return this._UIC_Props_._owner ? this._UIC_Props_._owner :
                            this.parent
                },
                enumerable: !0,
                configurable: !0
            });
            a.ownerChanged = function (c) {
                this._UIC_Props_._owner = c
            };
            Object.defineProperty(a, "updateCompletePendingFlag", {
                get: function () {
                    return this._UIC_Props_._updateCompletePendingFlag
                },
                set: function (c) {
                    this._UIC_Props_._updateCompletePendingFlag = c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "initialized", {
                get: function () {
                    return this._UIC_Props_._initialized
                },
                set: function (c) {
                    this._UIC_Props_._initialized != c && (this._UIC_Props_._initialized = c) && (this.childrenCreated(),
                            f.UIEvent.dispatchUIEvent(this, f.UIEvent.CREATION_COMPLETE))
                },
                enumerable: !0,
                configurable: !0
            });
            a._initialize = function () {
                this._UIC_Props_._initializeCalled || (f.UIGlobals.stage && this.removeEventListener(e.Event.ADDED_TO_STAGE, this.onAddedToStage, this), this._UIC_Props_._initializeCalled = !0, f.UIEvent.dispatchUIEvent(this, f.UIEvent.INITIALIZE), this.createChildren(), this.invalidateProperties(), this.invalidateSize(), this.invalidateDisplayList())
            };
            a.createChildren = function () {
            };
            a.childrenCreated = function () {
            };
            Object.defineProperty(a, "nestLevel", {
                get: function () {
                    return this._UIC_Props_._nestLevel
                },
                set: function (c) {
                    this._UIC_Props_._nestLevel != c && (this._UIC_Props_._nestLevel = c, 0 == this._UIC_Props_._nestLevel ? this.addEventListener(e.Event.ADDED_TO_STAGE, this.checkInvalidateFlag, this) : this.removeEventListener(e.Event.ADDED_TO_STAGE, this.checkInvalidateFlag, this), this._updateChildrenNestLevel())
                },
                enumerable: !0,
                configurable: !0
            });
            a._updateChildrenNestLevel = function () {
                for (var c = this.numChildren - 1; 0 <= c; c--) {
                    var a =
                            this.getChildAt(c);
                    a && "nestLevel" in a && (a.nestLevel = this._UIC_Props_._nestLevel + 1)
                }
            };
            a.getStyle = function (c) {
                var a = this._UIC_Props_._styleProtoChain;
                return a ? a[c] : void 0
            };
            a.setStyle = function (c, a) {
                var b = this._UIC_Props_._styleProtoChain;
                this._UIC_Props_._hasOwnStyleChain || (b = this._createOwnStyleProtoChain(b));
                b[c] = a;
                this.styleChanged(c);
                this.notifyStyleChangeInChildren(c)
            };
            a.styleChanged = function (c) {
            };
            a.notifyStyleChangeInChildren = function (c) {
                if (!this._UIC_Props_._hasNoStyleChild)
                    for (var a = this.numChildren -
                            1; 0 <= a; a--) {
                        var b = this.getChildAt(a);
                        b && "styleChanged" in b && (b.styleChanged(c), b.notifyStyleChangeInChildren(c))
                    }
            };
            a._createOwnStyleProtoChain = function (c) {
                this._UIC_Props_._hasOwnStyleChain = !0;
                b.prototypeCanSet ? (this._UIC_Props_._styleProtoChain = {}, this._UIC_Props_._styleProtoChain.__proto__ = c ? c : b.emptyStyleChain) : this._UIC_Props_._styleProtoChain = this.createProtoChain(c);
                c = this._UIC_Props_._styleProtoChain;
                if (!this._UIC_Props_._hasNoStyleChild)
                    for (var a = this.numChildren - 1; 0 <= a; a--) {
                        var d = this.getChildAt(a);
                        d && "regenerateStyleCache" in d && d.regenerateStyleCache(c)
                    }
                return c
            };
            a.createProtoChain = function (c) {
                function a() {
                }
                a.prototype = c;
                c = new a;
                a.prototype = null;
                return c
            };
            a.clearStyle = function (c) {
                this._UIC_Props_._hasOwnStyleChain && (delete this._UIC_Props_._styleProtoChain[c], this.styleChanged(c), this.notifyStyleChangeInChildren(c))
            };
            a.regenerateStyleCache = function (c) {
                if (!b.prototypeCanSet)
                    this.regenerateStyleCacheForIE(c);
                else if (this._UIC_Props_._hasOwnStyleChain)
                    this._UIC_Props_._styleProtoChain.__proto__ =
                            c ? c : b.emptyStyleChain;
                else if (this._UIC_Props_._styleProtoChain != c) {
                    this._UIC_Props_._styleProtoChain = c;
                    for (var a = this.numChildren - 1; 0 <= a; a--) {
                        var d = this.getChildAt(a);
                        d && "regenerateStyleCache" in d && d.regenerateStyleCache(c)
                    }
                }
            };
            a.regenerateStyleCacheForIE = function (c) {
                if (this._UIC_Props_._hasOwnStyleChain) {
                    var a = this._UIC_Props_._styleProtoChain;
                    c = this.createProtoChain(c);
                    for (var b in a)
                        a.hasOwnProperty(b) && (c[b] = a[b])
                }
                this._UIC_Props_._styleProtoChain = c;
                if (!this._UIC_Props_._hasNoStyleChild)
                    for (a =
                            this.numChildren - 1; 0 <= a; a--)
                        (b = this.getChildAt(a)) && "regenerateStyleCacheForIE" in b && b.regenerateStyleCacheForIE(c)
            };
            a._addToDisplayList = function (c, a) {
                void 0 === a && (a = !0);
                var b = this.numChildren;
                c.parent == this && b--;
                this._addingChild(c);
                this._doAddChild(c, b, a);
                this._childAdded(c);
                return c
            };
            a._addToDisplayListAt = function (c, a, b) {
                void 0 === b && (b = !0);
                this._addingChild(c);
                this._doAddChild(c, a, b);
                this._childAdded(c);
                return c
            };
            a._removeFromDisplayList = function (c, a) {
                void 0 === a && (a = !0);
                var b = this._children.indexOf(c);
                if (0 <= b)
                    return this._doRemoveChild(b, a), this._childRemoved(c), c;
                e.Logger.fatalWithErrorId(1008);
                return null
            };
            a._removeFromDisplayListAt = function (c, a) {
                void 0 === a && (a = !0);
                if (0 <= c && c < this._children.length) {
                    var b = this._doRemoveChild(c, a);
                    this._childRemoved(b);
                    return b
                }
                e.Logger.fatalWithErrorId(1007);
                return null
            };
            a.addChild = function (c) {
                this._addingChild(c);
                d.prototype.addChild.call(this, c);
                this._childAdded(c);
                return c
            };
            a.addChildAt = function (c, a) {
                this._addingChild(c);
                d.prototype.addChildAt.call(this, c,
                        a);
                this._childAdded(c);
                return c
            };
            a._addingChild = function (c) {
                if (c && ("nestLevel" in c && (c.nestLevel = this._UIC_Props_._nestLevel + 1), "styleChanged" in c)) {
                    var a = this._UIC_Props_._styleProtoChain;
                    if (a || c._UIC_Props_ && c._UIC_Props_._styleProtoChain)
                        c.regenerateStyleCache(a), c.styleChanged(null), c.notifyStyleChangeInChildren(null)
                }
            };
            a._childAdded = function (c) {
                c instanceof b && (c._initialize(), c.checkInvalidateFlag())
            };
            a.removeChild = function (c) {
                d.prototype.removeChild.call(this, c);
                this._childRemoved(c);
                return c
            };
            a.removeChildAt = function (c) {
                c = d.prototype.removeChildAt.call(this, c);
                this._childRemoved(c);
                return c
            };
            a._childRemoved = function (c) {
                c && "nestLevel" in c && (c.nestLevel = 0)
            };
            a.checkInvalidateFlag = function (c) {
                f.UIGlobals._layoutManager && (this._UIC_Props_._invalidatePropertiesFlag && f.UIGlobals._layoutManager.invalidateProperties(this), this._UIC_Props_._invalidateSizeFlag && f.UIGlobals._layoutManager.invalidateSize(this), this._UIC_Props_._invalidateDisplayListFlag && f.UIGlobals._layoutManager.invalidateDisplayList(this),
                        this._UIC_Props_._validateNowFlag && (f.UIGlobals._layoutManager.validateClient(this), this._UIC_Props_._validateNowFlag = !1))
            };
            Object.defineProperty(a, "enabled", {
                get: function () {
                    return this._UIC_Props_._enabled
                },
                set: function (c) {
                    this._UIC_Props_._enabled = c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "width", {
                get: function () {
                    return this._UIC_Props_._width
                },
                set: function (c) {
                    this._setWidth(c)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setWidth = function (c) {
                if (this._UIC_Props_._width != c || this._DO_Props_._explicitWidth !=
                        c)
                    d.prototype._setWidth.call(this, c), isNaN(c) ? this.invalidateSize() : this._UIC_Props_._width = c, this.invalidateProperties(), this.invalidateDisplayList(), this.invalidateParentSizeAndDisplayList()
            };
            Object.defineProperty(a, "height", {
                get: function () {
                    return this._UIC_Props_._height
                },
                set: function (c) {
                    this._setHeight(c)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setHeight = function (c) {
                if (this._UIC_Props_._height != c || this._DO_Props_._explicitHeight != c)
                    d.prototype._setHeight.call(this, c), isNaN(c) ? this.invalidateSize() :
                            this._UIC_Props_._height = c, this.invalidateProperties(), this.invalidateDisplayList(), this.invalidateParentSizeAndDisplayList()
            };
            Object.defineProperty(a, "scaleX", {
                get: function () {
                    return this._DO_Props_._scaleX
                },
                set: function (c) {
                    this._setScaleX(c)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setScaleX = function (c) {
                this._DO_Props_._scaleX != c && (this._DO_Props_._scaleX = c, this.invalidateParentSizeAndDisplayList())
            };
            Object.defineProperty(a, "scaleY", {
                get: function () {
                    return this._DO_Props_._scaleY
                },
                set: function (c) {
                    this._setScaleY(c)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setScaleY = function (c) {
                this._DO_Props_._scaleY != c && (this._DO_Props_._scaleY = c, this.invalidateParentSizeAndDisplayList())
            };
            Object.defineProperty(a, "minWidth", {
                get: function () {
                    return this._UIC_Props_._minWidth
                },
                set: function (c) {
                    this._UIC_Props_._minWidth != c && (this._UIC_Props_._minWidth = c, this.invalidateSize())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "maxWidth", {
                get: function () {
                    return this._UIC_Props_._maxWidth
                },
                set: function (c) {
                    this._UIC_Props_._maxWidth !=
                            c && (this._UIC_Props_._maxWidth = c, this.invalidateSize())
                },
                enumerable: !0,
                configurable: !0
            });
            a._getMaxWidth = function () {
                return this._UIC_Props_._maxWidth
            };
            Object.defineProperty(a, "minHeight", {
                get: function () {
                    return this._UIC_Props_._minHeight
                },
                set: function (c) {
                    this._UIC_Props_._minHeight != c && (this._UIC_Props_._minHeight = c, this.invalidateSize())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "maxHeight", {
                get: function () {
                    return this._UIC_Props_._maxHeight
                },
                set: function (c) {
                    this._UIC_Props_._maxHeight !=
                            c && (this._UIC_Props_._maxHeight = c, this.invalidateSize())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "measuredWidth", {
                get: function () {
                    return this._UIC_Props_._measuredWidth
                },
                set: function (c) {
                    this._UIC_Props_._measuredWidth = c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "measuredHeight", {
                get: function () {
                    return this._UIC_Props_._measuredHeight
                },
                set: function (c) {
                    this._UIC_Props_._measuredHeight = c
                },
                enumerable: !0,
                configurable: !0
            });
            a.setActualSize = function (c, a) {
                var b = !1;
                this._UIC_Props_._width !=
                        c && (this._UIC_Props_._width = c, b = !0);
                this._UIC_Props_._height != a && (this._UIC_Props_._height = a, b = !0);
                b && (this.invalidateDisplayList(), this.dispatchResizeEvent())
            };
            Object.defineProperty(a, "x", {
                get: function () {
                    return this._DO_Props_._x
                },
                set: function (c) {
                    this._DO_Props_._x != c && (this._setX(c), this.invalidateProperties(), this._UIC_Props_._includeInLayout && this.parent && this.parent instanceof b && this.parent._childXYChanged())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "y", {
                get: function () {
                    return this._DO_Props_._y
                },
                set: function (c) {
                    this._DO_Props_._y != c && (this._setY(c), this.invalidateProperties(), this._UIC_Props_._includeInLayout && this.parent && this.parent instanceof b && this.parent._childXYChanged())
                },
                enumerable: !0,
                configurable: !0
            });
            a.invalidateProperties = function () {
                this._UIC_Props_._invalidatePropertiesFlag || (this._UIC_Props_._invalidatePropertiesFlag = !0, this.parent && f.UIGlobals._layoutManager && f.UIGlobals._layoutManager.invalidateProperties(this))
            };
            a.validateProperties = function () {
                this._UIC_Props_._invalidatePropertiesFlag &&
                        (this.commitProperties(), this._UIC_Props_._invalidatePropertiesFlag = !1)
            };
            a.invalidateSize = function () {
                this._UIC_Props_._invalidateSizeFlag || (this._UIC_Props_._invalidateSizeFlag = !0, this.parent && f.UIGlobals._layoutManager && f.UIGlobals._layoutManager.invalidateSize(this))
            };
            a.validateSize = function (c) {
                void 0 === c && (c = !1);
                if (c)
                    for (c = 0; c < this.numChildren; c++) {
                        var a = this.getChildAt(c);
                        "validateSize" in a && a.validateSize(!0)
                    }
                this._UIC_Props_._invalidateSizeFlag && (this.measureSizes() && (this.invalidateDisplayList(),
                        this.invalidateParentSizeAndDisplayList()), this._UIC_Props_._invalidateSizeFlag = !1)
            };
            a.measureSizes = function () {
                var c = !1;
                if (!this._UIC_Props_._invalidateSizeFlag)
                    return c;
                this.canSkipMeasurement() || (this.measure(), this.measuredWidth < this.minWidth && (this.measuredWidth = this.minWidth), this.measuredWidth > this.maxWidth && (this.measuredWidth = this.maxWidth), this.measuredHeight < this.minHeight && (this.measuredHeight = this.minHeight), this.measuredHeight > this.maxHeight && (this.measuredHeight = this.maxHeight));
                if (isNaN(this._UIC_Props_._oldPreferWidth))
                    this._UIC_Props_._oldPreferWidth =
                            this.preferredWidth, this._UIC_Props_._oldPreferHeight = this.preferredHeight, c = !0;
                else {
                    if (this.preferredWidth != this._UIC_Props_._oldPreferWidth || this.preferredHeight != this._UIC_Props_._oldPreferHeight)
                        c = !0;
                    this._UIC_Props_._oldPreferWidth = this.preferredWidth;
                    this._UIC_Props_._oldPreferHeight = this.preferredHeight
                }
                return c
            };
            a.invalidateDisplayList = function () {
                this._UIC_Props_._invalidateDisplayListFlag || (this._UIC_Props_._invalidateDisplayListFlag = !0, this.parent && f.UIGlobals._layoutManager && f.UIGlobals._layoutManager.invalidateDisplayList(this),
                        this._setSizeDirty())
            };
            a.validateDisplayList = function () {
                if (this._UIC_Props_._invalidateDisplayListFlag) {
                    var c = 0,
                            a = 0,
                            c = this._UIC_Props_._layoutWidthExplicitlySet ? this._UIC_Props_._width : isNaN(this.explicitWidth) ? this.measuredWidth : this._DO_Props_._explicitWidth,
                            a = this._UIC_Props_._layoutHeightExplicitlySet ? this._UIC_Props_._height : isNaN(this.explicitHeight) ? this.measuredHeight : this._DO_Props_._explicitHeight;
                    isNaN(c) && (c = 0);
                    isNaN(a) && (a = 0);
                    this.setActualSize(c, a);
                    this.updateDisplayList(c, a);
                    this._UIC_Props_._invalidateDisplayListFlag = !1
                }
            };
            a.validateNow = function (c) {
                void 0 === c && (c = !1);
                this._UIC_Props_._validateNowFlag || null == f.UIGlobals._layoutManager ? this._UIC_Props_._validateNowFlag = !0 : f.UIGlobals._layoutManager.validateClient(this, c)
            };
            a.invalidateParentSizeAndDisplayList = function () {
                if (this.parent && this._UIC_Props_._includeInLayout && "invalidateSize" in this.parent) {
                    var c = this.parent;
                    c.invalidateSize();
                    c.invalidateDisplayList()
                }
            };
            a.updateDisplayList = function (c, a) {
            };
            a.canSkipMeasurement = function () {
                return !isNaN(this._DO_Props_._explicitWidth) &&
                        !isNaN(this._DO_Props_._explicitHeight)
            };
            a.commitProperties = function () {
                this._UIC_Props_._oldWidth == this._UIC_Props_._width && this._UIC_Props_._oldHeight == this._UIC_Props_._height || this.dispatchResizeEvent();
                this._UIC_Props_._oldX == this.x && this._UIC_Props_._oldY == this.y || this.dispatchMoveEvent()
            };
            a.measure = function () {
                this._UIC_Props_._measuredHeight = 0;
                this._UIC_Props_._measuredWidth = 0
            };
            a.dispatchMoveEvent = function () {
                this.hasEventListener(f.MoveEvent.MOVE) && f.MoveEvent.dispatchMoveEvent(this, this._UIC_Props_._oldX,
                        this._UIC_Props_._oldY);
                this._UIC_Props_._oldX = this.x;
                this._UIC_Props_._oldY = this.y
            };
            a._childXYChanged = function () {
            };
            a.dispatchResizeEvent = function () {
                this.hasEventListener(f.ResizeEvent.RESIZE) && f.ResizeEvent.dispatchResizeEvent(this, this._UIC_Props_._oldWidth, this._UIC_Props_._oldHeight);
                this._UIC_Props_._oldWidth = this._UIC_Props_._width;
                this._UIC_Props_._oldHeight = this._UIC_Props_._height
            };
            Object.defineProperty(a, "includeInLayout", {
                get: function () {
                    return this._UIC_Props_._includeInLayout
                },
                set: function (c) {
                    this._UIC_Props_._includeInLayout !=
                            c && (this._UIC_Props_._includeInLayout = !0, this.invalidateParentSizeAndDisplayList(), this._UIC_Props_._includeInLayout = c)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "left", {
                get: function () {
                    return this._UIC_Props_._left
                },
                set: function (c) {
                    this._UIC_Props_._left != c && (this._UIC_Props_._left = c, this.invalidateParentSizeAndDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "right", {
                get: function () {
                    return this._UIC_Props_._right
                },
                set: function (c) {
                    this._UIC_Props_._right != c && (this._UIC_Props_._right =
                            c, this.invalidateParentSizeAndDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "top", {
                get: function () {
                    return this._UIC_Props_._top
                },
                set: function (c) {
                    this._UIC_Props_._top != c && (this._UIC_Props_._top = c, this.invalidateParentSizeAndDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "bottom", {
                get: function () {
                    return this._UIC_Props_._bottom
                },
                set: function (c) {
                    this._UIC_Props_._bottom != c && (this._UIC_Props_._bottom = c, this.invalidateParentSizeAndDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "horizontalCenter", {
                get: function () {
                    return this._UIC_Props_._horizontalCenter
                },
                set: function (c) {
                    this._UIC_Props_._horizontalCenter != c && (this._UIC_Props_._horizontalCenter = c, this.invalidateParentSizeAndDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "verticalCenter", {
                get: function () {
                    return this._UIC_Props_._verticalCenter
                },
                set: function (c) {
                    this._UIC_Props_._verticalCenter != c && (this._UIC_Props_._verticalCenter = c, this.invalidateParentSizeAndDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "percentWidth", {
                get: function () {
                    return this._UIC_Props_._percentWidth
                },
                set: function (c) {
                    this._UIC_Props_._percentWidth != c && (this._UIC_Props_._percentWidth = c, this.invalidateParentSizeAndDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "percentHeight", {
                get: function () {
                    return this._UIC_Props_._percentHeight
                },
                set: function (c) {
                    this._UIC_Props_._percentHeight != c && (this._UIC_Props_._percentHeight = c, this.invalidateParentSizeAndDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            a.setLayoutBoundsSize = function (c, a) {
                isNaN(c) ? (this._UIC_Props_._layoutWidthExplicitlySet = !1, c = this.preferredWidth) : this._UIC_Props_._layoutWidthExplicitlySet = !0;
                isNaN(a) ? (this._UIC_Props_._layoutHeightExplicitlySet = !1, a = this.preferredHeight) : this._UIC_Props_._layoutHeightExplicitlySet = !0;
                this.setActualSize(c / this._DO_Props_._scaleX, a / this._DO_Props_._scaleY)
            };
            a.setLayoutBoundsPosition = function (c, a) {
                0 > this._DO_Props_._scaleX && (c += this.layoutBoundsWidth);
                0 > this._DO_Props_._scaleY &&
                        (a += this.layoutBoundsHeight);
                var b = !1;
                this._DO_Props_._x != c && (this._setX(c), b = !0);
                this._DO_Props_._y != a && (this._setY(a), b = !0);
                b && this.dispatchMoveEvent()
            };
            Object.defineProperty(a, "preferredWidth", {
                get: function () {
                    var c = this._DO_Props_._hasWidthSet ? this._DO_Props_._explicitWidth : this._UIC_Props_._measuredWidth,
                            a = this._DO_Props_._scaleX;
                    0 > a && (a = -a);
                    return c * a
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "preferredHeight", {
                get: function () {
                    var c = this._DO_Props_._hasHeightSet ? this._DO_Props_._explicitHeight :
                            this._UIC_Props_._measuredHeight,
                            a = this._DO_Props_._scaleY;
                    0 > a && (a = -a);
                    return c * a
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "preferredX", {
                get: function () {
                    return 0 <= this._DO_Props_._scaleX ? this._DO_Props_._x : this._DO_Props_._x - this.preferredWidth
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "preferredY", {
                get: function () {
                    return 0 <= this._DO_Props_._scaleY ? this._DO_Props_._y : this._DO_Props_._y - this.preferredHeight
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "layoutBoundsX", {
                get: function () {
                    return 0 <= this._DO_Props_._scaleX ? this._DO_Props_._x : this._DO_Props_._x - this.layoutBoundsWidth
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "layoutBoundsY", {
                get: function () {
                    return 0 <= this._DO_Props_._scaleY ? this._DO_Props_._y : this._DO_Props_._y - this.layoutBoundsHeight
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "layoutBoundsWidth", {
                get: function () {
                    var c = 0,
                            c = this._UIC_Props_._layoutWidthExplicitlySet ? this._UIC_Props_._width : this._DO_Props_._hasWidthSet ? this._DO_Props_._explicitWidth :
                            this._UIC_Props_._measuredWidth,
                            a = this._DO_Props_._scaleX;
                    0 > a && (a = -a);
                    return c * a
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "layoutBoundsHeight", {
                get: function () {
                    var c = 0,
                            c = this._UIC_Props_._layoutHeightExplicitlySet ? this._UIC_Props_._height : this._DO_Props_._hasHeightSet ? this._DO_Props_._explicitHeight : this._UIC_Props_._measuredHeight,
                            a = this.scaleY;
                    0 > a && (a = -a);
                    return c * a
                },
                enumerable: !0,
                configurable: !0
            });
            b.prototypeCanSet = void 0;
            b.emptyStyleChain = {};
            return b
        }(e.DisplayObjectContainer);
        f.UIComponent = g;
        g.prototype.__class__ = "egret.gui.UIComponent"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function () {
            function d() {
            }
            d.ABOVE = "above";
            d.BELOW = "below";
            d.CENTER = "center";
            d.TOP_LEFT = "topLeft";
            d.LEFT = "left";
            d.RIGHT = "right";
            d.SCREEN_CENTER = "screenCenter";
            return d
        }();
        e.PopUpPosition = g;
        g.prototype.__class__ = "egret.gui.PopUpPosition"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function () {
            function d() {
            }
            d.AUTO = "auto";
            d.OFF = "off";
            d.ON = "on";
            return d
        }();
        e.ScrollPolicy = g;
        g.prototype.__class__ = "egret.gui.ScrollPolicy"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(a) {
                void 0 === a && (a = null);
                d.call(this);
                this.generator = null;
                this.generator = a
            }
            __extends(b, d);
            b.prototype.newInstance = function () {
                return new this.generator
            };
            return b
        }(e.HashObject);
        f.ClassFactory = g;
        g.prototype.__class__ = "egret.gui.ClassFactory"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function () {
            function d() {
            }
            d.DOWN = 40;
            d.END = 35;
            d.HOME = 36;
            d.LEFT = 37;
            d.PAGE_DOWN = 34;
            d.PAGE_LEFT = 9111;
            d.PAGE_RIGHT = 9112;
            d.PAGE_UP = 33;
            d.RIGHT = 39;
            d.UP = 38;
            return d
        }();
        e.NavigationUnit = g;
        g.prototype.__class__ = "egret.gui.NavigationUnit"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this)
            }
            __extends(b, d);
            var a = b.prototype;
            a.initialize = function (c) {
            };
            a.apply = function (c) {
            };
            a.remove = function (c) {
            };
            a.initializeFromObject = function (c) {
                for (var a in c)
                    this[a] = c[a];
                return this
            };
            return b
        }(e.HashObject);
        f.OverrideBase = g;
        g.prototype.__class__ = "egret.gui.OverrideBase"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b(c, a, e, f) {
                d.call(this);
                this.propertyName = "";
                this.position = b.LAST;
                this.target = this.relativeTo = null;
                this.target = c;
                this.propertyName = a;
                this.position = e;
                this.relativeTo = f
            }
            __extends(b, d);
            var a = b.prototype;
            a.initialize = function (c) {
                if ((c = c[this.target]) && !(c instanceof e.SkinnableComponent) && "_initialize" in c)
                    try {
                        c._initialize()
                    } catch (a) {
                    }
            };
            a.apply = function (c) {
                var a, d;
                try {
                    d = c[this.relativeTo]
                } catch (e) {
                }
                var f = c[this.target];
                c = this.propertyName ? c[this.propertyName] :
                        c;
                if (f && c) {
                    switch (this.position) {
                        case b.FIRST:
                            a = 0;
                            break;
                        case b.LAST:
                            a = -1;
                            break;
                        case b.BEFORE:
                            a = c.getElementIndex(d);
                            break;
                        case b.AFTER:
                            a = c.getElementIndex(d) + 1
                    }
                    -1 == a && (a = c.numElements);
                    c.addElementAt(f, a)
                }
            };
            a.remove = function (c) {
                var a = null == this.propertyName || "" == this.propertyName ? c : c[this.propertyName];
                (c = c[this.target]) && a && -1 != a.getElementIndex(c) && a.removeElement(c)
            };
            b.FIRST = "first";
            b.LAST = "last";
            b.BEFORE = "before";
            b.AFTER = "after";
            return b
        }(e.OverrideBase);
        e.AddItems = g;
        g.prototype.__class__ = "egret.gui.AddItems"
    })(e.gui ||
            (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b(c, a, b) {
                d.call(this);
                this.oldValue = this.value = this.target = this.name = null;
                this.target = c;
                this.name = a;
                this.value = b
            }
            __extends(b, d);
            var a = b.prototype;
            a.apply = function (c) {
                c = null == this.target || "" == this.target ? c : c[this.target];
                null != c && (this.oldValue = c[this.name], this.setPropertyValue(c, this.name, this.value, this.oldValue))
            };
            a.remove = function (c) {
                c = null == this.target || "" == this.target ? c : c[this.target];
                null != c && (this.setPropertyValue(c, this.name, this.oldValue,
                        this.oldValue), this.oldValue = null)
            };
            a.setPropertyValue = function (c, a, b, d) {
                c[a] = void 0 === b || null === b ? b : "number" == typeof d ? parseFloat(b) : "boolean" == typeof d ? this.toBoolean(b) : b
            };
            a.toBoolean = function (c) {
                return "string" == typeof c ? "true" == c.toLowerCase() : !1 != c
            };
            return b
        }(e.OverrideBase);
        e.SetProperty = g;
        g.prototype.__class__ = "egret.gui.SetProperty"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b(c, a, b) {
                d.call(this);
                this.target = c;
                this.name = a;
                this.value = b
            }
            __extends(b, d);
            var a = b.prototype;
            a.apply = function (c) {
                c = null == this.target || "" == this.target ? c : c[this.target];
                null != c && (this.oldValue = c.getStyle(this.name), this.setStyleValue(c, this.name, this.value, this.oldValue))
            };
            a.remove = function (c) {
                c = null == this.target || "" == this.target ? c : c[this.target];
                null != c && (this.setStyleValue(c, this.name, this.oldValue, this.oldValue), this.oldValue = null)
            };
            a.setStyleValue =
                    function (c, a, b, d) {
                        void 0 === b ? c.clearStyle(a) : null === b ? c.setStyle(a, b) : "number" == typeof d ? c.setStyle(a, parseFloat(b)) : "boolean" == typeof d ? c.setStyle(a, this.toBoolean(b)) : c.setStyle(a, b)
                    };
            a.toBoolean = function (c) {
                return "string" == typeof c ? "true" == c.toLowerCase() : !1 != c
            };
            return b
        }(e.OverrideBase);
        e.SetStyle = g;
        g.prototype.__class__ = "egret.gui.SetStyle"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(a, c) {
                d.call(this);
                this.initialized = !1;
                this.name = null;
                this.name = a;
                this.overrides = c
            }
            __extends(b, d);
            b.prototype.initialize = function (a) {
                if (!this.initialized) {
                    this.initialized = !0;
                    for (var c = 0; c < this.overrides.length; c++)
                        this.overrides[c].initialize(a)
                }
            };
            return b
        }(e.HashObject);
        f.State = g;
        g.prototype.__class__ = "egret.gui.State"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = {};
        f.getScale9Grid = function (d) {
            if (g[d])
                return g[d];
            if (!d)
                return null;
            var b = d.split(","),
                    b = new e.Rectangle(parseInt(b[0]), parseInt(b[1]), parseInt(b[2]), parseInt(b[3]));
            return g[d] = b
        }
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        e.setProperties = function (e, d, b) {
            for (var a = d.length, c = 0; c < a; c++)
                e[d[c]] = b[c];
            return e
        }
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function () {
            function d(a) {
                void 0 === a && (a = 0.5);
                this._easeInFraction = 0.5;
                this.easeInFraction = a
            }
            var b = d.prototype;
            Object.defineProperty(b, "easeInFraction", {
                get: function () {
                    return this._easeInFraction
                },
                set: function (a) {
                    this._easeInFraction = a
                },
                enumerable: !0,
                configurable: !0
            });
            b.ease = function (a) {
                var c = 1 - this._easeInFraction;
                return a <= this._easeInFraction && 0 < this._easeInFraction ? this._easeInFraction * this._easeIn(a / this._easeInFraction) : this._easeInFraction + c * this._easeOut((a -
                        this._easeInFraction) / c)
            };
            b._easeIn = function (a) {
                return a
            };
            b._easeOut = function (a) {
                return a
            };
            return d
        }();
        e.EaseInOutBase = g;
        g.prototype.__class__ = "egret.gui.EaseInOutBase"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b(c) {
                void 0 === c && (c = 0.5);
                d.call(this, c)
            }
            __extends(b, d);
            var a = b.prototype;
            a._easeIn = function (c) {
                return 1 - Math.cos(c * Math.PI / 2)
            };
            a._easeOut = function (c) {
                return Math.sin(c * Math.PI / 2)
            };
            return b
        }(e.EaseInOutBase);
        e.Sine = g;
        g.prototype.__class__ = "egret.gui.Sine"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function () {
            function d() {
            }
            var b = d.prototype;
            d.getInstance = function () {
                d.theInstance || (d.theInstance = new d);
                return d.theInstance
            };
            b.interpolate = function (a, c, b) {
                return 0 == a ? c : 1 == a ? b : c + a * (b - c)
            };
            b.increment = function (a, c) {
                return a + c
            };
            b.decrement = function (a, c) {
                return a - c
            };
            return d
        }();
        e.NumberInterpolator = g;
        g.prototype.__class__ = "egret.gui.NumberInterpolator"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function () {
            function d() {
            }
            d.LOOP = "loop";
            d.REVERSE = "reverse";
            return d
        }();
        e.RepeatBehavior = g;
        g.prototype.__class__ = "egret.gui.RepeatBehavior"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function () {
            function d(b, a, c) {
                void 0 === b && (b = NaN);
                void 0 === a && (a = null);
                void 0 === c && (c = null);
                this.value = a;
                this.time = b;
                this.valueBy = c
            }
            d.prototype.clone = function () {
                var b = new d(this.time, this.value, this.valueBy);
                b.easer = this.easer;
                b._timeFraction = this._timeFraction;
                return b
            };
            return d
        }();
        e.Keyframe = g;
        g.prototype.__class__ = "egret.gui.Keyframe"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function () {
            function d(a) {
                void 0 === a && (a = null);
                this.interpolator = e.NumberInterpolator.getInstance();
                this.property = a
            }
            var b = d.prototype;
            b.clone = function () {
                var a = new d(this.property);
                a.interpolator = this.interpolator;
                if (null !== this.keyframes) {
                    a.keyframes = [];
                    for (var c = 0; c < this.keyframes.length; ++c)
                        a.keyframes[c] = this.keyframes[c].clone()
                }
                return a
            };
            b._scaleKeyframes = function (a) {
                for (var c = this.keyframes.length, b = 0; b < c; ++b) {
                    var d = this.keyframes[b];
                    d._timeFraction = d.time / a
                }
            };
            b.getValue = function (a) {
                if (!this.keyframes)
                    return null;
                var c = this.keyframes.length;
                if (2 == c && 1 == this.keyframes[1]._timeFraction) {
                    var b = null != this.keyframes[1].easer ? this.keyframes[1].easer.ease(a) : a;
                    return this.interpolator.interpolate(b, this.keyframes[0].value, this.keyframes[1].value)
                }
                isNaN(this.keyframes[0]._timeFraction) && this._scaleKeyframes(this.keyframes[this.keyframes.length - 1].time);
                for (var d = 0, b = this.keyframes[0].value, e = 1; e < c; ++e) {
                    var f = this.keyframes[e];
                    if (a >= d && a < f._timeFraction)
                        return a =
                                (a - d) / (f._timeFraction - d), a = null != f.easer ? f.easer.ease(a) : a, this.interpolator.interpolate(a, b, f.value);
                    d = f._timeFraction;
                    b = f.value
                }
                return this.keyframes[c - 1].value
            };
            return d
        }();
        e.MotionPath = g;
        g.prototype.__class__ = "egret.gui.MotionPath"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b(c, a, b, g) {
                void 0 === c && (c = null);
                void 0 === a && (a = null);
                void 0 === b && (b = null);
                void 0 === g && (g = null);
                d.call(this);
                this.property = c;
                this.keyframes = [new e.Keyframe(0, a), new e.Keyframe(NaN, b, g)]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "valueFrom", {
                get: function () {
                    return this.keyframes[0].value
                },
                set: function (c) {
                    this.keyframes[0].value = c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "valueTo", {
                get: function () {
                    return this.keyframes[this.keyframes.length -
                            1].value
                },
                set: function (c) {
                    this.keyframes[this.keyframes.length - 1].value = c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "valueBy", {
                get: function () {
                    return this.keyframes[this.keyframes.length - 1].valueBy
                },
                set: function (c) {
                    this.keyframes[this.keyframes.length - 1].valueBy = c
                },
                enumerable: !0,
                configurable: !0
            });
            return b
        }(e.MotionPath);
        e.SimpleMotionPath = g;
        g.prototype.__class__ = "egret.gui.SimpleMotionPath"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function () {
            function d(a, c) {
                this._easer = d.defaultEaser;
                this.repeatFunction = this.stopFunction = this.updateFunction = this.endFunction = this.startFunction = this.thisObject = null;
                this.id = -1;
                this.started = this._invertValues = this._doReverse = this._isPlaying = this._doSeek = !1;
                this.delayedStartTime = this.delayTime = -1;
                this._playheadTime = 0;
                this.duration = 500;
                this._repeatBehavior = f.RepeatBehavior.LOOP;
                this._repeatCount = 1;
                this._startDelay = this._repeatDelay = 0;
                this.interpolator = null;
                this._cycleTime =
                        0;
                this.updateFunction = a;
                this.thisObject = c
            }
            var b = d.prototype;
            Object.defineProperty(b, "easer", {
                get: function () {
                    return this._easer
                },
                set: function (a) {
                    a || (a = d.defaultEaser);
                    this._easer = a
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(b, "playheadTime", {
                get: function () {
                    return this._playheadTime + this.startDelay
                },
                set: function (a) {
                    this._invertValues = !1;
                    this.seek(a, !0)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(b, "isPlaying", {
                get: function () {
                    return this._isPlaying
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(b, "repeatBehavior", {
                get: function () {
                    return this._repeatBehavior
                },
                set: function (a) {
                    this._repeatBehavior = a
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(b, "repeatCount", {
                get: function () {
                    return this._repeatCount
                },
                set: function (a) {
                    this._repeatCount = a
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(b, "repeatDelay", {
                get: function () {
                    return this._repeatDelay
                },
                set: function (a) {
                    this._repeatDelay = a
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(b, "startDelay", {
                get: function () {
                    return this._startDelay
                },
                set: function (a) {
                    this._startDelay = a
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(b, "cycleTime", {
                get: function () {
                    return this._cycleTime
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(b, "cycleFraction", {
                get: function () {
                    return this._cycleFraction
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(b, "playReversed", {
                get: function () {
                    return this._playReversed
                },
                set: function (a) {
                    this._isPlaying && this._invertValues != a && (this._invertValues = a, this.seek(this.duration - this._cycleTime, !0));
                    this._playReversed =
                            this._doReverse = a
                },
                enumerable: !0,
                configurable: !0
            });
            d.addAnimation = function (a) {
                if (a.motionPaths && 0 < a.motionPaths.length && a.motionPaths[0] && ("width" == a.motionPaths[0].property || "height" == a.motionPaths[0].property)) {
                    d.activeAnimations.splice(0, 0, a);
                    a.id = 0;
                    for (var c = 1; c < d.activeAnimations.length; ++c)
                        d.activeAnimations[c].id = c
                } else
                    a.id = d.activeAnimations.length, d.activeAnimations.push(a);
                d.timer || (d.pulse(), d.timer = new e.Timer(d.TIMER_RESOLUTION), d.timer.addEventListener(e.TimerEvent.TIMER, d.timerHandler,
                        d), d.timer.start());
                d.intervalTime = d.currentTime;
                a.cycleStartTime = d.intervalTime
            };
            d.removeAnimationAt = function (a) {
                void 0 === a && (a = 0);
                if (0 <= a && a < d.activeAnimations.length) {
                    d.activeAnimations.splice(a, 1);
                    for (var c = d.activeAnimations.length; a < c; a++)
                        d.activeAnimations[a].id--
                }
                d.stopTimerIfDone()
            };
            d.removeAnimation = function (a) {
                d.removeAnimationAt(a.id)
            };
            d.timerHandler = function (a) {
                d.intervalTime = d.pulse();
                for (a = 0; a < d.activeAnimations.length; ) {
                    var c = !0,
                            b = d.activeAnimations[a];
                    b && (c = !b.doInterval());
                    c && ++a
                }
                for (; 0 <
                        d.delayedStartAnims.length; )
                    if (a = d.delayedStartAnims[0], a.delayedStartTime < d.currentTime)
                        a.playReversed ? a.end() : a.start();
                    else
                        break
            };
            b.doInterval = function () {
                var a = !1,
                        c = !1;
                if (this._isPlaying || this._doSeek) {
                    var b = d.intervalTime - this.cycleStartTime;
                    this._playheadTime = d.intervalTime - this.startTime;
                    if (b >= this.duration) {
                        var g = 2;
                        0 < this.duration + this.repeatDelay && (g += Math.floor((this._playheadTime - this.duration) / (this.duration + this.repeatDelay)));
                        if (0 == this.repeatCount || g <= this.repeatCount)
                            if (0 == this.repeatDelay)
                                this._cycleTime =
                                        b % this.duration, this.cycleStartTime = d.intervalTime - this._cycleTime, b = this._cycleTime, this.repeatBehavior == f.RepeatBehavior.REVERSE && (this._invertValues = 1 < this.repeatCount ? !(g % 2) : !this._invertValues), c = !0;
                            else
                                return this._doSeek ? (this._cycleTime = b % (this.duration + this.repeatDelay), this._cycleTime > this.duration && (this._cycleTime = this.duration), this.calculateValue(this._cycleTime), this.sendUpdateEvent()) : (this._cycleTime = this.duration, this.calculateValue(this._cycleTime), this.sendUpdateEvent(), d.removeAnimation(this),
                                        a = new e.Timer(this.repeatDelay, 1), a.addEventListener(e.TimerEvent.TIMER, this.repeat, this), a.start()), !1;
                        else
                            b > this.duration && (this._playheadTime = b = this.duration)
                    }
                    this._cycleTime = b;
                    this.calculateValue(b);
                    b >= this.duration && !this._doSeek ? this.playReversed && 0 != this.startDelay ? (this.stopAnimation(), this.addToDelayedAnimations(this.startDelay)) : (this.end(), a = !0) : (c && this.sendAnimationEvent("repeatFunction"), this.sendUpdateEvent())
                }
                return a
            };
            b.sendUpdateEvent = function () {
                this.sendAnimationEvent("updateFunction")
            };
            b.sendAnimationEvent = function (a) {
                null != this[a] && this[a].call(this.thisObject, this)
            };
            b.calculateValue = function (a) {
                var c = 0;
                this.currentValue = {};
                if (0 == this.duration)
                    for (c = 0; c < this.motionPaths.length; ++c)
                        this.currentValue[this.motionPaths[c].property] = this._invertValues ? this.motionPaths[c].keyframes[0].value : this.motionPaths[c].keyframes[this.motionPaths[c].keyframes.length - 1].value;
                else if (this._invertValues && (a = this.duration - a), this._cycleFraction = this.easer.ease(a / this.duration), this.motionPaths)
                    for (c =
                            0; c < this.motionPaths.length; ++c)
                        this.currentValue[this.motionPaths[c].property] = this.motionPaths[c].getValue(this._cycleFraction)
            };
            b.removeFromDelayedAnimations = function () {
                if (0 <= this.delayedStartTime) {
                    for (var a = 0; a < d.delayedStartAnims.length; ++a)
                        if (d.delayedStartAnims[a] == this) {
                            d.delayedStartAnims.splice(a, 1);
                            break
                        }
                    this.delayedStartTime = -1
                }
            };
            b.end = function () {
                0 < this.startDelay && 0 < d.delayedStartAnims.length && this.removeFromDelayedAnimations();
                this.started || this.sendAnimationEvent("startFunction");
                1 <
                        this.repeatCount && "reverse" == this.repeatBehavior && 0 == this.repeatCount % 2 && (this._invertValues = !0);
                this._doReverse && 0 < this.startDelay || (this.calculateValue(this.duration), this.sendUpdateEvent());
                this.sendAnimationEvent("endFunction");
                this.isPlaying ? this.stopAnimation() : d.stopTimerIfDone()
            };
            d.stopTimerIfDone = function () {
                d.timer && 0 == d.activeAnimations.length && 0 == d.delayedStartAnims.length && (d.intervalTime = NaN, d.timer.reset(), d.timer = null)
            };
            b.addToDelayedAnimations = function (a) {
                d.timer || (d.pulse(), d.timer =
                        new e.Timer(d.TIMER_RESOLUTION), d.timer.addEventListener(e.TimerEvent.TIMER, d.timerHandler, d), d.timer.start());
                a = d.currentTime + a;
                for (var c = -1, b = 0; b < d.delayedStartAnims.length; ++b)
                    if (a < d.delayedStartAnims[b].delayedStartTime) {
                        c = b;
                        break
                    }
                0 <= c ? d.delayedStartAnims.splice(c, 0, this) : d.delayedStartAnims.push(this);
                this.delayedStartTime = a
            };
            b.play = function () {
                this.stopAnimation();
                for (var a = 0, c = 0, a = 0; a < this.motionPaths.length; ++a) {
                    var b = this.motionPaths[a].keyframes;
                    isNaN(b[0].time) ? b[0].time = 0 : 0 < b[0].time &&
                            (c = b[0].time, b.splice(0, 0, new f.Keyframe(0, null)), b.splice(1, 0, new f.Keyframe(c - 1, null)), this.playReversed && (b[0].value = b[2].value, b[1].value = b[2].value));
                    for (c = 1; c < b.length; ++c)
                        isNaN(b[c].time) && (b[c].time = this.duration)
                }
                for (a = 0; a < this.motionPaths.length; ++a)
                    this.motionPaths[a]._scaleKeyframes(this.duration);
                this._doReverse && (this._invertValues = !0);
                0 < this.startDelay && !this.playReversed ? this.addToDelayedAnimations(this.startDelay) : this.start()
            };
            b.seek = function (a, c) {
                void 0 === c && (c = !1);
                this.startTime =
                        this.cycleStartTime = d.intervalTime - a;
                this._doSeek = !0;
                if (!this._isPlaying || this.playReversed) {
                    var b = this._isPlaying;
                    d.intervalTime = d.currentTime;
                    if (c && 0 < this.startDelay && 0 <= this.delayedStartTime) {
                        this.removeFromDelayedAnimations();
                        b = a - this.startDelay;
                        this.playReversed && (b -= this.duration);
                        0 > b ? this.addToDelayedAnimations(this.startDelay - a) : (a -= this.startDelay, this.isPlaying || this.start(), this.startTime = this.cycleStartTime = d.intervalTime - a, this.doInterval(), this._doSeek = !1);
                        return
                    }
                    b || (this.sendAnimationEvent("startFunction"),
                            this.setupInterpolation());
                    this.startTime = this.cycleStartTime = d.intervalTime - a
                }
                this.doInterval();
                this._doSeek = !1
            };
            b.setupInterpolation = function () {
                if (this.interpolator && this.motionPaths)
                    for (var a = 0; a < this.motionPaths.length; ++a)
                        this.motionPaths[a].interpolator = this.interpolator
            };
            b.reverse = function () {
                this._isPlaying ? (this._doReverse = !1, this.seek(this.duration - this._cycleTime), this._invertValues = !this._invertValues) : this._doReverse = !this._doReverse
            };
            b.pause = function () {
                0 <= this.delayedStartTime && (this.delayTime =
                        this.delayedStartTime - d.currentTime, this.removeFromDelayedAnimations());
                this._isPlaying = !1
            };
            b.stopAnimation = function () {
                this.removeFromDelayedAnimations();
                0 <= this.id && (d.removeAnimationAt(this.id), this.id = -1, this._isPlaying = this._invertValues = !1)
            };
            b.stop = function () {
                this.stopAnimation();
                this.sendAnimationEvent("stopFunction")
            };
            b.resume = function () {
                this._isPlaying = !0;
                0 <= this.delayTime ? this.addToDelayedAnimations(this.delayTime) : (this.cycleStartTime = d.intervalTime - this._cycleTime, this.startTime = d.intervalTime -
                        this._playheadTime, this._doReverse && (this.reverse(), this._doReverse = !1))
            };
            b.repeat = function (a) {
                this.repeatBehavior == f.RepeatBehavior.REVERSE && (this._invertValues = !this._invertValues);
                this.calculateValue(0);
                this.sendAnimationEvent("repeatFunction");
                this.sendUpdateEvent();
                d.addAnimation(this)
            };
            b.start = function (a) {
                a = 0;
                if (!this.playReversed && 0 <= this.delayedStartTime) {
                    var c = d.currentTime - this.delayedStartTime;
                    0 < c && (a = Math.min(c, this.duration));
                    this.removeFromDelayedAnimations()
                }
                this.sendAnimationEvent("startFunction");
                this.setupInterpolation();
                this.calculateValue(0);
                this.sendUpdateEvent();
                d.addAnimation(this);
                this.startTime = this.cycleStartTime;
                this._isPlaying = !0;
                0 < a && this.seek(a);
                this.started = !0
            };
            d.pulse = function () {
                if (0 > d.startTime)
                    return d.startTime = e.getTimer(), d._currentTime = 0, d._currentTime;
                d._currentTime = e.getTimer() - d.startTime;
                return d._currentTime
            };
            Object.defineProperty(d, "currentTime", {
                get: function () {
                    return 0 > d._currentTime ? d.pulse() : d._currentTime
                },
                enumerable: !0,
                configurable: !0
            });
            d.TIMER_RESOLUTION = 1E3 /
                    60;
            d.defaultEaser = new f.Sine(0.5);
            d.intervalTime = NaN;
            d.activeAnimations = [];
            d.timer = null;
            d.delayedStartAnims = [];
            d.startTime = -1;
            d._currentTime = -1;
            return d
        }();
        f.Animation = g;
        g.prototype.__class__ = "egret.gui.Animation"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(c) {
                d.call(this);
                this.delayElapsedTime = this.delayStartTime = 0;
                this.durationExplicitlySet = !1;
                this._playCount = 0;
                this._stopRepeat = !1;
                this._duration = 500;
                this._startDelay = this._repeatDelay = this._repeatCount = 0;
                this.target = c
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "_actualDuration", {
                get: function () {
                    var c = NaN;
                    0 < this.repeatCount && (c = this.duration * this.repeatCount + this.repeatDelay * (this.repeatCount - 1) + this.startDelay);
                    return c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "duration", {
                get: function () {
                    return !this.durationExplicitlySet && this.parentCompositeEffectInstance ? this.parentCompositeEffectInstance.duration : this._duration
                },
                set: function (c) {
                    this.durationExplicitlySet = !0;
                    this._duration = c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "effect", {
                get: function () {
                    return this._effect
                },
                set: function (c) {
                    this._effect = c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "playheadTime", {
                get: function () {
                    return Math.max(this._playCount -
                            1, 0) * (this.duration + this.repeatDelay) + (this.playReversed ? 0 : this.startDelay)
                },
                set: function (c) {
                    this._setPlayheadTime(c)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setPlayheadTime = function (c) {
                this._delayTimer && this._delayTimer.running && (this._delayTimer.reset(), c < this.startDelay ? (this._delayTimer = new e.Timer(this.startDelay - c, 1), this.delayStartTime = e.getTimer(), this._delayTimer.addEventListener(e.TimerEvent.TIMER, this.delayTimerHandler, this), this._delayTimer.start()) : (this._playCount = 0, this.play()))
            };
            Object.defineProperty(a,
                    "playReversed", {
                        get: function () {
                            return this._playReversed
                        },
                        set: function (c) {
                            this._setPlayReversed(c)
                        },
                        enumerable: !0,
                        configurable: !0
                    });
            a._setPlayReversed = function (c) {
                this._playReversed = c
            };
            Object.defineProperty(a, "repeatCount", {
                get: function () {
                    return this._repeatCount
                },
                set: function (c) {
                    this._repeatCount = c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "repeatDelay", {
                get: function () {
                    return this._repeatDelay
                },
                set: function (c) {
                    this._repeatDelay = c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a,
                    "startDelay", {
                        get: function () {
                            return this._startDelay
                        },
                        set: function (c) {
                            this._startDelay = c
                        },
                        enumerable: !0,
                        configurable: !0
                    });
            Object.defineProperty(a, "target", {
                get: function () {
                    return this._target
                },
                set: function (c) {
                    this._target = c
                },
                enumerable: !0,
                configurable: !0
            });
            a.startEffect = function () {
                0 < this.startDelay && !this.playReversed ? (this._delayTimer = new e.Timer(this.startDelay, 1), this.delayStartTime = e.getTimer(), this._delayTimer.addEventListener(e.TimerEvent.TIMER, this.delayTimerHandler, this), this._delayTimer.start()) :
                        this.play()
            };
            a.play = function () {
                this._playCount++;
                this.dispatchEvent(new f.EffectEvent(f.EffectEvent.EFFECT_START, !1, !1, this));
                this.target && "dispatchEvent" in this.target && this.target.dispatchEvent(new f.EffectEvent(f.EffectEvent.EFFECT_START, !1, !1, this))
            };
            a.pause = function () {
                this._delayTimer && this._delayTimer.running && !isNaN(this.delayStartTime) && (this._delayTimer.stop(), this.delayElapsedTime = e.getTimer() - this.delayStartTime)
            };
            a.stop = function () {
                this._delayTimer && this._delayTimer.reset();
                this._stopRepeat = !0;
                this.dispatchEvent(new f.EffectEvent(f.EffectEvent.EFFECT_STOP, !1, !1, this));
                this.target && "dispatchEvent" in this.target && this.target.dispatchEvent(new f.EffectEvent(f.EffectEvent.EFFECT_STOP, !1, !1, this));
                this.finishEffect()
            };
            a.resume = function () {
                !this._delayTimer || this._delayTimer.running || isNaN(this.delayElapsedTime) || (this._delayTimer.delay = this.playReversed ? this.delayElapsedTime : this._delayTimer.delay - this.delayElapsedTime, this.delayStartTime = e.getTimer(), this._delayTimer.start())
            };
            a.reverse =
                    function () {
                        0 < this.repeatCount && (this._playCount = this.repeatCount - this._playCount + 1)
                    };
            a.end = function () {
                this._delayTimer && this._delayTimer.reset();
                this._stopRepeat = !0;
                this.finishEffect()
            };
            a.finishEffect = function () {
                this._playCount = 0;
                this.dispatchEvent(new f.EffectEvent(f.EffectEvent.EFFECT_END, !1, !1, this));
                this.target && "dispatchEvent" in this.target && this.target.dispatchEvent(new f.EffectEvent(f.EffectEvent.EFFECT_END, !1, !1, this))
            };
            a.finishRepeat = function () {
                !this._stopRepeat && 0 != this._playCount && (this._playCount <
                        this.repeatCount || 0 == this.repeatCount) ? 0 < this.repeatDelay ? (this._delayTimer = new e.Timer(this.repeatDelay, 1), this.delayStartTime = e.getTimer(), this._delayTimer.addEventListener(e.TimerEvent.TIMER, this.delayTimerHandler, this), this._delayTimer.start()) : this.play() : this.finishEffect()
            };
            a._playWithNoDuration = function () {
                this.duration = 0;
                this.repeatCount = 1;
                this.startDelay = this.repeatDelay = 0;
                this.startEffect()
            };
            a.delayTimerHandler = function (c) {
                this._delayTimer.reset();
                this.delayElapsedTime = this.delayStartTime =
                        NaN;
                this.play()
            };
            return b
        }(e.EventDispatcher);
        f.EffectInstance = g;
        g.prototype.__class__ = "egret.gui.EffectInstance"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b(c) {
                d.call(this, c);
                this._activeEffectQueue = [];
                this._playheadTime = 0;
                this._childSets = []
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "_actualDuration", {
                get: function () {
                    var c = NaN;
                    0 < this.repeatCount && (c = this._durationWithoutRepeat * this.repeatCount + this.repeatDelay * (this.repeatCount - 1) + this.startDelay);
                    return c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "playheadTime", {
                get: function () {
                    return this._playheadTime
                },
                enumerable: !0,
                configurable: !0
            });
            a._setPlayheadTime = function (c) {
                this._timerAnimation ? this._timerAnimation.playheadTime = c : this._playheadTime = c;
                d.prototype._setPlayheadTime.call(this, c)
            };
            Object.defineProperty(a, "_durationWithoutRepeat", {
                get: function () {
                    return 0
                },
                enumerable: !0,
                configurable: !0
            });
            a.play = function () {
                this._timerAnimation = new e.Animation(this.animationUpdate, this);
                this._timerAnimation.duration = this._durationWithoutRepeat;
                this._timerAnimation.motionPaths = [new e.SimpleMotionPath("timer", 0, 0)];
                this._timerAnimation.endFunction =
                        this.animationEnd;
                this._timerAnimation.play();
                d.prototype.play.call(this)
            };
            a.pause = function () {
                d.prototype.pause.call(this);
                this._timerAnimation && this._timerAnimation.pause()
            };
            a.stop = function () {
                d.prototype.stop.call(this);
                this._timerAnimation && this._timerAnimation.stop()
            };
            a.end = function () {
                d.prototype.end.call(this);
                this._timerAnimation && this._timerAnimation.end()
            };
            a.resume = function () {
                d.prototype.resume.call(this);
                this._timerAnimation && this._timerAnimation.resume()
            };
            a.reverse = function () {
                d.prototype.reverse.call(this);
                this._setPlayReversed(!this.playReversed);
                this._timerAnimation && this._timerAnimation.reverse()
            };
            a.finishEffect = function () {
                this._activeEffectQueue = null;
                d.prototype.finishEffect.call(this)
            };
            a.addChildSet = function (c) {
                if (c) {
                    var a = c.length;
                    if (0 < a) {
                        this._childSets ? this._childSets.push(c) : this._childSets = [c];
                        for (var b = 0; b < a; b++)
                            c[b].addEventListener(e.EffectEvent.EFFECT_END, this._effectEndHandler, this), c[b].parentCompositeEffectInstance = this
                    }
                }
            };
            a._playWithNoDuration = function () {
                d.prototype._playWithNoDuration.call(this);
                this.end()
            };
            a.animationUpdate = function (c) {
                this._playheadTime = this._timerAnimation ? this._timerAnimation.playheadTime : this._playheadTime
            };
            a.animationEnd = function (c) {
                this._playheadTime = this._timerAnimation ? this._timerAnimation.playheadTime : this._playheadTime
            };
            a._onEffectEnd = function (c) {
            };
            a._effectEndHandler = function (c) {
                this._onEffectEnd(c.effectInstance)
            };
            return b
        }(e.EffectInstance);
        e.CompositeEffectInstance = g;
        g.prototype.__class__ = "egret.gui.CompositeEffectInstance"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(c) {
                void 0 === c && (c = null);
                d.call(this);
                this._instances = [];
                this._isPaused = !1;
                this._duration = 500;
                this.durationExplicitlySet = !1;
                this._perElementOffset = 0;
                this.repeatCount = 1;
                this.startDelay = this.repeatDelay = 0;
                this._targets = [];
                this._playheadTime = 0;
                this.target = c
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "duration", {
                get: function () {
                    return !this.durationExplicitlySet && this._parentCompositeEffect ? this._parentCompositeEffect.duration : this._duration
                },
                set: function (c) {
                    this.durationExplicitlySet = !0;
                    this._duration = c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "isPlaying", {
                get: function () {
                    return this._instances && 0 < this._instances.length
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "isPaused", {
                get: function () {
                    return this.isPlaying ? this._isPaused : !1
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "perElementOffset", {
                get: function () {
                    return this._perElementOffset
                },
                set: function (c) {
                    this._perElementOffset = c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "target", {
                get: function () {
                    return 0 < this._targets.length ? this._targets[0] : null
                },
                set: function (c) {
                    this._targets.splice(0);
                    c && (this._targets[0] = c)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "targets", {
                get: function () {
                    return this._targets
                },
                set: function (c) {
                    for (var a = c.length - 1; 0 <= a; a--)
                        null == c[a] && c.splice(a, 1);
                    this._targets = c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "playheadTime", {
                get: function () {
                    for (var c = 0; c < this._instances.length; c++)
                        if (this._instances[c])
                            return this._instances[c].playheadTime;
                    return this._playheadTime
                },
                set: function (c) {
                    var a = !1;
                    0 == this._instances.length && (this.play(), a = !0);
                    for (var b = 0; b < this._instances.length; b++)
                        this._instances[b] && (this._instances[b].playheadTime = c);
                    a && this.pause();
                    this._playheadTime = c
                },
                enumerable: !0,
                configurable: !0
            });
            a.createInstances = function (c) {
                void 0 === c && (c = null);
                c || (c = this.targets);
                for (var a = [], b = 0, d = c.length, e = 0; e < d; e++) {
                    var f = this.createInstance(c[e]);
                    f && (f.startDelay += b, b += this.perElementOffset, a.push(f))
                }
                return a
            };
            a.createInstance = function (c) {
                void 0 ===
                        c && (c = null);
                c || (c = this.target);
                c = new this.instanceClass(c);
                this._initInstance(c);
                c.addEventListener(f.EffectEvent.EFFECT_START, this._effectStartHandler, this);
                c.addEventListener(f.EffectEvent.EFFECT_STOP, this._effectStopHandler, this);
                c.addEventListener(f.EffectEvent.EFFECT_END, this._effectEndHandler, this);
                this._instances.push(c);
                return c
            };
            a._initInstance = function (c) {
                c.duration = this.duration;
                c.durationExplicitlySet = this.durationExplicitlySet;
                c.effect = this;
                c.repeatCount = this.repeatCount;
                c.repeatDelay =
                        this.repeatDelay;
                c.startDelay = this.startDelay
            };
            a.deleteInstance = function (c) {
                c.removeEventListener(f.EffectEvent.EFFECT_START, this._effectStartHandler, this);
                c.removeEventListener(f.EffectEvent.EFFECT_STOP, this._effectStopHandler, this);
                c.removeEventListener(f.EffectEvent.EFFECT_END, this._effectEndHandler, this);
                for (var a = this._instances.length, b = 0; b < a; b++)
                    this._instances[b] === c && this._instances.splice(b, 1)
            };
            a.play = function (c, a) {
                void 0 === c && (c = null);
                void 0 === a && (a = !1);
                this._isPaused = this.effectStopped = !1;
                this.playReversed = a;
                for (var b = this.createInstances(c), d = b.length, e = 0; e < d; e++) {
                    var f = b[e];
                    f.playReversed = a;
                    f.startEffect()
                }
                return b
            };
            a.pause = function () {
                if (this.isPlaying && !this._isPaused) {
                    this._isPaused = !0;
                    for (var c = this._instances.length, a = 0; a < c; a++)
                        this._instances[a].pause()
                }
            };
            a.stop = function () {
                for (var c = this._instances.length - 1; 0 <= c; c--) {
                    var a = this._instances[c];
                    a && a.stop()
                }
            };
            a.resume = function () {
                if (this.isPlaying && this._isPaused) {
                    this._isPaused = !1;
                    for (var c = this._instances.length, a = 0; a < c; a++)
                        this._instances[a].resume()
                }
            };
            a.reverse = function () {
                if (this.isPlaying)
                    for (var c = this._instances.length, a = 0; a < c; a++)
                        this._instances[a].reverse()
            };
            a.end = function (c) {
                void 0 === c && (c = null);
                if (c)
                    c.end();
                else
                    for (c = this._instances.length - 1; 0 <= c; c--) {
                        var a = this._instances[c];
                        a && a.end()
                    }
            };
            a._effectStartHandler = function (c) {
                this.dispatchEvent(c)
            };
            a._effectStopHandler = function (c) {
                this.dispatchEvent(c);
                this.effectStopped = !0
            };
            a._effectEndHandler = function (c) {
                this.deleteInstance(c.effectInstance);
                this.dispatchEvent(c)
            };
            return b
        }(e.EventDispatcher);
        f.Effect = g;
        g.prototype.__class__ = "egret.gui.Effect"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b(c) {
                void 0 === c && (c = null);
                d.call(this, c);
                this._children = [];
                this.instanceClass = e.CompositeEffectInstance
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "children", {
                get: function () {
                    return this._children
                },
                set: function (c) {
                    var a = 0;
                    if (this._children)
                        for (a = 0; a < this._children.length; ++a)
                            this._children[a] && (this._children[a]._parentCompositeEffect = null);
                    if (this._children = c)
                        for (a = 0; a < this._children.length; ++a)
                            this._children[a] && (this._children[a]._parentCompositeEffect =
                                    this)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "compositeDuration", {
                get: function () {
                    return this.duration
                },
                enumerable: !0,
                configurable: !0
            });
            a.createInstance = function (c) {
                void 0 === c && (c = null);
                this.childTargets || (this.childTargets = [c]);
                c = d.prototype.createInstance.call(this, c);
                this.childTargets = null;
                return c
            };
            a.createInstances = function (c) {
                void 0 === c && (c = null);
                c || (c = this.targets);
                this.childTargets = c;
                c = this.createInstance();
                this.childTargets = null;
                return c ? [c] : []
            };
            a._initInstance = function (c) {
                d.prototype._initInstance.call(this,
                        c);
                var a = this.childTargets;
                a instanceof Array || (a = [a]);
                if (this.children)
                    for (var b = this.children.length, e = 0; e < b; e++) {
                        var f = this.children[e];
                        0 == f.targets.length ? c.addChildSet(this.children[e].createInstances(a)) : c.addChildSet(this.children[e].createInstances(f.targets))
                    }
            };
            a.addChild = function (c) {
                this.children.push(c);
                c._parentCompositeEffect = this
            };
            return b
        }(e.Effect);
        e.CompositeEffect = g;
        g.prototype.__class__ = "egret.gui.CompositeEffect"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function () {
            function d() {
            }
            d.END = "end";
            d.STOP = "stop";
            return d
        }();
        e.InterruptionBehavior = g;
        g.prototype.__class__ = "egret.gui.InterruptionBehavior"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function () {
            return function () {
                this.toState = this.fromState = "*";
                this.autoReverse = !1;
                this.interruptionBehavior = e.InterruptionBehavior.END
            }
        }();
        e.Transition = g;
        g.prototype.__class__ = "egret.gui.Transition"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(c, a) {
                void 0 === a && (a = !0);
                d.call(this);
                this.scale9Grid = null;
                this.fillMode = "scale";
                this.sourceChanged = !1;
                this._content = this._source = null;
                this.contentReused = this.createChildrenCalled = this._contentIsTexture = !1;
                this.autoScale = !0;
                this.touchChildren = !1;
                c && (this.source = c);
                this.autoScale = a
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "source", {
                get: function () {
                    return this._source
                },
                set: function (c) {
                    this._source != c && (this._source = c, this.createChildrenCalled ?
                            this.parseSource() : this.sourceChanged = !0, this._setSizeDirty())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "content", {
                get: function () {
                    return this._content
                },
                enumerable: !0,
                configurable: !0
            });
            a.createChildren = function () {
                d.prototype.createChildren.call(this);
                this.sourceChanged && this.parseSource();
                this.createChildrenCalled = !0
            };
            a.parseSource = function () {
                this.sourceChanged = !1;
                var c = b.assetAdapter;
                c || (c = this.getAdapter());
                if (this._source) {
                    var a = this.contentReused ? null : this._content;
                    this.contentReused = !0;
                    c.getAsset(this._source, this.contentChanged, this, a)
                } else
                    this.contentChanged(null, null)
            };
            a.getAdapter = function () {
                var c;
                try {
                    c = e.Injector.getInstance("egret.gui.IAssetAdapter")
                } catch (a) {
                    c = new f.DefaultAssetAdapter
                }
                return b.assetAdapter = c
            };
            a.contentChanged = function (c, a) {
                if (a === this._source) {
                    var b = this._content;
                    this._content = c;
                    this._content instanceof e.Texture ? (this._texture_to_render = c, this._contentIsTexture = !0) : (this._texture_to_render = null, this._contentIsTexture = !1);
                    b !== c && (b instanceof e.DisplayObject &&
                            b.parent == this && (b._sizeChangeCallBack = null, b._sizeChangeCallTarget = null, this._removeFromDisplayList(b)), c instanceof e.DisplayObject && (c._sizeChangeCallBack = this.invalidateSize, c._sizeChangeCallTarget = this, this._addToDisplayListAt(c, 0)));
                    this.invalidateSize();
                    this.invalidateDisplayList();
                    this.contentReused = !1;
                    this.hasEventListener(f.UIEvent.CONTENT_CHANGED) && f.UIEvent.dispatchUIEvent(this, f.UIEvent.CONTENT_CHANGED)
                }
            };
            a.measure = function () {
                d.prototype.measure.call(this);
                var c = this._content;
                if (c instanceof e.DisplayObject)
                    if ("preferredWidth" in c)
                        this.measuredWidth = c.preferredWidth, this.measuredHeight = c.preferredHeight;
                    else {
                        var a = c.explicitWidth,
                                b = c.explicitHeight;
                        c.width = NaN;
                        c.height = NaN;
                        this.measuredWidth = c.measuredWidth * c.scaleX;
                        this.measuredHeight = c.measuredHeight * c.scaleY;
                        c.width = a;
                        c.height = b
                    }
                else
                    this._contentIsTexture && (this.measuredWidth = c._textureWidth, this.measuredHeight = c._textureHeight)
            };
            a.updateDisplayList = function (c, a) {
                d.prototype.updateDisplayList.call(this, c, a);
                var b = this._content;
                this.autoScale &&
                        b instanceof e.DisplayObject && ("setLayoutBoundsSize" in b ? b.setLayoutBoundsSize(c, a) : (b.width = c / b.scaleX, b.height = a / b.scaleY));
                this._setSizeDirty()
            };
            a._render = function (c) {
                if (this._contentIsTexture) {
                    var a = this._content,
                            b, f;
                    this.autoScale ? (b = this._UIC_Props_._width, f = this._UIC_Props_._height) : (b = a._textureWidth, f = a._textureHeight);
                    this._texture_to_render = a;
                    e.Bitmap._drawBitmap(c, b, f, this)
                }
                d.prototype._render.call(this, c)
            };
            a._measureBounds = function () {
                if (this._contentIsTexture) {
                    var c = this._content,
                            a = this.width,
                            b = this.height;
                    return e.Rectangle.identity.initialize(Math.floor(c._offsetX * a / c._textureWidth), Math.floor(c._offsetY * b / c._textureHeight), a, b)
                }
                return d.prototype._measureBounds.call(this)
            };
            a.addChild = function (c) {
                throw Error(e.getString(3004, e.getString(3003)));
            };
            a.addChildAt = function (c, a) {
                throw Error(e.getString(3005, e.getString(3003)));
            };
            a.removeChild = function (c) {
                throw Error(e.getString(3006, e.getString(3003)));
            };
            a.removeChildAt = function (c) {
                throw Error(e.getString(3007, e.getString(3003)));
            };
            a.setChildIndex =
                    function (c, a) {
                        throw Error(e.getString(3008, e.getString(3003)));
                    };
            a.swapChildren = function (c, a) {
                throw Error(e.getString(3009, e.getString(3003)));
            };
            a.swapChildrenAt = function (c, a) {
                throw Error(e.getString(3010, e.getString(3003)));
            };
            b.assetAdapter = null;
            return b
        }(f.UIComponent);
        f.UIAsset = g;
        g.prototype.__class__ = "egret.gui.UIAsset"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.hostComponentKey = null;
                this._skinNameExplicitlySet = !1;
                this._skinName = null;
                this._createChildrenCalled = !1;
                this._skin = null;
                this.stateIsDirty = this.skinLayoutEnabled = !1;
                this.explicitMouseEnabled = this.explicitMouseChildren = this._autoMouseEnabled = !0
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinName", {
                get: function () {
                    return this._skinName
                },
                set: function (c) {
                    this._skinName != c && (this._skinName = c, this._skinNameExplicitlySet = !0, this._createChildrenCalled && this.parseSkinName())
                },
                enumerable: !0,
                configurable: !0
            });
            a.createChildren = function () {
                d.prototype.createChildren.call(this);
                this.parseSkinName();
                this._createChildrenCalled = !0
            };
            a.parseSkinName = function () {
                var c = b.skinAdapter;
                c || (c = this.getSkinAdapter());
                var a = this.hostComponentKey || e.getQualifiedClassName(this),
                        c = c.getSkin(this._skinName, a);
                c || (a = b._defaultTheme) && (c = a.getDefaultSkin(this));
                this._setSkin(c)
            };
            a.getSkinAdapter = function () {
                var c;
                try {
                    c = e.Injector.getInstance("egret.gui.ISkinAdapter")
                } catch (a) {
                    c =
                            new f.DefaultSkinAdapter
                }
                return b.skinAdapter = c
            };
            Object.defineProperty(a, "skin", {
                get: function () {
                    return this._skin
                },
                enumerable: !0,
                configurable: !0
            });
            a._setSkin = function (c) {
                var a = this._skin;
                this.detachSkin(a);
                a instanceof e.DisplayObject && this._removeFromDisplayList(a);
                this._skin = c;
                c instanceof e.DisplayObject && this._addToDisplayListAt(this._skin, 0);
                this.attachSkin(c);
                this.invalidateSkinState();
                this.invalidateSize();
                this.invalidateDisplayList();
                this.hasEventListener(f.UIEvent.SKIN_CHANGED) && f.UIEvent.dispatchUIEvent(this,
                        f.UIEvent.SKIN_CHANGED)
            };
            a.attachSkin = function (c) {
                this.skinLayoutEnabled = !c || c instanceof e.DisplayObject ? !1 : !0;
                c && "hostComponent" in c && (c.hostComponent = this, this.findSkinParts())
            };
            a.findSkinParts = function () {
                var c = this._skin;
                if (c && "skinParts" in c)
                    for (var a = c.skinParts, b = a.length, d = 0; d < b; d++) {
                        var e = a[d];
                        if (e in c)
                            try {
                                this[e] = c[e], this.partAdded(e, c[e])
                            } catch (f) {
                            }
                    }
            };
            a.detachSkin = function (c) {
                if (c) {
                    if ("skinParts" in c)
                        for (var a = c.skinParts, b = a.length, d = 0; d < b; d++) {
                            var e = a[d];
                            e in this && (null != this[e] &&
                                    this.partRemoved(e, this[e]), this[e] = null)
                        }
                    c.hostComponent = null
                }
            };
            a.partAdded = function (c, a) {
                f.SkinPartEvent.dispatchSkinPartEvent(this, f.SkinPartEvent.PART_ADDED, c, a)
            };
            a.partRemoved = function (c, a) {
                f.SkinPartEvent.dispatchSkinPartEvent(this, f.SkinPartEvent.PART_REMOVED, c, a)
            };
            a.invalidateSkinState = function () {
                this.stateIsDirty || (this.stateIsDirty = !0, this.invalidateProperties())
            };
            a.validateSkinState = function () {
                var c = this.getCurrentSkinState(),
                        a = this._skin;
                a && "currentState" in a && (a.currentState = c);
                this.hasEventListener("stateChanged") &&
                        this.dispatchEventWith("stateChanged")
            };
            Object.defineProperty(a, "autoTouchEnabled", {
                get: function () {
                    return this._autoMouseEnabled
                },
                set: function (c) {
                    this._autoMouseEnabled != c && ((this._autoMouseEnabled = c) ? (this._touchChildren = this.enabled ? this.explicitMouseChildren : !1, this._DO_Props_._touchEnabled = this.enabled ? this.explicitMouseEnabled : !1) : (this._touchChildren = this.explicitMouseChildren, this._DO_Props_._touchEnabled = this.explicitMouseEnabled))
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a,
                    "touchChildren", {
                        get: function () {
                            return this._touchChildren
                        },
                        set: function (c) {
                            this.enabled && (this._touchChildren = c);
                            this.explicitMouseChildren = c
                        },
                        enumerable: !0,
                        configurable: !0
                    });
            Object.defineProperty(a, "touchEnabled", {
                get: function () {
                    return this._DO_Props_._touchEnabled
                },
                set: function (c) {
                    this.enabled && (this._DO_Props_._touchEnabled = c);
                    this.explicitMouseEnabled = c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "enabled", {
                get: function () {
                    return this._UIC_Props_._enabled
                },
                set: function (c) {
                    this._setEnabled(c)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setEnabled = function (c) {
                this._UIC_Props_._enabled != c && (this._UIC_Props_._enabled = c, this._autoMouseEnabled && (this._touchChildren = c ? this.explicitMouseChildren : !1, this._DO_Props_._touchEnabled = c ? this.explicitMouseEnabled : !1), this.invalidateSkinState())
            };
            a.getCurrentSkinState = function () {
                return this.enabled ? "normal" : "disabled"
            };
            a.commitProperties = function () {
                d.prototype.commitProperties.call(this);
                this.stateIsDirty && (this.stateIsDirty = !1, this.validateSkinState())
            };
            a._childXYChanged =
                    function () {
                        this.skinLayoutEnabled && (this.invalidateSize(), this.invalidateDisplayList())
                    };
            a.measure = function () {
                d.prototype.measure.call(this);
                var c = this._skin;
                c && (this.skinLayoutEnabled ? (c.measure(), this.measuredWidth = c.preferredWidth, this.measuredHeight = c.preferredHeight) : "preferredWidth" in c ? (this.measuredWidth = c.preferredWidth, this.measuredHeight = c.preferredHeight) : (this.measuredWidth = c.width, this.measuredHeight = c.height))
            };
            a.updateDisplayList = function (c, a) {
                d.prototype.updateDisplayList.call(this,
                        c, a);
                var b = this._skin;
                b && (this.skinLayoutEnabled ? b.updateDisplayList(c, a) : "setLayoutBoundsSize" in b ? b.setLayoutBoundsSize(c, a) : b instanceof e.DisplayObject && (b.scaleX = 0 == b.width ? 1 : c / b.width, b.scaleY = 0 == b.height ? 1 : a / b.height))
            };
            a.addChild = function (c) {
                throw Error(e.getString(3004, e.getString(3003)));
            };
            a.addChildAt = function (c, a) {
                throw Error(e.getString(3005, e.getString(3003)));
            };
            a.removeChild = function (c) {
                throw Error(e.getString(3006, e.getString(3003)));
            };
            a.removeChildAt = function (c) {
                throw Error(e.getString(3007,
                        e.getString(3003)));
            };
            a.setChildIndex = function (c, a) {
                throw Error(e.getString(3008, e.getString(3003)));
            };
            a.swapChildren = function (c, a) {
                throw Error(e.getString(3009, e.getString(3003)));
            };
            a.swapChildrenAt = function (c, a) {
                throw Error(e.getString(3010, e.getString(3003)));
            };
            b.skinAdapter = null;
            b._defaultTheme = null;
            return b
        }(f.UIComponent);
        f.SkinnableComponent = g;
        g.prototype.__class__ = "egret.gui.SkinnableComponent"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function () {
            function d() {
            }
            d.prototype.getSkin = function (b, a) {
                if (!b)
                    return null;
                if (b.prototype)
                    return new b;
                if ("string" == typeof b) {
                    var c = e.getDefinitionByName(b);
                    return c ? new c : null
                }
                return b
            };
            return d
        }();
        f.DefaultSkinAdapter = g;
        g.prototype.__class__ = "egret.gui.DefaultSkinAdapter"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function () {
            function d() {
            }
            d.prototype.getAsset = function (b, a, c, d) {
                var f = b;
                b.prototype && (f = new b);
                if (f instanceof e.DisplayObject || f instanceof e.Texture)
                    a.call(c, f, b);
                else if ("string" == typeof b) {
                    var g = new e.URLLoader;
                    g.dataFormat = e.URLLoaderDataFormat.TEXTURE;
                    g.addEventListener(e.Event.COMPLETE, function (d) {
                        f = g.data;
                        a.call(c, f, b)
                    }, this);
                    g.load(new e.URLRequest(b))
                } else
                    a.call(c, f, b)
            };
            return d
        }();
        f.DefaultAssetAdapter = g;
        g.prototype.__class__ = "egret.gui.DefaultAssetAdapter"
    })(e.gui ||
            (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function () {
            function d(a) {
                this.skinMap = {};
                this.delyList = [];
                this.loadConfig(a)
            }
            var b = d.prototype;
            d.load = function (a) {
                this.initialized || (this.initialized = !0, f.SkinnableComponent._defaultTheme = new d(a))
            };
            b.loadConfig = function (a) {
                var c = new e.URLLoader;
                c.addEventListener(e.Event.COMPLETE, this.onLoadComplete, this);
                c.addEventListener(e.IOErrorEvent.IO_ERROR, this.onLoadError, this);
                c.dataFormat = e.URLLoaderDataFormat.TEXT;
                c.load(new e.URLRequest(a))
            };
            b.onLoadComplete = function (a) {
                a =
                        a.target;
                try {
                    this.skinMap = JSON.parse(a.data).skins
                } catch (c) {
                    e.Logger.warningWithErrorId(1017, a._request.url, a.data)
                }
                this.handleDelyList()
            };
            b.onLoadError = function (a) {
                e.Logger.warningWithErrorId(3E3, a.target._request.url);
                this.handleDelyList()
            };
            b.handleDelyList = function () {
                if (this.skinMap) {
                    var a = this.delyList;
                    this.delyList = [];
                    for (var c = a.length, b = 0; b < c; b++) {
                        var d = a[b];
                        if (!d._skin) {
                            var e = this.getDefaultSkin(d);
                            d._setSkin(e)
                        }
                    }
                } else
                    this.skinMap = {}, this.delyList = []
            };
            b.getDefaultSkin = function (a) {
                var c = this.skinMap;
                if (!c)
                    return -1 == this.delyList.indexOf(a) && this.delyList.push(a), null;
                var b, d = a.hostComponentKey;
                if (d)
                    b = c[d];
                else
                    for (; a; ) {
                        d = e.getQualifiedClassName(a);
                        if (b = c[d])
                            break;
                        a = e.getDefinitionByName(e.getQualifiedSuperclassName(a))
                    }
                if (!b)
                    return null;
                c = e.getDefinitionByName(b);
                return c ? new c : (e.Logger.warningWithErrorId(3001, b), null)
            };
            d.initialized = !1;
            return d
        }();
        f.Theme = g;
        g.prototype.__class__ = "egret.gui.Theme"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this._target = null
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "target", {
                get: function () {
                    return this._target
                },
                set: function (c) {
                    this._target = c
                },
                enumerable: !0,
                configurable: !0
            });
            a.measure = function () {
                if (null != this.target) {
                    for (var c = 0, a = 0, b = this._target, d = b.numElements, e = 0; e < d; e++) {
                        var f = b.getElementAt(e);
                        if (f && f.includeInLayout) {
                            var g = f.horizontalCenter,
                                    k = f.verticalCenter,
                                    m = f.left,
                                    n = f.right,
                                    p = f.top,
                                    q = f.bottom;
                            isNaN(m) || isNaN(n) ?
                                    isNaN(g) ? isNaN(m) && isNaN(n) ? g = f.preferredX : (g = isNaN(m) ? 0 : m, g += isNaN(n) ? 0 : n) : g = 2 * Math.abs(g) : g = m + n;
                            isNaN(p) || isNaN(q) ? isNaN(k) ? isNaN(p) && isNaN(q) ? k = f.preferredY : (k = isNaN(p) ? 0 : p, k += isNaN(q) ? 0 : q) : k = 2 * Math.abs(k) : k = p + q;
                            q = f.preferredHeight;
                            c = Math.ceil(Math.max(c, g + f.preferredWidth));
                            a = Math.ceil(Math.max(a, k + q))
                        }
                    }
                    this.target.measuredWidth = c;
                    this.target.measuredHeight = a
                }
            };
            a.updateDisplayList = function (c, a) {
                if (null != this.target)
                    for (var b = this.target.numElements, d = 0; d < b; d++) {
                        var e = this.target.getElementAt(d);
                        if (null != e && e.includeInLayout) {
                            var f = e.horizontalCenter,
                                    g = e.verticalCenter,
                                    k = e.left,
                                    m = e.right,
                                    n = e.top,
                                    p = e.bottom,
                                    q = e.percentWidth,
                                    u = e.percentHeight,
                                    y = NaN,
                                    s = NaN;
                            isNaN(k) || isNaN(m) ? isNaN(q) || (y = Math.round(c * Math.min(0.01 * q, 1))) : y = c - m - k;
                            isNaN(n) || isNaN(p) ? isNaN(u) || (s = Math.round(a * Math.min(0.01 * u, 1))) : s = a - p - n;
                            e.setLayoutBoundsSize(y, s);
                            q = e.layoutBoundsWidth;
                            u = e.layoutBoundsHeight;
                            s = y = NaN;
                            y = isNaN(f) ? isNaN(k) ? isNaN(m) ? e.layoutBoundsX : c - q - m : k : Math.round((c - q) / 2 + f);
                            s = isNaN(g) ? isNaN(n) ? isNaN(p) ? e.layoutBoundsY :
                                    a - u - p : n : Math.round((a - u) / 2 + g);
                            e.setLayoutBoundsPosition(y, s)
                        }
                    }
            };
            return b
        }(e.HashObject);
        f.SkinBasicLayout = g;
        g.prototype.__class__ = "egret.gui.SkinBasicLayout"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this._downEventFired = !1;
                this.labelDisplay = this.autoRepeatTimer = null;
                this._autoRepeat = !1;
                this._repeatInterval = this._repeatDelay = 35;
                this._keepDown = this._hovered = !1;
                this._label = "";
                this.touchChildren = this._stickyHighlighting = this._mouseCaptured = !1;
                this.addHandlers()
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "autoRepeat", {
                get: function () {
                    return this._autoRepeat
                },
                set: function (c) {
                    c != this._autoRepeat && (this._autoRepeat = c,
                            this.checkAutoRepeatTimerConditions(this.isDown()))
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "repeatDelay", {
                get: function () {
                    return this._repeatDelay
                },
                set: function (c) {
                    this._repeatDelay = c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "repeatInterval", {
                get: function () {
                    return this._repeatInterval
                },
                set: function (c) {
                    this._repeatInterval = c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "hovered", {
                get: function () {
                    return this._hovered
                },
                set: function (c) {
                    c != this._hovered && (this._hovered =
                            c, this.invalidateSkinState(), this.checkButtonDownConditions())
                },
                enumerable: !0,
                configurable: !0
            });
            a._setKeepDown = function (c) {
                this._keepDown != c && (this._keepDown = c, this.invalidateSkinState())
            };
            Object.defineProperty(a, "label", {
                get: function () {
                    return this._getLabel()
                },
                set: function (c) {
                    this._setLabel(c)
                },
                enumerable: !0,
                configurable: !0
            });
            a._getLabel = function () {
                return this.labelDisplay ? this.labelDisplay.text : this._label
            };
            a._setLabel = function (c) {
                this._label = c;
                this.labelDisplay && (this.labelDisplay.text = c)
            };
            Object.defineProperty(a,
                    "mouseCaptured", {
                        get: function () {
                            return this._mouseCaptured
                        },
                        set: function (c) {
                            c != this._mouseCaptured && (this._mouseCaptured = c, this.invalidateSkinState(), c || this.removeStageMouseHandlers(), this.checkButtonDownConditions())
                        },
                        enumerable: !0,
                        configurable: !0
                    });
            Object.defineProperty(a, "stickyHighlighting", {
                get: function () {
                    return this._stickyHighlighting
                },
                set: function (c) {
                    c != this._stickyHighlighting && (this._stickyHighlighting = c, this.invalidateSkinState(), this.checkButtonDownConditions())
                },
                enumerable: !0,
                configurable: !0
            });
            a.checkButtonDownConditions = function () {
                var c = this.isDown();
                this._downEventFired != c && (c && f.UIEvent.dispatchUIEvent(this, f.UIEvent.BUTTON_DOWN), this._downEventFired = c, this.checkAutoRepeatTimerConditions(c))
            };
            a.addHandlers = function () {
                this.addEventListener(e.TouchEvent.TOUCH_ROLL_OVER, this.mouseEventHandler, this);
                this.addEventListener(e.TouchEvent.TOUCH_ROLL_OUT, this.mouseEventHandler, this);
                this.addEventListener(e.TouchEvent.TOUCH_BEGIN, this.mouseEventHandler, this);
                this.addEventListener(e.TouchEvent.TOUCH_END,
                        this.mouseEventHandler, this);
                this.addEventListener(e.TouchEvent.TOUCH_TAP, this.mouseEventHandler, this)
            };
            a.addStageMouseHandlers = function () {
                f.UIGlobals.stage.addEventListener(e.TouchEvent.TOUCH_END, this.stage_mouseUpHandler, this);
                f.UIGlobals.stage.addEventListener(e.Event.LEAVE_STAGE, this.stage_mouseUpHandler, this)
            };
            a.removeStageMouseHandlers = function () {
                f.UIGlobals.stage.removeEventListener(e.TouchEvent.TOUCH_END, this.stage_mouseUpHandler, this);
                f.UIGlobals.stage.removeEventListener(e.Event.LEAVE_STAGE,
                        this.stage_mouseUpHandler, this)
            };
            a.isDown = function () {
                return this.enabled ? this.mouseCaptured && (this.hovered || this.stickyHighlighting) ? !0 : !1 : !1
            };
            a.checkAutoRepeatTimerConditions = function (c) {
                c = this.autoRepeat && c;
                c != (null != this.autoRepeatTimer) && (c ? this.startTimer() : this.stopTimer())
            };
            a.startTimer = function () {
                this.autoRepeatTimer = new e.Timer(1);
                this.autoRepeatTimer.delay = this._repeatDelay;
                this.autoRepeatTimer.addEventListener(e.TimerEvent.TIMER, this.autoRepeat_timerDelayHandler, this);
                this.autoRepeatTimer.start()
            };
            a.stopTimer = function () {
                this.autoRepeatTimer.stop();
                this.autoRepeatTimer = null
            };
            a.mouseEventHandler = function (c) {
                switch (c.type) {
                    case e.TouchEvent.TOUCH_ROLL_OVER:
                        if (c.touchDown && !this.mouseCaptured)
                            break;
                        this.hovered = !0;
                        break;
                    case e.TouchEvent.TOUCH_ROLL_OUT:
                        this.hovered = !1;
                        break;
                    case e.TouchEvent.TOUCH_BEGIN:
                        this.addStageMouseHandlers();
                        e.InteractionMode.mode == e.InteractionMode.TOUCH && (this.hovered = !0);
                        this.mouseCaptured = !0;
                        break;
                    case e.TouchEvent.TOUCH_END:
                        c.target == this && (this.hovered = !0, this.mouseCaptured &&
                                (this.buttonReleased(), this.mouseCaptured = !1));
                        break;
                    case e.TouchEvent.TOUCH_TAP:
                        this.enabled ? this.clickHandler(c) : c.stopImmediatePropagation()
                }
            };
            a.buttonReleased = function () {
            };
            a.clickHandler = function (c) {
            };
            a.stage_mouseUpHandler = function (c) {
                c.target != this && (this.mouseCaptured = !1)
            };
            a.autoRepeat_timerDelayHandler = function (c) {
                this.autoRepeatTimer.reset();
                this.autoRepeatTimer.removeEventListener(e.TimerEvent.TIMER, this.autoRepeat_timerDelayHandler, this);
                this.autoRepeatTimer.delay = this._repeatInterval;
                this.autoRepeatTimer.addEventListener(e.TimerEvent.TIMER, this.autoRepeat_timerHandler, this);
                this.autoRepeatTimer.start()
            };
            a.autoRepeat_timerHandler = function (c) {
                f.UIEvent.dispatchUIEvent(this, f.UIEvent.BUTTON_DOWN)
            };
            a.getCurrentSkinState = function () {
                return this.enabled ? this.isDown() || this._keepDown ? "down" : e.InteractionMode.mode == e.InteractionMode.MOUSE && (this.hovered || this.mouseCaptured) ? "over" : "up" : d.prototype.getCurrentSkinState.call(this)
            };
            a.partAdded = function (c, a) {
                d.prototype.partAdded.call(this,
                        c, a);
                a == this.labelDisplay && (this.labelDisplay.text = this._label)
            };
            return b
        }(f.SkinnableComponent);
        f.ButtonBase = g;
        g.prototype.__class__ = "egret.gui.ButtonBase"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this._selected = !1;
                this._autoSelected = !0
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "selected", {
                get: function () {
                    return this._selected
                },
                set: function (c) {
                    this._setSelected(c)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setSelected = function (c) {
                c != this._selected && (this._selected = c, f.UIEvent.dispatchUIEvent(this, f.UIEvent.VALUE_COMMIT), this.invalidateSkinState())
            };
            a.getCurrentSkinState = function () {
                var c = d.prototype.getCurrentSkinState.call(this);
                if (this.selected) {
                    var a = c + "AndSelected",
                            b = this.skin;
                    return b && b.hasState(a) ? a : "disabled" == c ? "disabled" : "down"
                }
                return c
            };
            a.buttonReleased = function () {
                d.prototype.buttonReleased.call(this);
                this._autoSelected && this.enabled && (this.selected = !this.selected, this.dispatchEventWith(e.Event.CHANGE))
            };
            return b
        }(f.ButtonBase);
        f.ToggleButtonBase = g;
        g.prototype.__class__ = "egret.gui.ToggleButtonBase"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this._textField = null;
                this.fontFamilyChanged = this.allStyleChanged = !1;
                this._fontFamily = "SimSun";
                this._sizeChanged = !1;
                this._size = 30;
                this._focusEnabled = !0;
                this.textAlignChanged = this._italic = this.italicChanged = this._bold = this.boldChanged = !1;
                this._textAlign = e.HorizontalAlign.LEFT;
                this.verticalAlignChanged = !1;
                this._verticalAlign = e.VerticalAlign.TOP;
                this.lineSpacingChanged = !1;
                this._lineSpacing = 0;
                this.textColorChanged = !1;
                this._textColor =
                        16777215;
                this._textChanged = !1;
                this._text = "";
                this._textFlow = null;
                this._textFlowChanged = !1;
                this._UIC_Props_._hasNoStyleChild = !0
            }
            __extends(b, d);
            var a = b.prototype;
            a.styleChanged = function (c) {
                if (!this.allStyleChanged) {
                    if (c)
                        switch (c) {
                            case "textColor":
                                this.textColorChanged = !0;
                                break;
                            case "fontFamily":
                                this.fontFamilyChanged = !0;
                                break;
                            case "size":
                                this._sizeChanged = !0;
                                break;
                            case "bold":
                                this.boldChanged = !0;
                                break;
                            case "italic":
                                this.italicChanged = !0;
                                break;
                            case "textAlign":
                                this.textAlignChanged = !0;
                                break;
                            case "verticalAlign":
                                this.verticalAlignChanged = !0
                        }
                    else
                        this.allStyleChanged = !0;
                    this.invalidateProperties();
                    this.invalidateSize();
                    this.invalidateDisplayList()
                }
            };
            Object.defineProperty(a, "fontFamily", {
                get: function () {
                    var c = this._UIC_Props_._styleProtoChain;
                    return c && void 0 !== c.fontFamily ? c.fontFamily : this._fontFamily
                },
                set: function (c) {
                    this.setStyle("fontFamily", c)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "size", {
                get: function () {
                    var c = this._UIC_Props_._styleProtoChain;
                    return c && void 0 !== c.size ? c.size : this._size
                },
                set: function (c) {
                    void 0 ===
                            c && (c = 0);
                    this.setStyle("size", c)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "focusEnabled", {
                get: function () {
                    return this._focusEnabled
                },
                set: function (c) {
                    this._focusEnabled = c
                },
                enumerable: !0,
                configurable: !0
            });
            a.setFocus = function () {
                !1 != this._focusEnabled && this._textField && this._textField.setFocus()
            };
            Object.defineProperty(a, "bold", {
                get: function () {
                    var c = this._UIC_Props_._styleProtoChain;
                    return c && void 0 !== c.bold ? c.bold : this._bold
                },
                set: function (c) {
                    this.setStyle("bold", c)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "italic", {
                get: function () {
                    var c = this._UIC_Props_._styleProtoChain;
                    return c && void 0 !== c.italic ? c.italic : this._italic
                },
                set: function (c) {
                    this.setStyle("italic", c)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "textAlign", {
                get: function () {
                    var c = this._UIC_Props_._styleProtoChain;
                    return c && void 0 !== c.textAlign ? c.textAlign : this._textAlign
                },
                set: function (c) {
                    this.setStyle("textAlign", c)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "verticalAlign", {
                get: function () {
                    var c =
                            this._UIC_Props_._styleProtoChain;
                    return c && void 0 !== c.verticalAlign ? c.verticalAlign : this._verticalAlign
                },
                set: function (c) {
                    this.setStyle("verticalAlign", c)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "lineSpacing", {
                get: function () {
                    return this._getLineSpacing()
                },
                set: function (c) {
                    this._setLineSpacing(c)
                },
                enumerable: !0,
                configurable: !0
            });
            a._getLineSpacing = function () {
                return this._lineSpacing
            };
            a._setLineSpacing = function (c) {
                this._lineSpacing != c && (this._lineSpacing = c, this.lineSpacingChanged = !0,
                        this.invalidateProperties(), this.invalidateSize(), this.invalidateDisplayList())
            };
            Object.defineProperty(a, "textColor", {
                get: function () {
                    var c = this._UIC_Props_._styleProtoChain;
                    return c && void 0 !== c.textColor ? c.textColor : this._textColor
                },
                set: function (c) {
                    this.setStyle("textColor", c)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "text", {
                get: function () {
                    return this._text
                },
                set: function (c) {
                    c != this._text && (this._text = c || "", this._textChanged = !0, this._textFlowChanged = !1, this._textFlow = [], this.invalidateProperties(),
                            this.invalidateSize(), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "textFlow", {
                get: function () {
                    return this._textFlow
                },
                set: function (c) {
                    this._textFlow = c || [];
                    this._textFlowChanged = !0;
                    this._textChanged = !1;
                    this._text = "";
                    this.invalidateProperties();
                    this.invalidateSize();
                    this.invalidateDisplayList()
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "textHeight", {
                get: function () {
                    return null == this._textField ? 0 : this._textField.textHeight
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "textWidth", {
                get: function () {
                    return null == this._textField ? 0 : this._textField.textWidth
                },
                enumerable: !0,
                configurable: !0
            });
            a.createChildren = function () {
                d.prototype.createChildren.call(this);
                this._textField || this.checkTextField()
            };
            a.commitProperties = function () {
                d.prototype.commitProperties.call(this);
                this._textField || this.checkTextField();
                this.allStyleChanged && (this.allStyleChanged = !1, this.verticalAlignChanged = this.textAlignChanged = this.italicChanged = this.boldChanged = this._sizeChanged =
                        this.fontFamilyChanged = this.textColorChanged = !0);
                this.fontFamilyChanged && (this._textField.fontFamily = this.fontFamily, this.fontFamilyChanged = !1);
                this._sizeChanged && (this._textField.size = this.size, this._sizeChanged = !1);
                this.boldChanged && (this._textField.bold = this.bold, this.boldChanged = !1);
                this.italic && (this._textField.italic = this.italic, this.italicChanged = !1);
                this.textAlignChanged && (this._textField.textAlign = this.textAlign, this.textAlignChanged = !1);
                this.verticalAlignChanged && (this._textField.verticalAlign =
                        this.verticalAlign, this.verticalAlignChanged = !1);
                this.lineSpacingChanged && (this._textField.lineSpacing = this._lineSpacing, this.lineSpacingChanged = !1);
                this.textColorChanged && (this._textField.textColor = this.textColor, this.textColorChanged = !1);
                this._textChanged && (this._textField.text = this._text);
                this._textFlowChanged && (this._textField.textFlow = this._textFlow);
                if (this._textChanged || this._textFlowChanged)
                    this._text = this._textField.text, this._textFlow = this._textField.textFlow, this._textFlowChanged = this._textChanged = !1
            };
            a.checkTextField = function () {
                this._textField || (this._createTextField(), this._textChanged && (this._textField.text = this._text), this._textFlowChanged && (this._textField.textFlow = this._textFlow), this.invalidateProperties())
            };
            a._createTextField = function () {
                this._textField = new e.TextField;
                this._textField.fontFamily = this.fontFamily;
                this._textField.size = this.size;
                this._textField.textAlign = this.textAlign;
                this._textField.verticalAlign = this.verticalAlign;
                this._textField.lineSpacing = this._lineSpacing;
                this._textField.textColor =
                        this.textColor;
                this._textField.multiline = !0;
                this._addToDisplayList(this._textField)
            };
            a._textFieldChanged = function () {
                this._text = this._textField.text;
                this._textFlow = this._textField.textFlow
            };
            a.measure = function () {
                d.prototype.measure.call(this);
                this.measuredWidth = b.DEFAULT_MEASURED_WIDTH;
                this.measuredHeight = b.DEFAULT_MEASURED_HEIGHT
            };
            a.$updateDisplayList = function (c, a) {
                d.prototype.updateDisplayList.call(this, c, a)
            };
            a.updateDisplayList = function (c, a) {
                d.prototype.updateDisplayList.call(this, c, a);
                this._textField.width =
                        c;
                this._textField.height = a
            };
            a.dispatchPropertyChangeEvent = function (c, a, b) {
                this.hasEventListener("propertyChange") && f.PropertyChangeEvent.dispatchPropertyChangeEvent(this, f.PropertyChangeEventKind.UPDATE, c, a, b, this)
            };
            b.DEFAULT_MEASURED_WIDTH = 160;
            b.DEFAULT_MEASURED_HEIGHT = 22;
            return b
        }(f.UIComponent);
        f.TextBase = g;
        g.prototype.__class__ = "egret.gui.TextBase"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this._contentHeight = this._contentWidth = 0;
                this._layout = null;
                this._clipAndEnableScrolling = !1;
                this._verticalScrollPosition = this._horizontalScrollPosition = 0;
                this.touchEnabled = this._layoutInvalidateSizeFlag = this._layoutInvalidateDisplayListFlag = !1
            }
            __extends(b, d);
            var a = b.prototype;
            a.createChildren = function () {
                d.prototype.createChildren.call(this);
                this._layout || (this.layout = new f.BasicLayout)
            };
            Object.defineProperty(a, "contentWidth", {
                get: function () {
                    return this._contentWidth
                },
                enumerable: !0,
                configurable: !0
            });
            a.setContentWidth = function (c) {
                if (c != this._contentWidth) {
                    var a = this._contentWidth;
                    this._contentWidth = c;
                    this.hasEventListener("propertyChange") && f.PropertyChangeEvent.dispatchPropertyChangeEvent(this, f.PropertyChangeEventKind.UPDATE, "contentWidth", a, c, this)
                }
            };
            Object.defineProperty(a, "contentHeight", {
                get: function () {
                    return this._contentHeight
                },
                enumerable: !0,
                configurable: !0
            });
            a.setContentHeight = function (c) {
                if (c != this._contentHeight) {
                    var a = this._contentHeight;
                    this._contentHeight =
                            c;
                    this.hasEventListener("propertyChange") && f.PropertyChangeEvent.dispatchPropertyChangeEvent(this, f.PropertyChangeEventKind.UPDATE, "contentHeight", a, c, this)
                }
            };
            a.setContentSize = function (c, a) {
                if (c != this._contentWidth || a != this._contentHeight)
                    this.setContentWidth(c), this.setContentHeight(a)
            };
            Object.defineProperty(a, "layout", {
                get: function () {
                    return this._layout
                },
                set: function (c) {
                    this._setLayout(c)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setLayout = function (c) {
                if (this._layout != c) {
                    this._layout && (this._layout.target =
                            null);
                    if (this._layout = c)
                        this._layout.target = this;
                    this.invalidateSize();
                    this.invalidateDisplayList();
                    this.dispatchEventWith("layoutChanged")
                }
            };
            Object.defineProperty(a, "clipAndEnableScrolling", {
                get: function () {
                    return this._clipAndEnableScrolling
                },
                set: function (c) {
                    c != this._clipAndEnableScrolling && (this.scrollRect = (this._clipAndEnableScrolling = c) ? new e.Rectangle(this._horizontalScrollPosition, this._verticalScrollPosition, this.width, this.height) : null)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a,
                    "horizontalScrollPosition", {
                        get: function () {
                            return this._horizontalScrollPosition
                        },
                        set: function (c) {
                            if (c != this._horizontalScrollPosition) {
                                var a = this._horizontalScrollPosition;
                                this._horizontalScrollPosition = c;
                                this.scrollPositionChanged();
                                f.PropertyChangeEvent.dispatchPropertyChangeEvent(this, f.PropertyChangeEventKind.UPDATE, "horizontalScrollPosition", a, c, this)
                            }
                        },
                        enumerable: !0,
                        configurable: !0
                    });
            Object.defineProperty(a, "verticalScrollPosition", {
                get: function () {
                    return this._verticalScrollPosition
                },
                set: function (c) {
                    if (c !=
                            this._verticalScrollPosition) {
                        var a = this._verticalScrollPosition;
                        this._verticalScrollPosition = c;
                        this.scrollPositionChanged();
                        f.PropertyChangeEvent.dispatchPropertyChangeEvent(this, f.PropertyChangeEventKind.UPDATE, "verticalScrollPosition", a, c, this)
                    }
                },
                enumerable: !0,
                configurable: !0
            });
            a.scrollPositionChanged = function () {
                this._clipAndEnableScrolling && (this.updateScrollRect(this.width, this.height), this._invalidateDisplayListExceptLayout(), this._layout && this._layout.scrollPositionChanged())
            };
            a.updateScrollRect =
                    function (c, a) {
                        var b = this._DO_Props_._scrollRect;
                        this._clipAndEnableScrolling ? b ? (b.x = this._horizontalScrollPosition, b.y = this._verticalScrollPosition, b.width = c, b.height = a) : this._DO_Props_._scrollRect = new e.Rectangle(this._horizontalScrollPosition, this._verticalScrollPosition, c, a) : b && (this._DO_Props_._scrollRect = null)
                    };
            a.measure = function () {
                this._layout && this._layoutInvalidateSizeFlag && (d.prototype.measure.call(this), this._layout.measure())
            };
            a._invalidateDisplayListExceptLayout = function () {
                d.prototype.invalidateDisplayList.call(this)
            };
            a.invalidateDisplayList = function () {
                d.prototype.invalidateDisplayList.call(this);
                this._layoutInvalidateDisplayListFlag = !0
            };
            a._childXYChanged = function () {
                this.invalidateSize();
                this.invalidateDisplayList()
            };
            a._invalidateSizeExceptLayout = function () {
                d.prototype.invalidateSize.call(this)
            };
            a.invalidateSize = function () {
                d.prototype.invalidateSize.call(this);
                this._layoutInvalidateSizeFlag = !0
            };
            a.updateDisplayList = function (c, a) {
                d.prototype.updateDisplayList.call(this, c, a);
                this._layoutInvalidateDisplayListFlag &&
                        this._layout && (this._layoutInvalidateDisplayListFlag = !1, this._layout.updateDisplayList(c, a), this.updateScrollRect(c, a))
            };
            Object.defineProperty(a, "numElements", {
                get: function () {
                    return -1
                },
                enumerable: !0,
                configurable: !0
            });
            a.getElementAt = function (c) {
                return null
            };
            a.getElementIndex = function (c) {
                return -1
            };
            a.getElementIndicesInView = function () {
                var c = [],
                        a;
                if (this.scrollRect)
                    for (a = 0; a < this.numChildren; a++) {
                        var b = this.getChildAt(a);
                        if (b) {
                            var d = new e.Rectangle;
                            d.x = b.layoutBoundsX;
                            d.y = b.layoutBoundsY;
                            d.width = b.layoutBoundsWidth;
                            d.height = b.layoutBoundsHeight;
                            this.scrollRect.intersects(d) && c.push(a)
                        }
                    }
                else
                    for (a = 0; a < this.numChildren; a++)
                        c.push(a);
                return c
            };
            a.setVirtualElementIndicesInView = function (c, a) {
            };
            a.getVirtualElementAt = function (c) {
                return this.getElementAt(c)
            };
            return b
        }(f.UIComponent);
        f.GroupBase = g;
        g.prototype.__class__ = "egret.gui.GroupBase"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.dataChangedFlag = !1;
                this._data = null;
                this._selected = !1;
                this._itemIndex = -1;
                this.touchChildren = !0
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "data", {
                get: function () {
                    return this._data
                },
                set: function (c) {
                    this._data = c;
                    this.initialized || this.parent ? (this.dataChangedFlag = !1, this.dataChanged()) : (this.dataChangedFlag = !0, this.invalidateProperties())
                },
                enumerable: !0,
                configurable: !0
            });
            a.dataChanged = function () {
            };
            Object.defineProperty(a,
                    "selected", {
                        get: function () {
                            return this._selected
                        },
                        set: function (c) {
                            this._selected != c && (this._selected = c, this.invalidateSkinState())
                        },
                        enumerable: !0,
                        configurable: !0
                    });
            Object.defineProperty(a, "itemIndex", {
                get: function () {
                    return this._itemIndex
                },
                set: function (c) {
                    this._itemIndex = c
                },
                enumerable: !0,
                configurable: !0
            });
            a.commitProperties = function () {
                d.prototype.commitProperties.call(this);
                this.dataChangedFlag && (this.dataChangedFlag = !1, this.dataChanged())
            };
            a.getCurrentSkinState = function () {
                return this._selected ? "down" :
                        d.prototype.getCurrentSkinState.call(this)
            };
            return b
        }(e.ButtonBase);
        e.ItemRenderer = g;
        g.prototype.__class__ = "egret.gui.ItemRenderer"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this._maximum = 100;
                this.maxChanged = !1;
                this._minimum = 0;
                this.minChanged = !1;
                this._stepSize = 1;
                this.stepSizeChanged = !1;
                this._changedValue = this._value = 0;
                this.valueChanged = !1;
                this._snapInterval = 1;
                this._explicitSnapInterval = this.snapIntervalChanged = !1
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "maximum", {
                get: function () {
                    return this._maximum
                },
                set: function (c) {
                    this._setMaximun(c)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setMaximun =
                    function (c) {
                        c != this._maximum && (this._maximum = c, this.maxChanged = !0, this.invalidateProperties())
                    };
            Object.defineProperty(a, "minimum", {
                get: function () {
                    return this._minimum
                },
                set: function (c) {
                    this._setMinimun(c)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setMinimun = function (c) {
                c != this._minimum && (this._minimum = c, this.minChanged = !0, this.invalidateProperties())
            };
            Object.defineProperty(a, "stepSize", {
                get: function () {
                    return this._stepSize
                },
                set: function (c) {
                    c != this._stepSize && (this._stepSize = c, this.stepSizeChanged = !0, this.invalidateProperties())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "value", {
                get: function () {
                    return this._getValue()
                },
                set: function (c) {
                    this._setValue(c)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setValue = function (c) {
                c != this.value && (this._changedValue = c, this.valueChanged = !0, this.invalidateProperties())
            };
            a._getValue = function () {
                return this.valueChanged ? this._changedValue : this._value
            };
            Object.defineProperty(a, "snapInterval", {
                get: function () {
                    return this._snapInterval
                },
                set: function (c) {
                    this._explicitSnapInterval = !0;
                    c != this._snapInterval &&
                            (isNaN(c) ? (this._snapInterval = 1, this._explicitSnapInterval = !1) : this._snapInterval = c, this.stepSizeChanged = this.snapIntervalChanged = !0, this.invalidateProperties())
                },
                enumerable: !0,
                configurable: !0
            });
            a.commitProperties = function () {
                d.prototype.commitProperties.call(this);
                this.minimum > this.maximum && (this.maxChanged ? this._maximum = this._minimum : this._minimum = this._maximum);
                if (this.valueChanged || this.maxChanged || this.minChanged || this.snapIntervalChanged) {
                    var c = this.valueChanged ? this._changedValue : this._value;
                    this.snapIntervalChanged = this.minChanged = this.maxChanged = this.valueChanged = !1;
                    this.setValue(this.nearestValidValue(c, this.snapInterval))
                }
                this.stepSizeChanged && (this._explicitSnapInterval ? this._stepSize = this.nearestValidSize(this._stepSize) : (this._snapInterval = this._stepSize, this.setValue(this.nearestValidValue(this._value, this.snapInterval))), this.stepSizeChanged = !1)
            };
            a.nearestValidSize = function (c) {
                var a = this.snapInterval;
                if (0 == a)
                    return c;
                c = Math.round(c / a) * a;
                return Math.abs(c) < a ? a : c
            };
            a.nearestValidValue =
                    function (c, a) {
                        if (0 == a)
                            return Math.max(this.minimum, Math.min(this.maximum, c));
                        var b = this.maximum - this.minimum,
                                d = 1;
                        c -= this.minimum;
                        a != Math.round(a) && (d = (1 + a).toString().split("."), d = Math.pow(10, d[1].length), b *= d, c = Math.round(c * d), a = Math.round(a * d));
                        var e = Math.max(0, Math.floor(c / a) * a),
                                b = Math.min(b, Math.floor((c + a) / a) * a);
                        return (c - e >= (b - e) / 2 ? b : e) / d + this.minimum
                    };
            a.setValue = function (c) {
                this._value != c && (isNaN(c) && (c = 0), !isNaN(this.maximum) && !isNaN(this.minimum) && this.maximum > this.minimum ? this._value = Math.min(this.maximum,
                        Math.max(this.minimum, c)) : this._value = c, this.valueChanged = !1, e.UIEvent.dispatchUIEvent(this, e.UIEvent.VALUE_COMMIT))
            };
            a.changeValueByStep = function (c) {
                void 0 === c && (c = !0);
                0 != this.stepSize && this.setValue(this.nearestValidValue(c ? this.value + this.stepSize : this.value - this.stepSize, this.snapInterval))
            };
            return b
        }(e.SkinnableComponent);
        e.Range = g;
        g.prototype.__class__ = "egret.gui.Range"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this._slideDuration = 300;
                this.track = this.thumb = null;
                this._clickOffsetY = this._clickOffsetX = NaN;
                this.needUpdateValue = !1;
                this._moveStageY = this._moveStageX = NaN;
                this.mouseDownTarget = null;
                this.addEventListener(e.Event.ADDED_TO_STAGE, this.addedToStageHandler, this);
                this.addEventListener(e.TouchEvent.TOUCH_BEGIN, this.mouseDownHandler, this)
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "slideDuration", {
                get: function () {
                    return this._slideDuration
                },
                set: function (c) {
                    this._slideDuration = c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "maximum", {
                get: function () {
                    return this._maximum
                },
                set: function (c) {
                    c != this._maximum && (this._setMaximun(c), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "minimum", {
                get: function () {
                    return this._minimum
                },
                set: function (c) {
                    c != this._minimum && (this._setMinimun(c), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "value", {
                get: function () {
                    return this._getValue()
                },
                set: function (c) {
                    c != this._getValue() && (this._setValue(c), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            a.setValue = function (c) {
                d.prototype.setValue.call(this, c);
                this.invalidateDisplayList()
            };
            a.pointToValue = function (c, a) {
                return this.minimum
            };
            a.changeValueByStep = function (c) {
                void 0 === c && (c = !0);
                var a = this.value;
                d.prototype.changeValueByStep.call(this, c);
                this.value != a && this.dispatchEventWith(e.Event.CHANGE)
            };
            a.partAdded = function (c, a) {
                d.prototype.partAdded.call(this, c, a);
                a == this.thumb ? (this.thumb.addEventListener(e.TouchEvent.TOUCH_BEGIN,
                        this.thumb_mouseDownHandler, this), this.thumb.addEventListener(f.ResizeEvent.RESIZE, this.thumb_resizeHandler, this), this.thumb.addEventListener(f.UIEvent.UPDATE_COMPLETE, this.thumb_updateCompleteHandler, this), this.thumb.stickyHighlighting = !0) : a == this.track && (this.track.addEventListener(e.TouchEvent.TOUCH_BEGIN, this.track_mouseDownHandler, this), this.track.addEventListener(f.ResizeEvent.RESIZE, this.track_resizeHandler, this))
            };
            a.partRemoved = function (c, a) {
                d.prototype.partRemoved.call(this, c, a);
                a == this.thumb ?
                        (this.thumb.removeEventListener(e.TouchEvent.TOUCH_BEGIN, this.thumb_mouseDownHandler, this), this.thumb.removeEventListener(f.ResizeEvent.RESIZE, this.thumb_resizeHandler, this), this.thumb.removeEventListener(f.UIEvent.UPDATE_COMPLETE, this.thumb_updateCompleteHandler, this)) : a == this.track && (this.track.removeEventListener(e.TouchEvent.TOUCH_BEGIN, this.track_mouseDownHandler, this), this.track.removeEventListener(f.ResizeEvent.RESIZE, this.track_resizeHandler, this))
            };
            a.updateDisplayList = function (c, a) {
                d.prototype.updateDisplayList.call(this,
                        c, a);
                this.updateSkinDisplayList()
            };
            a.updateSkinDisplayList = function () {
            };
            a.addedToStageHandler = function (c) {
                this.updateSkinDisplayList()
            };
            a.track_resizeHandler = function (c) {
                this.updateSkinDisplayList()
            };
            a.thumb_resizeHandler = function (c) {
                this.updateSkinDisplayList()
            };
            a.thumb_updateCompleteHandler = function (c) {
                this.updateSkinDisplayList();
                this.thumb.removeEventListener(f.UIEvent.UPDATE_COMPLETE, this.thumb_updateCompleteHandler, this)
            };
            a.thumb_mouseDownHandler = function (c) {
                f.UIGlobals.stage.addEventListener(e.TouchEvent.TOUCH_MOVE,
                        this.stage_mouseMoveHandler, this);
                f.UIGlobals.stage.addEventListener(e.TouchEvent.TOUCH_END, this.stage_mouseUpHandler, this);
                f.UIGlobals.stage.addEventListener(e.Event.LEAVE_STAGE, this.stage_mouseUpHandler, this);
                this.addEventListener(e.Event.ENTER_FRAME, this.onEnterFrame, this);
                c = this.thumb.globalToLocal(c.stageX, c.stageY, e.Point.identity);
                this._clickOffsetX = c.x;
                this._clickOffsetY = c.y;
                f.TrackBaseEvent.dispatchTrackBaseEvent(this, f.TrackBaseEvent.THUMB_PRESS);
                f.UIEvent.dispatchUIEvent(this, f.UIEvent.CHANGE_START)
            };
            a.onEnterFrame = function (c) {
                this.needUpdateValue && this.track && (this.updateWhenMouseMove(), this.needUpdateValue = !1)
            };
            a.updateWhenMouseMove = function () {
                if (this.track) {
                    var c = this.track.globalToLocal(this._moveStageX, this._moveStageY, e.Point.identity),
                            c = this.pointToValue(c.x - this._clickOffsetX, c.y - this._clickOffsetY),
                            c = this.nearestValidValue(c, this.snapInterval);
                    c != this.value && (this.setValue(c), this.validateDisplayList(), f.TrackBaseEvent.dispatchTrackBaseEvent(this, f.TrackBaseEvent.THUMB_DRAG), this.dispatchEventWith(e.Event.CHANGE))
                }
            };
            a.stage_mouseMoveHandler = function (c) {
                this._moveStageX = c.stageX;
                this._moveStageY = c.stageY;
                this.needUpdateValue || (this.needUpdateValue = !0)
            };
            a.stage_mouseUpHandler = function (c) {
                f.UIGlobals.stage.removeEventListener(e.TouchEvent.TOUCH_MOVE, this.stage_mouseMoveHandler, this);
                f.UIGlobals.stage.removeEventListener(e.TouchEvent.TOUCH_END, this.stage_mouseUpHandler, this);
                f.UIGlobals.stage.removeEventListener(e.Event.LEAVE_STAGE, this.stage_mouseUpHandler, this);
                this.removeEventListener(e.Event.ENTER_FRAME, this.updateWhenMouseMove,
                        this);
                this.needUpdateValue && (this.updateWhenMouseMove(), this.needUpdateValue = !1);
                f.TrackBaseEvent.dispatchTrackBaseEvent(this, f.TrackBaseEvent.THUMB_RELEASE);
                f.UIEvent.dispatchUIEvent(this, f.UIEvent.CHANGE_END)
            };
            a.track_mouseDownHandler = function (c) {
            };
            a.mouseDownHandler = function (c) {
                f.UIGlobals.stage.addEventListener(e.TouchEvent.TOUCH_END, this.stage_mouseUpSomewhereHandler, this);
                f.UIGlobals.stage.addEventListener(e.Event.LEAVE_STAGE, this.stage_mouseUpSomewhereHandler, this);
                this.mouseDownTarget = c.target
            };
            a.stage_mouseUpSomewhereHandler = function (c) {
                f.UIGlobals.stage.removeEventListener(e.TouchEvent.TOUCH_END, this.stage_mouseUpSomewhereHandler, this);
                f.UIGlobals.stage.removeEventListener(e.Event.LEAVE_STAGE, this.stage_mouseUpSomewhereHandler, this);
                if (this.mouseDownTarget != c.target && c instanceof e.TouchEvent && this.contains(c.target)) {
                    var a = c.target.localToGlobal(c.localX, c.localY);
                    e.TouchEvent.dispatchTouchEvent(this, e.TouchEvent.TOUCH_TAP, c.touchPointID, a.x, a.y, c.ctrlKey, c.altKey, c.shiftKey, c.touchDown)
                }
                this.mouseDownTarget =
                        null
            };
            return b
        }(f.Range);
        f.TrackBase = g;
        g.prototype.__class__ = "egret.gui.TrackBase"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.trackHighlight = null;
                this._showTrackHighlight = !0;
                this.animator = null;
                this._pendingValue = 0;
                this.slideToValue = NaN;
                this._liveDragging = !0;
                this.maximum = 10
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "showTrackHighlight", {
                get: function () {
                    return this._showTrackHighlight
                },
                set: function (c) {
                    this._showTrackHighlight != c && (this._showTrackHighlight = c, this.trackHighlight && (this.trackHighlight.visible = c), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "pendingValue", {
                get: function () {
                    return this._pendingValue
                },
                set: function (c) {
                    c != this._pendingValue && (this._pendingValue = c, this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            a.setValue = function (c) {
                this._pendingValue = c;
                d.prototype.setValue.call(this, c)
            };
            a._animationUpdateHandler = function (c) {
                this.pendingValue = c.currentValue.value
            };
            a.animationEndHandler = function (c) {
                this.setValue(this.slideToValue);
                this.dispatchEventWith(e.Event.CHANGE);
                f.UIEvent.dispatchUIEvent(this, f.UIEvent.CHANGE_END)
            };
            a.stopAnimation = function () {
                this.animator.stop();
                this.setValue(this.nearestValidValue(this.pendingValue, this.snapInterval));
                this.dispatchEventWith(e.Event.CHANGE);
                f.UIEvent.dispatchUIEvent(this, f.UIEvent.CHANGE_END)
            };
            a.thumb_mouseDownHandler = function (c) {
                this.animator && this.animator.isPlaying && this.stopAnimation();
                d.prototype.thumb_mouseDownHandler.call(this, c)
            };
            Object.defineProperty(a, "liveDragging", {
                get: function () {
                    return this._liveDragging
                },
                set: function (c) {
                    this._liveDragging =
                            c
                },
                enumerable: !0,
                configurable: !0
            });
            a.updateWhenMouseMove = function () {
                if (this.track) {
                    var c = this.track.globalToLocal(this._moveStageX, this._moveStageY, e.Point.identity),
                            c = this.pointToValue(c.x - this._clickOffsetX, c.y - this._clickOffsetY),
                            c = this.nearestValidValue(c, this.snapInterval);
                    c != this.pendingValue && (f.TrackBaseEvent.dispatchTrackBaseEvent(this, f.TrackBaseEvent.THUMB_DRAG), !0 == this.liveDragging ? (this.setValue(c), this.dispatchEventWith(e.Event.CHANGE)) : this.pendingValue = c)
                }
            };
            a.stage_mouseUpHandler =
                    function (c) {
                        d.prototype.stage_mouseUpHandler.call(this, c);
                        !1 == this.liveDragging && this.value != this.pendingValue && (this.setValue(this.pendingValue), this.dispatchEventWith(e.Event.CHANGE))
                    };
            a.track_mouseDownHandler = function (c) {
                this.enabled && (c = this.track.globalToLocal(c.stageX - (this.thumb ? this.thumb.width : 0) / 2, c.stageY - (this.thumb ? this.thumb.height : 0) / 2, e.Point.identity), c = this.pointToValue(c.x, c.y), c = this.nearestValidValue(c, this.snapInterval), c != this.pendingValue && (0 != this.slideDuration ? (this.animator ||
                        (this.animator = new f.Animation(this._animationUpdateHandler, this), this.animator.endFunction = this.animationEndHandler), this.animator.isPlaying && this.stopAnimation(), this.slideToValue = c, this.animator.duration = this.slideDuration * (Math.abs(this.pendingValue - this.slideToValue) / (this.maximum - this.minimum)), this.animator.motionPaths = [new f.SimpleMotionPath("value", this.pendingValue, this.slideToValue)], f.UIEvent.dispatchUIEvent(this, f.UIEvent.CHANGE_START), this.animator.play()) : (this.setValue(c), this.dispatchEventWith(e.Event.CHANGE))))
            };
            a.partAdded = function (c, a) {
                d.prototype.partAdded.call(this, c, a);
                a == this.trackHighlight && (this.trackHighlight.touchEnabled = !1, this.trackHighlight instanceof e.DisplayObjectContainer && (this.trackHighlight.touchChildren = !1), this.trackHighlight.visible = this._showTrackHighlight)
            };
            return b
        }(f.TrackBase);
        f.SliderBase = g;
        g.prototype.__class__ = "egret.gui.SliderBase"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this._maxDisplayedLines = 0;
                this.lastUnscaledWidth = NaN;
                this.strokeColorChanged = !1;
                this._stroke = this._strokeColor = 0;
                this.strokeChanged = !1;
                this._padding = 0;
                this._paddingBottom = this._paddingTop = this._paddingRight = this._paddingLeft = NaN;
                this.addEventListener(e.UIEvent.UPDATE_COMPLETE, this.updateCompleteHandler, this)
            }
            __extends(b, d);
            var a = b.prototype;
            a.updateCompleteHandler = function (c) {
                this.lastUnscaledWidth = NaN
            };
            Object.defineProperty(a,
                    "maxDisplayedLines", {
                        get: function () {
                            return this._maxDisplayedLines
                        },
                        set: function (c) {
                            this._maxDisplayedLines != c && (this._maxDisplayedLines = c, this.invalidateSize(), this.invalidateDisplayList())
                        },
                        enumerable: !0,
                        configurable: !0
                    });
            Object.defineProperty(a, "strokeColor", {
                get: function () {
                    return this._strokeColor
                },
                set: function (c) {
                    this._setStrokeColor(c)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setStrokeColor = function (c) {
                this._strokeColor != c && (this._strokeColor = c, this.strokeColorChanged = !0, this.invalidateProperties())
            };
            Object.defineProperty(a, "stroke", {
                get: function () {
                    return this._stroke
                },
                set: function (c) {
                    this._stroke != c && (this._stroke = c, this.strokeChanged = !0, this.invalidateProperties())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "padding", {
                get: function () {
                    return this._padding
                },
                set: function (c) {
                    this._padding != c && (this._padding = c, this.invalidateSize(), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "paddingLeft", {
                get: function () {
                    return this._paddingLeft
                },
                set: function (c) {
                    this._paddingLeft !=
                            c && (this._paddingLeft = c, this.invalidateSize(), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "paddingRight", {
                get: function () {
                    return this._paddingRight
                },
                set: function (c) {
                    this._paddingRight != c && (this._paddingRight = c, this.invalidateSize(), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "paddingTop", {
                get: function () {
                    return this._paddingTop
                },
                set: function (c) {
                    this._paddingTop != c && (this._paddingTop = c, this.invalidateSize(), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "paddingBottom", {
                get: function () {
                    return this._paddingBottom
                },
                set: function (c) {
                    this._paddingBottom != c && (this._paddingBottom = c, this.invalidateSize(), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            a.commitProperties = function () {
                d.prototype.commitProperties.call(this);
                this.strokeColorChanged && (this._textField.strokeColor = this._strokeColor, this.strokeColorChanged = !1);
                this.strokeChanged && (this._textField.stroke = this._stroke, this.strokeChanged = !1)
            };
            a.measure = function () {
                this._UIC_Props_._invalidatePropertiesFlag && this.validateProperties();
                if (this.isSpecialCase())
                    if (isNaN(this.lastUnscaledWidth))
                        this._UIC_Props_._oldPreferWidth = NaN, this._UIC_Props_._oldPreferHeight = NaN;
                    else {
                        this.measureUsingWidth(this.lastUnscaledWidth);
                        return
                    }
                var c;
                isNaN(this.explicitWidth) ? 1E4 != this.maxWidth && (c = this.maxWidth) : c = this.explicitWidth;
                this.measureUsingWidth(c)
            };
            a.isSpecialCase = function () {
                return 1 != this._maxDisplayedLines && (!isNaN(this.percentWidth) || !isNaN(this.left) &&
                        !isNaN(this.right)) && isNaN(this.explicitHeight) && isNaN(this.percentHeight)
            };
            a.measureUsingWidth = function (c) {
                this._textChanged && (this._textField.text = this._text);
                this._textFlowChanged && (this._textField.textFlow = this._textFlow);
                var a = isNaN(this._padding) ? 0 : this._padding,
                        b = isNaN(this._paddingLeft) ? a : this._paddingLeft,
                        d = isNaN(this._paddingRight) ? a : this._paddingRight,
                        e = isNaN(this._paddingTop) ? a : this._paddingTop,
                        a = isNaN(this._paddingBottom) ? a : this._paddingBottom;
                this._textField.width = NaN;
                this._textField.height =
                        NaN;
                isNaN(c) || (this._textField.width = c - b - d);
                this.measuredWidth = Math.ceil(this._textField.measuredWidth);
                this.measuredHeight = Math.ceil(this._textField.measuredHeight);
                0 < this._maxDisplayedLines && this._textField.numLines > this._maxDisplayedLines && (c = this._textField.lineSpacing, this.measuredHeight = (this._textField.size + c) * this._maxDisplayedLines - c);
                this.measuredWidth += b + d;
                this.measuredHeight += e + a
            };
            a.updateDisplayList = function (c, a) {
                this.$updateDisplayList(c, a);
                var b = isNaN(this._padding) ? 0 : this._padding,
                        d = isNaN(this._paddingLeft) ? b : this._paddingLeft,
                        e = isNaN(this._paddingRight) ? b : this._paddingRight,
                        f = isNaN(this._paddingTop) ? b : this._paddingTop,
                        b = isNaN(this._paddingBottom) ? b : this._paddingBottom;
                this._textField.x = d;
                this._textField.y = f;
                if (this.isSpecialCase()) {
                    var g = isNaN(this.lastUnscaledWidth) || this.lastUnscaledWidth != c;
                    this.lastUnscaledWidth = c;
                    if (g) {
                        this._UIC_Props_._oldPreferWidth = NaN;
                        this._UIC_Props_._oldPreferHeight = NaN;
                        this.invalidateSize();
                        return
                    }
                }
                this._UIC_Props_._invalidateSizeFlag && this.validateSize();
                this._textField.visible || (this._textField.visible = !0);
                this._textField.width = c - d - e;
                d = a - f - b;
                this._textField.height = d;
                0 < this._maxDisplayedLines && this._textField.numLines > this._maxDisplayedLines && (e = this._textField.lineSpacing, this._textField.height = Math.min(d, (this._textField.size + e) * this._maxDisplayedLines - e))
            };
            return b
        }(e.TextBase);
        e.Label = g;
        g.prototype.__class__ = "egret.gui.Label"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this._bitmapText = null;
                this._textChanged = !1;
                this._text = "";
                this._isLetterSpacingChanged = this.fontChanged = !1;
                this._letterSpacing = 0;
                this._isLineSpacingChanged = !1;
                this._lineSpacing = 0;
                this.createChildrenCalled = !1;
                this.lastUnscaledWidth = NaN;
                this._padding = 0;
                this._paddingBottom = this._paddingTop = this._paddingRight = this._paddingLeft = NaN;
                this.addEventListener(f.UIEvent.UPDATE_COMPLETE, this.updateCompleteHandler, this)
            }
            __extends(b, d);
            var a = b.prototype;
            a.updateCompleteHandler = function (c) {
                this.lastUnscaledWidth = NaN
            };
            Object.defineProperty(a, "text", {
                get: function () {
                    return this._text
                },
                set: function (c) {
                    this._text != c && (this._text = c, this._textChanged = !0, this.invalidateProperties(), this.invalidateSize(), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "font", {
                get: function () {
                    return this._font
                },
                set: function (c) {
                    this._font != c && (this._font = c, this.createChildrenCalled ? this.parseFont() : this.fontChanged = !0, this.invalidateProperties(),
                            this.invalidateSize(), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "letterSpacing", {
                get: function () {
                    return this._letterSpacing
                },
                set: function (c) {
                    this._setLetterSpacing(c)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setLetterSpacing = function (c) {
                this._letterSpacing = c;
                this._isLetterSpacingChanged = !0;
                this.invalidateProperties();
                this.invalidateSize();
                this.invalidateDisplayList()
            };
            Object.defineProperty(a, "lineSpacing", {
                get: function () {
                    return this._lineSpacing
                },
                set: function (c) {
                    this._setLineSpacing(c)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setLineSpacing = function (c) {
                this._lineSpacing = c;
                this._isLineSpacingChanged = !0;
                this.invalidateProperties();
                this.invalidateSize();
                this.invalidateDisplayList()
            };
            a.createChildren = function () {
                d.prototype.createChildren.call(this);
                this._bitmapText || this.checkBitmapText();
                this.fontChanged && this.parseFont();
                this.createChildrenCalled = !0
            };
            a.parseFont = function () {
                this.fontChanged = !1;
                var c = b.assetAdapter;
                c || (c = this.getAdapter());
                if (this._font)
                    c.getAsset(this._font, this.onFontChanged,
                            this, null);
                else
                    this.onFontChanged(null, null)
            };
            a.getAdapter = function () {
                var c;
                try {
                    c = e.Injector.getInstance("egret.gui.IAssetAdapter")
                } catch (a) {
                    c = new f.DefaultAssetAdapter
                }
                return b.assetAdapter = c
            };
            a.onFontChanged = function (c, a) {
                a === this._font && (this._bitmapText.font = c, this.invalidateSize(), this.invalidateDisplayList())
            };
            Object.defineProperty(a, "padding", {
                get: function () {
                    return this._padding
                },
                set: function (c) {
                    this._padding != c && (this._padding = c, this.invalidateSize(), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "paddingLeft", {
                get: function () {
                    return this._paddingLeft
                },
                set: function (c) {
                    this._paddingLeft != c && (this._paddingLeft = c, this.invalidateSize(), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "paddingRight", {
                get: function () {
                    return this._paddingRight
                },
                set: function (c) {
                    this._paddingRight != c && (this._paddingRight = c, this.invalidateSize(), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "paddingTop", {
                get: function () {
                    return this._paddingTop
                },
                set: function (c) {
                    this._paddingTop != c && (this._paddingTop = c, this.invalidateSize(), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "paddingBottom", {
                get: function () {
                    return this._paddingBottom
                },
                set: function (c) {
                    this._paddingBottom != c && (this._paddingBottom = c, this.invalidateSize(), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            a.measure = function () {
                this._UIC_Props_._invalidatePropertiesFlag && this.validateProperties();
                if (this.isSpecialCase())
                    if (isNaN(this.lastUnscaledWidth))
                        this._UIC_Props_._oldPreferWidth = NaN, this._UIC_Props_._oldPreferHeight = NaN;
                    else {
                        this.measureUsingWidth(this.lastUnscaledWidth);
                        return
                    }
                var c;
                isNaN(this.explicitWidth) ? 1E4 != this.maxWidth && (c = this.maxWidth) : c = this.explicitWidth;
                this.measureUsingWidth(c)
            };
            a.isSpecialCase = function () {
                return (!isNaN(this.percentWidth) || !isNaN(this.left) && !isNaN(this.right)) && isNaN(this.explicitHeight) && isNaN(this.percentHeight)
            };
            a.measureUsingWidth = function (c) {
                this._textChanged &&
                        (this._bitmapText.text = this._text);
                this._isLetterSpacingChanged && (this._bitmapText.letterSpacing = this._letterSpacing);
                this._isLineSpacingChanged && (this._bitmapText.lineSpacing = this._lineSpacing);
                var a = isNaN(this._padding) ? 0 : this._padding,
                        b = isNaN(this._paddingLeft) ? a : this._paddingLeft,
                        d = isNaN(this._paddingRight) ? a : this._paddingRight,
                        e = isNaN(this._paddingTop) ? a : this._paddingTop,
                        a = isNaN(this._paddingBottom) ? a : this._paddingBottom;
                this._bitmapText.width = NaN;
                this._bitmapText.height = NaN;
                isNaN(c) || (this._bitmapText.width =
                        c - b - d);
                this.measuredWidth = Math.ceil(this._bitmapText.measuredWidth);
                this.measuredHeight = Math.ceil(this._bitmapText.measuredHeight);
                this.measuredWidth += b + d;
                this.measuredHeight += e + a
            };
            a.updateDisplayList = function (c, a) {
                d.prototype.updateDisplayList.call(this, c, a);
                if (this._bitmapText) {
                    var b = isNaN(this._padding) ? 0 : this._padding,
                            e = isNaN(this._paddingLeft) ? b : this._paddingLeft,
                            f = isNaN(this._paddingRight) ? b : this._paddingRight,
                            g = isNaN(this._paddingTop) ? b : this._paddingTop,
                            b = isNaN(this._paddingBottom) ? b : this._paddingBottom;
                    this._bitmapText.x = e;
                    this._bitmapText.y = g;
                    if (this.isSpecialCase()) {
                        var l = isNaN(this.lastUnscaledWidth) || this.lastUnscaledWidth != c;
                        this.lastUnscaledWidth = c;
                        if (l) {
                            this._UIC_Props_._oldPreferWidth = NaN;
                            this._UIC_Props_._oldPreferHeight = NaN;
                            this.invalidateSize();
                            return
                        }
                    }
                    this._UIC_Props_._invalidateSizeFlag && this.validateSize();
                    this._bitmapText.visible || (this._bitmapText.visible = !0);
                    this._bitmapText.width = c - e - f;
                    this._bitmapText.height = a - g - b
                }
            };
            a.checkBitmapText = function () {
                this._bitmapText || (this._bitmapText =
                        new e.BitmapText, this._bitmapText.text = this._text, this._bitmapText.letterSpacing = this._letterSpacing, this._bitmapText.lineSpacing = this._lineSpacing, this._isLineSpacingChanged = this._isLetterSpacingChanged = this._textChanged = !1, this._addToDisplayList(this._bitmapText))
            };
            a.commitProperties = function () {
                d.prototype.commitProperties.call(this);
                this._bitmapText || this.checkBitmapText();
                this._textChanged && (this._bitmapText.text = this._text, this._textChanged = !1);
                this._isLetterSpacingChanged && (this._bitmapText.letterSpacing =
                        this._letterSpacing, this._isLetterSpacingChanged = !1);
                this._isLineSpacingChanged && (this._bitmapText.lineSpacing = this._lineSpacing, this._isLineSpacingChanged = !1)
            };
            return b
        }(f.UIComponent);
        f.BitmapLabel = g;
        g.prototype.__class__ = "egret.gui.BitmapLabel"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this._graphics = null;
                this._fillColor = 16777215;
                this._fillAlpha = 1;
                this._strokeColor = 4473924;
                this._strokeAlpha = 0;
                this._strokeWeight = 1;
                this.touchChildren = !1
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "graphics", {
                get: function () {
                    this._graphics || (this._graphics = new e.Graphics, this.needDraw = !0);
                    return this._graphics
                },
                enumerable: !0,
                configurable: !0
            });
            a._render = function (c) {
                this._graphics && this._graphics._draw(c);
                d.prototype._render.call(this,
                        c)
            };
            Object.defineProperty(a, "fillColor", {
                get: function () {
                    return this._fillColor
                },
                set: function (c) {
                    this._fillColor != c && (this._fillColor = c, this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "fillAlpha", {
                get: function () {
                    return this._fillAlpha
                },
                set: function (c) {
                    this._fillAlpha != c && (this._fillAlpha = c, this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "strokeColor", {
                get: function () {
                    return this._strokeColor
                },
                set: function (c) {
                    this._strokeColor !=
                            c && (this._strokeColor = c, this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "strokeAlpha", {
                get: function () {
                    return this._strokeAlpha
                },
                set: function (c) {
                    this._strokeAlpha != c && (this._strokeAlpha = c, this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "strokeWeight", {
                get: function () {
                    return this._strokeWeight
                },
                set: function (c) {
                    this._strokeWeight != c && (this._strokeWeight = c, this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            a._measureBounds =
                    function () {
                        var c = d.prototype._measureBounds.call(this),
                                a = this.width,
                                b = this.height;
                        0 < c.x && (c.x = 0);
                        0 < c.y && (c.y = 0);
                        0 + a > c.right && (c.right = 0 + a);
                        0 + b > c.bottom && (c.bottom = 0 + b);
                        return c
                    };
            a.updateDisplayList = function (c, a) {
                d.prototype.updateDisplayList.call(this, c, c);
                var b = this.graphics;
                b.clear();
                b.beginFill(this._fillColor, this._fillAlpha);
                0 < this._strokeAlpha && b.lineStyle(this._strokeWeight, this._strokeColor, this._strokeAlpha, !0, "normal", "square", "miter");
                b.drawRect(0, 0, c, a);
                b.endFill()
            };
            a.hitTest = function (c,
                    a, b) {
                void 0 === b && (b = !1);
                var f = d.prototype.hitTest.call(this, c, a, b);
                return f ? f : this._graphics ? e.DisplayObject.prototype.hitTest.call(this, c, a, b) : null
            };
            return b
        }(f.UIComponent);
        f.Rect = g;
        g.prototype.__class__ = "egret.gui.Rect"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this._icon = this.iconDisplay = null
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "icon", {
                get: function () {
                    return this._getIcon()
                },
                set: function (c) {
                    this._setIcon(c)
                },
                enumerable: !0,
                configurable: !0
            });
            a._getIcon = function () {
                return this.iconDisplay ? this.iconDisplay.source : this._icon
            };
            a._setIcon = function (c) {
                this._icon = c;
                this.iconDisplay && (this.iconDisplay.source = c)
            };
            a.partAdded = function (c, a) {
                d.prototype.partAdded.call(this, c, a);
                a == this.iconDisplay && (this.iconDisplay.source = this._icon)
            };
            return b
        }(e.ButtonBase);
        e.Button = g;
        g.prototype.__class__ = "egret.gui.Button"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this._icon = this.iconDisplay = null
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "icon", {
                get: function () {
                    return this._getIcon()
                },
                set: function (c) {
                    this._setIcon(c)
                },
                enumerable: !0,
                configurable: !0
            });
            a._getIcon = function () {
                return this.iconDisplay ? this.iconDisplay.source : this._icon
            };
            a._setIcon = function (c) {
                this._icon = c;
                this.iconDisplay && (this.iconDisplay.source = c)
            };
            a.partAdded = function (c, a) {
                d.prototype.partAdded.call(this, c, a);
                a == this.iconDisplay && (this.iconDisplay.source = this._icon)
            };
            return b
        }(e.ToggleButtonBase);
        e.ToggleButton = g;
        g.prototype.__class__ = "egret.gui.ToggleButton"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.elementsContentChanged = this.createChildrenCalled = !1;
                this._elementsContent = []
            }
            __extends(b, d);
            var a = b.prototype;
            a.createChildren = function () {
                d.prototype.createChildren.call(this);
                this.createChildrenCalled = !0;
                this.elementsContentChanged && (this.elementsContentChanged = !1, this.setElementsContent(this._elementsContent))
            };
            a._getElementsContent = function () {
                return this._elementsContent
            };
            Object.defineProperty(a, "elementsContent", {
                set: function (c) {
                    null ==
                            c && (c = []);
                    if (c != this._elementsContent)
                        if (this.createChildrenCalled)
                            this.setElementsContent(c);
                        else {
                            this.elementsContentChanged = !0;
                            for (var a = this._elementsContent.length - 1; 0 <= a; a--)
                                this._elementRemoved(this._elementsContent[a], a);
                            this._elementsContent = c
                        }
                },
                enumerable: !0,
                configurable: !0
            });
            a.setElementsContent = function (c) {
                var a;
                for (a = this._elementsContent.length - 1; 0 <= a; a--)
                    this._elementRemoved(this._elementsContent[a], a);
                this._elementsContent = c.concat();
                c = this._elementsContent.length;
                for (a = 0; a < c; a++) {
                    var b =
                            this._elementsContent[a];
                    b.parent && "removeElement" in b.parent ? b.parent.removeElement(b) : b.owner && "removeElement" in b.owner && b.owner.removeElement(b);
                    this._elementAdded(b, a)
                }
            };
            Object.defineProperty(a, "numElements", {
                get: function () {
                    return this._elementsContent.length
                },
                enumerable: !0,
                configurable: !0
            });
            a.getElementAt = function (c) {
                this.checkForRangeError(c);
                return this._elementsContent[c]
            };
            a.checkForRangeError = function (c, a) {
                void 0 === a && (a = !1);
                var b = this._elementsContent.length - 1;
                a && b++;
                if (0 > c || c > b)
                    throw new RangeError(e.getString(3011,
                            c));
            };
            a.addElement = function (c) {
                var a = this.numElements;
                c.parent == this && (a = this.numElements - 1);
                return this.addElementAt(c, a)
            };
            a.addElementAt = function (c, a) {
                if (c == this)
                    return c;
                this.checkForRangeError(a, !0);
                var b = c.owner;
                if (b == this || c.parent == this)
                    return this.setElementIndex(c, a), c;
                b && "removeElement" in b && c.owner.removeElement(c);
                this._elementsContent.splice(a, 0, c);
                this.elementsContentChanged || this._elementAdded(c, a);
                return c
            };
            a.removeElement = function (c) {
                return this.removeElementAt(this.getElementIndex(c))
            };
            a.removeElementAt = function (c) {
                this.checkForRangeError(c);
                var a = this._elementsContent[c];
                this.elementsContentChanged || this._elementRemoved(a, c);
                this._elementsContent.splice(c, 1);
                return a
            };
            a.removeAllElements = function () {
                for (var c = this.numElements - 1; 0 <= c; c--)
                    this.removeElementAt(c)
            };
            a.getElementIndex = function (c) {
                return this._elementsContent.indexOf(c)
            };
            a.setElementIndex = function (c, a) {
                this.checkForRangeError(a);
                var b = this.getElementIndex(c);
                -1 != b && b != a && (this.elementsContentChanged || this._elementRemoved(c,
                        b, !1), this._elementsContent.splice(b, 1), this._elementsContent.splice(a, 0, c), this.elementsContentChanged || this._elementAdded(c, a, !1))
            };
            a.swapElements = function (c, a) {
                this.swapElementsAt(this.getElementIndex(c), this.getElementIndex(a))
            };
            a.swapElementsAt = function (c, a) {
                this.checkForRangeError(c);
                this.checkForRangeError(a);
                if (c > a) {
                    var b = a;
                    a = c;
                    c = b
                } else if (c == a)
                    return;
                var b = this._elementsContent,
                        d = b[c],
                        e = b[a];
                this.elementsContentChanged || (this._elementRemoved(d, c, !1), this._elementRemoved(e, a, !1));
                b[c] = e;
                b[a] =
                        d;
                this.elementsContentChanged || (this._elementAdded(e, c, !1), this._elementAdded(d, a, !1))
            };
            a._elementAdded = function (c, a, b) {
                void 0 === b && (b = !0);
                c instanceof e.DisplayObject && this._addToDisplayListAt(c, a, b);
                b && this.hasEventListener(f.ElementExistenceEvent.ELEMENT_ADD) && f.ElementExistenceEvent.dispatchElementExistenceEvent(this, f.ElementExistenceEvent.ELEMENT_ADD, c, a);
                this.invalidateSize();
                this.invalidateDisplayList()
            };
            a._elementRemoved = function (c, a, b) {
                void 0 === b && (b = !0);
                b && this.hasEventListener(f.ElementExistenceEvent.ELEMENT_REMOVE) &&
                        f.ElementExistenceEvent.dispatchElementExistenceEvent(this, f.ElementExistenceEvent.ELEMENT_REMOVE, c, a);
                c instanceof e.DisplayObject && c.parent == this && this._removeFromDisplayList(c, b);
                this.invalidateSize();
                this.invalidateDisplayList()
            };
            a.addChild = function (c) {
                throw Error(e.getString(3004, e.getString(3003)));
            };
            a.addChildAt = function (c, a) {
                throw Error(e.getString(3005, e.getString(3003)));
            };
            a.removeChild = function (c) {
                throw Error(e.getString(3006, e.getString(3003)));
            };
            a.removeChildAt = function (c) {
                throw Error(e.getString(3007,
                        e.getString(3003)));
            };
            a.setChildIndex = function (c, a) {
                throw Error(e.getString(3008, e.getString(3003)));
            };
            a.swapChildren = function (c, a) {
                throw Error(e.getString(3009, e.getString(3003)));
            };
            a.swapChildrenAt = function (c, a) {
                throw Error(e.getString(3010, e.getString(3003)));
            };
            return b
        }(f.GroupBase);
        f.Group = g;
        g.prototype.__class__ = "egret.gui.Group"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.maxWidth = 1E4;
                this.minWidth = 0;
                this.maxHeight = 1E4;
                this.minHeight = 0;
                this._hasWidthSet = !1;
                this._width = NaN;
                this._hasHeightSet = !1;
                this._height = NaN;
                this.measuredHeight = this.measuredWidth = 0;
                this._initialized = !1;
                this._hostComponent = null;
                this._elementsContent = [];
                this.skinLayout = null;
                this._states = [];
                this.playStateTransition = !0;
                this.currentStateChanged = !1;
                this.requestedCurrentState = this._currentState = null;
                this.initialized = !1;
                this.skinLayout =
                        new f.SkinBasicLayout;
                this.skinLayout.target = this
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "width", {
                get: function () {
                    return this._width
                },
                set: function (c) {
                    this._width != c && (this._width = c, this._hasWidthSet = e.NumberUtils.isNumber(c))
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "height", {
                get: function () {
                    return this._height
                },
                set: function (c) {
                    this._height != c && (this._height = c, this._hasHeightSet = e.NumberUtils.isNumber(c))
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "preferredWidth", {
                get: function () {
                    return this._hasWidthSet ? this._width : this.measuredWidth
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "preferredHeight", {
                get: function () {
                    return this._hasHeightSet ? this._height : this.measuredHeight
                },
                enumerable: !0,
                configurable: !0
            });
            a.createChildren = function () {
            };
            Object.defineProperty(a, "hostComponent", {
                get: function () {
                    return this._hostComponent
                },
                set: function (c) {
                    this._setHostComponent(c)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setHostComponent = function (c) {
                if (this._hostComponent != c) {
                    var a;
                    if (this._hostComponent)
                        for (a = this._elementsContent.length - 1; 0 <= a; a--)
                            this._elementRemoved(this._elementsContent[a], a);
                    this._hostComponent = c;
                    this._initialized || (this._initialized = !0, this.createChildren());
                    if (this._hostComponent) {
                        c = this._elementsContent.length;
                        for (a = 0; a < c; a++)
                            this._elementAdded(this._elementsContent[a], a);
                        this.initializeStates();
                        this.currentStateChanged && this.commitCurrentState()
                    }
                }
            };
            a._getElementsContent = function () {
                return this._elementsContent
            };
            Object.defineProperty(a, "elementsContent", {
                set: function (c) {
                    null == c && (c = []);
                    if (c != this._elementsContent)
                        if (this._hostComponent) {
                            var a;
                            for (a = this._elementsContent.length - 1; 0 <= a; a--)
                                this._elementRemoved(this._elementsContent[a], a);
                            this._elementsContent = c.concat();
                            c = this._elementsContent.length;
                            for (a = 0; a < c; a++) {
                                var b = this._elementsContent[a];
                                b.parent && "removeElement" in b.parent ? b.parent.removeElement(b) : b.owner && "removeElement" in b.owner && b.owner.removeElement(b);
                                this._elementAdded(b, a)
                            }
                        } else
                            this._elementsContent = c.concat()
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "numElements", {
                get: function () {
                    return this._elementsContent.length
                },
                enumerable: !0,
                configurable: !0
            });
            a.getElementAt = function (c) {
                this.checkForRangeError(c);
                return this._elementsContent[c]
            };
            a.checkForRangeError = function (c, a) {
                void 0 === a && (a = !1);
                var b = this._elementsContent.length - 1;
                a && b++;
                if (0 > c || c > b)
                    throw new RangeError(e.getString(3011, c));
            };
            a.addElement = function (c) {
                var a = this.numElements;
                c.owner == this && (a = this.numElements - 1);
                return this.addElementAt(c, a)
            };
            a.addElementAt = function (c,
                    a) {
                this.checkForRangeError(a, !0);
                var b = c.owner;
                if (b == this)
                    return this.setElementIndex(c, a), c;
                b && "removeElement" in b && b.removeElement(c);
                this._elementsContent.splice(a, 0, c);
                this._hostComponent ? this._elementAdded(c, a) : c.ownerChanged(this);
                return c
            };
            a.removeElement = function (c) {
                return this.removeElementAt(this.getElementIndex(c))
            };
            a.removeElementAt = function (c) {
                this.checkForRangeError(c);
                var a = this._elementsContent[c];
                this._hostComponent ? this._elementRemoved(a, c) : a.ownerChanged(null);
                this._elementsContent.splice(c,
                        1);
                return a
            };
            a.getElementIndex = function (c) {
                return this._elementsContent.indexOf(c)
            };
            a.setElementIndex = function (c, a) {
                this.checkForRangeError(a);
                var b = this.getElementIndex(c);
                -1 != b && b != a && (this._hostComponent && this._elementRemoved(c, b, !1), this._elementsContent.splice(b, 1), this._elementsContent.splice(a, 0, c), this._hostComponent && this._elementAdded(c, a, !1))
            };
            a._elementAdded = function (c, a, b) {
                void 0 === b && (b = !0);
                c.ownerChanged(this);
                c instanceof e.DisplayObject && this._hostComponent._addToDisplayListAt(c,
                        a, b);
                b && this.hasEventListener(f.ElementExistenceEvent.ELEMENT_ADD) && f.ElementExistenceEvent.dispatchElementExistenceEvent(this, f.ElementExistenceEvent.ELEMENT_ADD, c, a);
                this._hostComponent.invalidateSize();
                this._hostComponent.invalidateDisplayList()
            };
            a._elementRemoved = function (c, a, b) {
                void 0 === b && (b = !0);
                b && this.hasEventListener(f.ElementExistenceEvent.ELEMENT_REMOVE) && f.ElementExistenceEvent.dispatchElementExistenceEvent(this, f.ElementExistenceEvent.ELEMENT_REMOVE, c, a);
                c instanceof e.DisplayObject &&
                        c.parent == this._hostComponent && this._hostComponent._removeFromDisplayList(c, b);
                c.ownerChanged(null);
                this._hostComponent.invalidateSize();
                this._hostComponent.invalidateDisplayList()
            };
            a.measure = function () {
                this.skinLayout.measure();
                this.measuredWidth < this.minWidth && (this.measuredWidth = this.minWidth);
                this.measuredWidth > this.maxWidth && (this.measuredWidth = this.maxWidth);
                this.measuredHeight < this.minHeight && (this.measuredHeight = this.minHeight);
                this.measuredHeight > this.maxHeight && (this.measuredHeight = this.maxHeight)
            };
            a.updateDisplayList = function (c, a) {
                this.skinLayout.updateDisplayList(c, a)
            };
            Object.defineProperty(a, "states", {
                get: function () {
                    return this._states
                },
                set: function (c) {
                    this._setStates(c)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setStates = function (c) {
                c || (c = []);
                if ("string" == typeof c[0])
                    for (var a = c.length, b = 0; b < a; b++) {
                        var d = new f.State(c[b], []);
                        c[b] = d
                    }
                this._states = c;
                this.currentStateChanged = !0;
                this.requestedCurrentState = this._currentState;
                this.hasState(this.requestedCurrentState) || (this.requestedCurrentState = this.getDefaultState())
            };
            Object.defineProperty(a, "transitions", {
                get: function () {
                    return this._transitions
                },
                set: function (c) {
                    this._transitions = c
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "currentState", {
                get: function () {
                    return this.currentStateChanged ? this.requestedCurrentState : this._currentState ? this._currentState : this.getDefaultState()
                },
                set: function (c) {
                    c || (c = this.getDefaultState());
                    c != this.currentState && c && this.currentState && (this.requestedCurrentState = c, this.currentStateChanged = !0, this._hostComponent && this.commitCurrentState())
                },
                enumerable: !0,
                configurable: !0
            });
            a.hasState = function (c) {
                return null != this.getState(c)
            };
            a.getDefaultState = function () {
                return 0 < this._states.length ? this._states[0].name : null
            };
            a.commitCurrentState = function () {
                if (this.currentStateChanged) {
                    this.currentStateChanged = !1;
                    this.getState(this.requestedCurrentState) || (this.requestedCurrentState = this.getDefaultState());
                    var c;
                    this.playStateTransition && (c = this.getTransition(this._currentState, this.requestedCurrentState));
                    var a, b;
                    this._currentTransition && (this._currentTransition.effect.removeEventListener(f.EffectEvent.EFFECT_END,
                            this.transition_effectEndHandler, this), c && this._currentTransition.interruptionBehavior == f.InterruptionBehavior.STOP ? (b = this._currentTransition.effect, b.stop()) : (this._currentTransition.autoReverse && this.transitionFromState == this.requestedCurrentState && this.transitionToState == this._currentState && (a = 0 == this._currentTransition.effect.duration ? 0 : this._currentTransition.effect.playheadTime / this.getTotalDuration(this._currentTransition.effect)), this._currentTransition.effect.end()), this._currentTransition =
                            null);
                    b = this._currentState ? this._currentState : "";
                    this.hasEventListener(f.StateChangeEvent.CURRENT_STATE_CHANGING) && f.StateChangeEvent.dispatchStateChangeEvent(this, f.StateChangeEvent.CURRENT_STATE_CHANGING, b, this.requestedCurrentState ? this.requestedCurrentState : "");
                    this.removeState(this._currentState);
                    (this._currentState = this.requestedCurrentState) && this.applyState(this._currentState);
                    this.hasEventListener(f.StateChangeEvent.CURRENT_STATE_CHANGE) && f.StateChangeEvent.dispatchStateChangeEvent(this,
                            f.StateChangeEvent.CURRENT_STATE_CHANGE, b, this._currentState ? this._currentState : "");
                    if (c) {
                        var d = c && c.autoReverse && (c.toState == b || c.fromState == this._currentState);
                        f.UIGlobals._layoutManager.validateNow();
                        this._currentTransition = c;
                        this.transitionFromState = b;
                        this.transitionToState = this._currentState;
                        c.effect.addEventListener(f.EffectEvent.EFFECT_END, this.transition_effectEndHandler, this);
                        c.effect.play(null, d);
                        isNaN(a) || 0 == c.effect.duration || (c.effect.playheadTime = (1 - a) * this.getTotalDuration(c.effect))
                    } else
                        this.hasEventListener(f.StateChangeEvent.STATE_CHANGE_COMPLETE) &&
                                f.StateChangeEvent.dispatchStateChangeEvent(this, f.StateChangeEvent.STATE_CHANGE_COMPLETE)
                }
            };
            a.transition_effectEndHandler = function (c) {
                this._currentTransition = null;
                this.hasEventListener(f.StateChangeEvent.STATE_CHANGE_COMPLETE) && f.StateChangeEvent.dispatchStateChangeEvent(this, f.StateChangeEvent.STATE_CHANGE_COMPLETE)
            };
            a.getState = function (c) {
                if (!c)
                    return null;
                for (var a = this._states, b = a.length, d = 0; d < b; d++) {
                    var e = a[d];
                    if (e.name == c)
                        return e
                }
                return null
            };
            a.removeState = function (c) {
                if (c = this.getState(c)) {
                    c =
                            c.overrides;
                    for (var a = c.length - 1; 0 <= a; a--)
                        c[a].remove(this)
                }
            };
            a.applyState = function (c) {
                if (c = this.getState(c)) {
                    c = c.overrides;
                    for (var a = c.length, b = 0; b < a; b++)
                        c[b].apply(this)
                }
            };
            a.initializeStates = function () {
                if (!this.initialized) {
                    this.initialized = !0;
                    for (var c = this._states, a = c.length, b = 0; b < a; b++)
                        c[b].initialize(this)
                }
            };
            a.getTransition = function (c, a) {
                var b = null,
                        d = 0;
                if (!this.transitions)
                    return null;
                c || (c = "");
                a || (a = "");
                for (var e = 0; e < this.transitions.length; e++) {
                    var f = this.transitions[e];
                    if ("*" == f.fromState &&
                            "*" == f.toState && 1 > d)
                        b = f, d = 1;
                    else if (f.toState == c && "*" == f.fromState && f.autoReverse && 2 > d)
                        b = f, d = 2;
                    else if ("*" == f.toState && f.fromState == a && f.autoReverse && 3 > d)
                        b = f, d = 3;
                    else if (f.toState == c && f.fromState == a && f.autoReverse && 4 > d)
                        b = f, d = 4;
                    else if (f.fromState == c && "*" == f.toState && 5 > d)
                        b = f, d = 5;
                    else if ("*" == f.fromState && f.toState == a && 6 > d)
                        b = f, d = 6;
                    else if (f.fromState == c && f.toState == a && 7 > d) {
                        b = f;
                        break
                    }
                }
                b && !b.effect && (b = null);
                return b
            };
            a.getTotalDuration = function (c) {
                var a = 0,
                        a = c instanceof f.CompositeEffect ? c.compositeDuration :
                        c.duration,
                        b = "repeatCount" in c ? c.repeatCount : 0;
                return a = a * b + ("repeatDelay" in c ? c.repeatDelay : 0) * (b - 1) + ("startDelay" in c ? c.startDelay : 0)
            };
            return b
        }(e.EventDispatcher);
        f.Skin = g;
        g.prototype.__class__ = "egret.gui.Skin"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(c, a, b) {
                void 0 === c && (c = null);
                void 0 === a && (a = null);
                void 0 === b && (b = null);
                d.call(this);
                this.labelDisplay = new e.gui.Label;
                this.iconDisplay = new e.gui.UIAsset;
                var f = {};
                f.up = c;
                f.down = a;
                f.disabled = b;
                this.stateMap = f;
                this._setStates(["up", "down", "disabled"])
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.createChildren = function () {
                d.prototype.createChildren.call(this);
                var c = new f.UIAsset;
                c.left = c.top = c.bottom = c.right = 0;
                this.addElement(c);
                this.backgroundAsset = c;
                this.iconDisplay.includeInLayout = !1;
                this.addElement(this.iconDisplay);
                this.labelDisplay.includeInLayout = !1;
                this.labelDisplay.paddingLeft = 5;
                this.labelDisplay.paddingRight = 5;
                this.addElement(this.labelDisplay)
            };
            a.commitCurrentState = function () {
                d.prototype.commitCurrentState.call(this);
                var c = this.currentState;
                this.stateMap[c] && (this.backgroundAsset.source = this.stateMap[c])
            };
            a.measure = function () {
                d.prototype.measure.call(this);
                var c = this.iconDisplay.preferredWidth + this.labelDisplay.preferredWidth + 20,
                        a = Math.max(this.iconDisplay.preferredHeight, this.labelDisplay.preferredHeight) + 20;
                c > this.measuredWidth && (c < this.minWidth && (c = this.minWidth), c > this.maxWidth && (c = this.maxWidth), this.measuredWidth = c);
                a > this.measuredHeight && (a < this.minHeight && (a = this.minHeight), a > this.maxHeight && (a = this.maxHeight), this.measuredHeight = a)
            };
            a.updateDisplayList = function (c, a) {
                d.prototype.updateDisplayList.call(this, c, a);
                var b = this.iconDisplay.layoutBoundsWidth,
                        e = this.labelDisplay.layoutBoundsHeight,
                        f = 0.5 * (c - b - this.labelDisplay.layoutBoundsWidth);
                this.iconDisplay.setLayoutBoundsPosition(f, 0.5 * (a - this.iconDisplay.layoutBoundsHeight));
                this.labelDisplay.setLayoutBoundsPosition(f + b, 0.5 * (a - e))
            };
            b._skinParts = ["labelDisplay", "iconDisplay"];
            return b
        }(f.Skin);
        f.ButtonSkin = g;
        g.prototype.__class__ = "egret.gui.ButtonSkin"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this._rendererOwner = null;
                this.useVirtualLayoutChanged = !1;
                this.rendererToClassMap = [];
                this.freeRenderers = [];
                this.createNewRendererFlag = !1;
                this.cleanTimer = null;
                this.dataProviderChanged = !1;
                this._dataProvider = null;
                this.recyclerDic = [];
                this.itemRendererChanged = !1;
                this._itemRenderer = null;
                this.itemRendererSkinNameChange = !1;
                this._itemRendererFunction = this._itemRendererSkinName = null;
                this.typicalItemChanged = this.virtualLayoutUnderway = !1;
                this.typicalLayoutRect =
                        null;
                this.indexToRenderer = [];
                this.renderersBeingUpdated = this.cleanFreeRenderer = !1
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "layout", {
                get: function () {
                    return this._layout
                },
                set: function (c) {
                    c != this.layout && (this.layout && (this.layout.typicalLayoutRect = null, this.layout.removeEventListener("useVirtualLayoutChanged", this.layout_useVirtualLayoutChangedHandler, this)), this.layout && c && this.layout.useVirtualLayout != c.useVirtualLayout && this.changeUseVirtualLayout(), this._setLayout(c), c && (c.typicalLayoutRect =
                            this.typicalLayoutRect, c.addEventListener("useVirtualLayoutChanged", this.layout_useVirtualLayoutChangedHandler, this)))
                },
                enumerable: !0,
                configurable: !0
            });
            a.layout_useVirtualLayoutChangedHandler = function (c) {
                this.changeUseVirtualLayout()
            };
            a.setVirtualElementIndicesInView = function (c, a) {
                if (this.layout && this.layout.useVirtualLayout) {
                    this.virtualRendererIndices = [];
                    for (var b = c; b <= a; b++)
                        this.virtualRendererIndices.push(b);
                    for (var d in this.indexToRenderer)
                        d = parseInt(d), -1 == this.virtualRendererIndices.indexOf(d) &&
                                this.freeRendererByIndex(d)
                }
            };
            a.getVirtualElementAt = function (c) {
                if (0 > c || c >= this.dataProvider.length)
                    return null;
                var a = this.indexToRenderer[c];
                if (!a) {
                    var a = this.dataProvider.getItemAt(c),
                            b = this.createVirtualRenderer(c);
                    this.indexToRenderer[c] = b;
                    this.updateRenderer(b, c, a);
                    this.createNewRendererFlag && ("validateNow" in b && b.validateNow(), this.createNewRendererFlag = !1, f.RendererExistenceEvent.dispatchRendererExistenceEvent(this, f.RendererExistenceEvent.RENDERER_ADD, b, c, a));
                    a = b
                }
                return a
            };
            a.freeRendererByIndex =
                    function (c) {
                        if (this.indexToRenderer[c]) {
                            var a = this.indexToRenderer[c];
                            delete this.indexToRenderer[c];
                            a && a instanceof e.DisplayObject && this.doFreeRenderer(a)
                        }
                    };
            a.doFreeRenderer = function (c) {
                var a = this.rendererToClassMap[c.hashCode].hashCode;
                this.freeRenderers[a] || (this.freeRenderers[a] = []);
                this.freeRenderers[a].push(c);
                c.visible = !1
            };
            a.invalidateSize = function () {
                this.createNewRendererFlag || d.prototype.invalidateSize.call(this)
            };
            a.createVirtualRenderer = function (c) {
                c = this.dataProvider.getItemAt(c);
                c = this.itemToRendererClass(c);
                var a = c.hashCode,
                        b = this.freeRenderers;
                if (b[a] && 0 < b[a].length)
                    return c = b[a].pop(), c.visible = !0, c;
                this.createNewRendererFlag = !0;
                return this.createOneRenderer(c)
            };
            a.createOneRenderer = function (a) {
                var b, d = a.hashCode,
                        f = this.recyclerDic[d];
                f && (b = f.pop(), 0 == f.length && delete this.recyclerDic[d]);
                b || (b = a.newInstance(), this.rendererToClassMap[b.hashCode] = a);
                if (!(b && b instanceof e.DisplayObject))
                    return null;
                this._itemRendererSkinName && this.setItemRenderSkinName(b);
                this._addToDisplayList(b);
                b.setLayoutBoundsSize(NaN,
                        NaN);
                return b
            };
            a.setItemRenderSkinName = function (a) {
                a && (a ? a._skinNameExplicitlySet || (a.skinName = this._itemRendererSkinName) : a && !a.skinName && (a.skinName = this._itemRendererSkinName))
            };
            a.finishVirtualLayout = function () {
                if (this.virtualLayoutUnderway) {
                    var a = this.virtualLayoutUnderway = !1,
                            b;
                    for (b in this.freeRenderers)
                        if (0 < this.freeRenderers[b].length) {
                            a = !0;
                            break
                        }
                    a && (this.cleanTimer || (this.cleanTimer = new e.Timer(3E3, 1), this.cleanTimer.addEventListener(e.TimerEvent.TIMER, this.cleanAllFreeRenderer, this)), this.cleanTimer.reset(),
                            this.cleanTimer.start())
                }
            };
            a.cleanAllFreeRenderer = function (a) {
                var b = this.freeRenderers,
                        d;
                for (d in b)
                    for (var e = b[d], f = e.length, g = 0; g < f; g++)
                        a = e[g], a.visible = !0, this.recycle(a);
                this.freeRenderers = [];
                this.cleanFreeRenderer = !1
            };
            a.getElementIndicesInView = function () {
                return this.layout && this.layout.useVirtualLayout ? this.virtualRendererIndices ? this.virtualRendererIndices : [] : d.prototype.getElementIndicesInView.call(this)
            };
            a.changeUseVirtualLayout = function () {
                this.cleanFreeRenderer = this.useVirtualLayoutChanged = !0;
                this.removeDataProviderListener();
                this.invalidateProperties()
            };
            Object.defineProperty(a, "dataProvider", {
                get: function () {
                    return this._dataProvider
                },
                set: function (a) {
                    this._dataProvider != a && (this.removeDataProviderListener(), this._dataProvider = a, this.cleanFreeRenderer = this.dataProviderChanged = !0, this.invalidateProperties(), this.invalidateSize(), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            a.removeDataProviderListener = function () {
                this._dataProvider && this._dataProvider.removeEventListener(f.CollectionEvent.COLLECTION_CHANGE,
                        this.onCollectionChange, this)
            };
            a.onCollectionChange = function (a) {
                switch (a.kind) {
                    case f.CollectionEventKind.ADD:
                        this.itemAddedHandler(a.items, a.location);
                        break;
                    case f.CollectionEventKind.MOVE:
                        this.itemMovedHandler(a.items[0], a.location, a.oldLocation);
                        break;
                    case f.CollectionEventKind.REMOVE:
                        this.itemRemovedHandler(a.items, a.location);
                        break;
                    case f.CollectionEventKind.UPDATE:
                        this.itemUpdatedHandler(a.items[0], a.location);
                        break;
                    case f.CollectionEventKind.REPLACE:
                        this.itemRemoved(a.oldItems[0], a.location);
                        this.itemAdded(a.items[0], a.location);
                        break;
                    case f.CollectionEventKind.RESET:
                    case f.CollectionEventKind.REFRESH:
                        if (this.layout && this.layout.useVirtualLayout)
                            for (var b in this.indexToRenderer)
                                b = parseInt(b), this.freeRendererByIndex(b);
                        this.dataProviderChanged = !0;
                        this.invalidateProperties()
                }
                this.invalidateSize();
                this.invalidateDisplayList()
            };
            a.itemAddedHandler = function (a, b) {
                for (var d = a.length, e = 0; e < d; e++)
                    this.itemAdded(a[e], b + e);
                this.resetRenderersIndices()
            };
            a.itemMovedHandler = function (a, b, d) {
                this.itemRemoved(a,
                        d);
                this.itemAdded(a, b);
                this.resetRenderersIndices()
            };
            a.itemRemovedHandler = function (a, b) {
                for (var d = a.length - 1; 0 <= d; d--)
                    this.itemRemoved(a[d], b + d);
                this.resetRenderersIndices()
            };
            a.itemAdded = function (a, b) {
                this.layout && this.layout.elementAdded(b);
                if (this.layout && this.layout.useVirtualLayout) {
                    var d = this.virtualRendererIndices;
                    if (d) {
                        for (var e = d.length, g = 0; g < e; g++) {
                            var r = d[g];
                            r >= b && (d[g] = r + 1)
                        }
                        this.indexToRenderer.splice(b, 0, null)
                    }
                } else
                    d = this.itemToRendererClass(a), d = this.createOneRenderer(d), this.indexToRenderer.splice(b,
                            0, d), d && (this.updateRenderer(d, b, a), f.RendererExistenceEvent.dispatchRendererExistenceEvent(this, f.RendererExistenceEvent.RENDERER_ADD, d, b, a))
            };
            a.itemRemoved = function (a, b) {
                this.layout && this.layout.elementRemoved(b);
                var d = this.virtualRendererIndices;
                if (d && 0 < d.length) {
                    for (var g = -1, x = d.length, r = 0; r < x; r++) {
                        var l = d[r];
                        l == b ? g = r : l > b && (d[r] = l - 1)
                    }
                    -1 != g && d.splice(g, 1)
                }
                d = this.indexToRenderer[b];
                this.indexToRenderer.length > b && this.indexToRenderer.splice(b, 1);
                f.RendererExistenceEvent.dispatchRendererExistenceEvent(this,
                        f.RendererExistenceEvent.RENDERER_REMOVE, d, b, a);
                d && d instanceof e.DisplayObject && this.recycle(d)
            };
            a.recycle = function (a) {
                this._removeFromDisplayList(a);
                "ownerChanged" in a && a.ownerChanged(null);
                var b = this.rendererToClassMap[a.hashCode].hashCode;
                this.recyclerDic[b] || (this.recyclerDic[b] = new e.Recycler);
                this.recyclerDic[b].push(a)
            };
            a.resetRenderersIndices = function () {
                if (0 != this.indexToRenderer.length)
                    if (this.layout && this.layout.useVirtualLayout)
                        for (var a = this.virtualRendererIndices, b = a.length, d = 0; d < b; d++) {
                            var e =
                                    a[d];
                            this.resetRendererItemIndex(e)
                        }
                    else
                        for (a = this.indexToRenderer.length, e = 0; e < a; e++)
                            this.resetRendererItemIndex(e)
            };
            a.itemUpdatedHandler = function (a, b) {
                if (!this.renderersBeingUpdated) {
                    var d = this.indexToRenderer[b];
                    d && this.updateRenderer(d, b, a)
                }
            };
            a.resetRendererItemIndex = function (a) {
                var b = this.indexToRenderer[a];
                b && (b.itemIndex = a)
            };
            Object.defineProperty(a, "itemRenderer", {
                get: function () {
                    return this._itemRenderer
                },
                set: function (a) {
                    this._itemRenderer !== a && (this._itemRenderer = a, this.cleanFreeRenderer =
                            this.typicalItemChanged = this.itemRendererChanged = !0, this.removeDataProviderListener(), this.invalidateProperties())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "itemRendererSkinName", {
                get: function () {
                    return this._itemRendererSkinName
                },
                set: function (a) {
                    this._itemRendererSkinName != a && (this._itemRendererSkinName = a) && this.initialized && (this.itemRendererSkinNameChange = !0, this.invalidateProperties())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "itemRendererFunction", {
                get: function () {
                    return this._itemRendererFunction
                },
                set: function (a) {
                    this._itemRendererFunction != a && (this._itemRendererFunction = a, this.typicalItemChanged = this.itemRendererChanged = !0, this.removeDataProviderListener(), this.invalidateProperties())
                },
                enumerable: !0,
                configurable: !0
            });
            a.itemToRendererClass = function (a) {
                null != this._itemRendererFunction ? (a = this._itemRendererFunction(a), a || (a = this._itemRenderer)) : a = this._itemRenderer;
                return a ? a : b.defaultRendererFactory
            };
            a.createChildren = function () {
                if (!this.layout) {
                    var a = new f.VerticalLayout;
                    a.gap = 0;
                    a.horizontalAlign =
                            e.HorizontalAlign.CONTENT_JUSTIFY;
                    this.layout = a
                }
                d.prototype.createChildren.call(this)
            };
            a.commitProperties = function () {
                if (this.itemRendererChanged || this.dataProviderChanged || this.useVirtualLayoutChanged)
                    this.removeAllRenderers(), this.layout && this.layout.clearVirtualLayoutCache(), this.setTypicalLayoutRect(null), this.itemRendererChanged = this.useVirtualLayoutChanged = !1, this._dataProvider && this._dataProvider.addEventListener(f.CollectionEvent.COLLECTION_CHANGE, this.onCollectionChange, this), this.layout &&
                            this.layout.useVirtualLayout ? (this.invalidateSize(), this.invalidateDisplayList()) : this.createRenderers(), this.dataProviderChanged && (this.dataProviderChanged = !1, this.verticalScrollPosition = this.horizontalScrollPosition = 0);
                d.prototype.commitProperties.call(this);
                this.typicalItemChanged && (this.typicalItemChanged = !1, this._dataProvider && 0 < this._dataProvider.length && (this.typicalItem = this._dataProvider.getItemAt(0), this.measureRendererSize()));
                if (this.itemRendererSkinNameChange) {
                    this.itemRendererSkinNameChange = !1;
                    for (var a = this.indexToRenderer.length, b = 0; b < a; b++)
                        this.setItemRenderSkinName(this.indexToRenderer[b]);
                    var e = this.freeRenderers,
                            g;
                    for (g in e) {
                        var x = e[g];
                        if (x)
                            for (a = x.length, b = 0; b < a; b++)
                                this.setItemRenderSkinName(x[b])
                    }
                }
            };
            a.measure = function () {
                this.layout && this.layout.useVirtualLayout && this.ensureTypicalLayoutElement();
                d.prototype.measure.call(this)
            };
            a.updateDisplayList = function (a, b) {
                this._layoutInvalidateDisplayListFlag && this.layout && this.layout.useVirtualLayout && (this.virtualLayoutUnderway = !0, this.ensureTypicalLayoutElement());
                d.prototype.updateDisplayList.call(this, a, b);
                this.virtualLayoutUnderway && this.finishVirtualLayout()
            };
            a.ensureTypicalLayoutElement = function () {
                !this.layout.typicalLayoutRect && this._dataProvider && 0 < this._dataProvider.length && (this.typicalItem = this._dataProvider.getItemAt(0), this.measureRendererSize())
            };
            a.measureRendererSize = function () {
                if (this.typicalItem) {
                    var a = this.itemToRendererClass(this.typicalItem);
                    if (a = this.createOneRenderer(a)) {
                        this.createNewRendererFlag = !0;
                        this.updateRenderer(a, 0, this.typicalItem);
                        "validateNow" in a && a.validateNow();
                        var b = new e.Rectangle(0, 0, a.preferredWidth, a.preferredHeight);
                        this.recycle(a);
                        this.setTypicalLayoutRect(b);
                        this.createNewRendererFlag = !1
                    } else
                        this.setTypicalLayoutRect(null)
                } else
                    this.setTypicalLayoutRect(null)
            };
            a.setTypicalLayoutRect = function (a) {
                this.typicalLayoutRect = a;
                this.layout && (this.layout.typicalLayoutRect = a)
            };
            a.removeAllRenderers = function () {
                for (var a = this.indexToRenderer.length, b, d = 0; d < a; d++)
                    if (b = this.indexToRenderer[d])
                        this.recycle(b), f.RendererExistenceEvent.dispatchRendererExistenceEvent(this,
                                f.RendererExistenceEvent.RENDERER_REMOVE, b, b.itemIndex, b.data);
                this.indexToRenderer = [];
                this.virtualRendererIndices = null;
                this.cleanFreeRenderer && this.cleanAllFreeRenderer()
            };
            a.createRenderers = function () {
                if (this._dataProvider)
                    for (var a = 0, b = this._dataProvider.length, d = 0; d < b; d++) {
                        var e = this._dataProvider.getItemAt(d),
                                g = this.itemToRendererClass(e);
                        if (g = this.createOneRenderer(g))
                            this.indexToRenderer[a] = g, this.updateRenderer(g, a, e), f.RendererExistenceEvent.dispatchRendererExistenceEvent(this, f.RendererExistenceEvent.RENDERER_ADD,
                                    g, a, e), a++
                    }
            };
            a.updateRenderer = function (a, b, d) {
                this.renderersBeingUpdated = !0;
                this._rendererOwner ? a = this._rendererOwner.updateRenderer(a, b, d) : ("ownerChanged" in a && a.ownerChanged(this), a.itemIndex = b, a.label = this.itemToLabel(d), a.data = d);
                this.renderersBeingUpdated = !1;
                return a
            };
            a.itemToLabel = function (a) {
                return a ? a.toString() : " "
            };
            a.getElementAt = function (a) {
                return this.indexToRenderer[a]
            };
            a.getElementIndex = function (a) {
                return a ? this.indexToRenderer.indexOf(a) : -1
            };
            Object.defineProperty(a, "numElements", {
                get: function () {
                    return this._dataProvider ?
                            this._dataProvider.length : 0
                },
                enumerable: !0,
                configurable: !0
            });
            a.addChild = function (a) {
                throw Error(e.getString(3004, e.getString(3003)));
            };
            a.addChildAt = function (a, b) {
                throw Error(e.getString(3005, e.getString(3003)));
            };
            a.removeChild = function (a) {
                throw Error(e.getString(3006, e.getString(3003)));
            };
            a.removeChildAt = function (a) {
                throw Error(e.getString(3007, e.getString(3003)));
            };
            a.setChildIndex = function (a, b) {
                throw Error(e.getString(3008, e.getString(3003)));
            };
            a.swapChildren = function (a, b) {
                throw Error(e.getString(3009,
                        e.getString(3003)));
            };
            a.swapChildrenAt = function (a, b) {
                throw Error(e.getString(3010, e.getString(3003)));
            };
            b.defaultRendererFactory = new f.ClassFactory(f.ItemRenderer);
            return b
        }(f.GroupBase);
        f.DataGroup = g;
        g.prototype.__class__ = "egret.gui.DataGroup"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.dataGroup = null;
                this._dataGroupProperties = {}
            }
            __extends(b, d);
            var a = b.prototype;
            a.updateRenderer = function (a, b, d) {
                "ownerChanged" in a && a.ownerChanged(this);
                a.itemIndex = b;
                a.label = this.itemToLabel(d);
                a.data = d;
                return a
            };
            a.itemToLabel = function (a) {
                return null !== a ? a.toString() : " "
            };
            Object.defineProperty(a, "dataProvider", {
                get: function () {
                    return this._getDataProvider()
                },
                set: function (a) {
                    this._setDataProvider(a)
                },
                enumerable: !0,
                configurable: !0
            });
            a._getDataProvider = function () {
                return null != this.dataGroup ? this.dataGroup.dataProvider : this._dataGroupProperties.dataProvider
            };
            a._setDataProvider = function (a) {
                null == this.dataGroup ? this._dataGroupProperties.dataProvider = a : (this.dataGroup.dataProvider = a, this._dataGroupProperties.dataProvider = !0)
            };
            Object.defineProperty(a, "itemRenderer", {
                get: function () {
                    return this.dataGroup ? this.dataGroup.itemRenderer : this._dataGroupProperties.itemRenderer
                },
                set: function (a) {
                    null == this.dataGroup ? this._dataGroupProperties.itemRenderer =
                            a : (this.dataGroup.itemRenderer = a, this._dataGroupProperties.itemRenderer = !0)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "itemRendererSkinName", {
                get: function () {
                    return this.dataGroup ? this.dataGroup.itemRendererSkinName : this._dataGroupProperties.itemRendererSkinName
                },
                set: function (a) {
                    null == this.dataGroup ? this._dataGroupProperties.itemRendererSkinName = a : (this.dataGroup.itemRendererSkinName = a, this._dataGroupProperties.itemRendererSkinName = !0)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a,
                    "itemRendererFunction", {
                        get: function () {
                            return this.dataGroup ? this.dataGroup.itemRendererFunction : this._dataGroupProperties.itemRendererFunction
                        },
                        set: function (a) {
                            null == this.dataGroup ? this._dataGroupProperties.itemRendererFunction = a : (this.dataGroup.itemRendererFunction = a, this._dataGroupProperties.itemRendererFunction = !0)
                        },
                        enumerable: !0,
                        configurable: !0
                    });
            Object.defineProperty(a, "layout", {
                get: function () {
                    return this.dataGroup ? this.dataGroup.layout : this._dataGroupProperties.layout
                },
                set: function (a) {
                    this._setLayout(a)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setLayout = function (a) {
                null == this.dataGroup ? this._dataGroupProperties.layout = a : (this.dataGroup.layout = a, this._dataGroupProperties.layout = !0)
            };
            a.partAdded = function (a, b) {
                d.prototype.partAdded.call(this, a, b);
                if (b == this.dataGroup) {
                    var g = {};
                    void 0 !== this._dataGroupProperties.layout && (this.dataGroup.layout = this._dataGroupProperties.layout, g.layout = !0);
                    void 0 !== this._dataGroupProperties.dataProvider && (this.dataGroup.dataProvider = this._dataGroupProperties.dataProvider, g.dataProvider = !0);
                    void 0 !== this._dataGroupProperties.itemRenderer && (this.dataGroup.itemRenderer = this._dataGroupProperties.itemRenderer, g.itemRenderer = !0);
                    void 0 !== this._dataGroupProperties.itemRendererSkinName && (this.dataGroup.itemRendererSkinName = this._dataGroupProperties.itemRendererSkinName, g.itemRendererSkinName = !0);
                    void 0 !== this._dataGroupProperties.itemRendererFunction && (this.dataGroup.itemRendererFunction = this._dataGroupProperties.itemRendererFunction, g.itemRendererFunction = !0);
                    this.dataGroup._rendererOwner =
                            this;
                    this._dataGroupProperties = g;
                    this.hasEventListener(e.RendererExistenceEvent.RENDERER_ADD) && this.dataGroup.addEventListener(e.RendererExistenceEvent.RENDERER_ADD, this.dispatchEvent, this);
                    this.hasEventListener(e.RendererExistenceEvent.RENDERER_REMOVE) && this.dataGroup.addEventListener(e.RendererExistenceEvent.RENDERER_REMOVE, this.dispatchEvent, this)
                }
            };
            a.partRemoved = function (a, b) {
                d.prototype.partRemoved.call(this, a, b);
                if (b == this.dataGroup) {
                    this.dataGroup.removeEventListener(e.RendererExistenceEvent.RENDERER_ADD,
                            this.dispatchEvent, this);
                    this.dataGroup.removeEventListener(e.RendererExistenceEvent.RENDERER_REMOVE, this.dispatchEvent, this);
                    var g = {};
                    this._dataGroupProperties.layout && (g.layout = this.dataGroup.layout);
                    this._dataGroupProperties.dataProvider && (g.dataProvider = this.dataGroup.dataProvider);
                    this._dataGroupProperties.itemRenderer && (g.itemRenderer = this.dataGroup.itemRenderer);
                    this._dataGroupProperties.itemRendererSkinName && (g.itemRendererSkinName = this.dataGroup.itemRendererSkinName);
                    this._dataGroupProperties.itemRendererFunction &&
                            (g.itemRendererFunction = this.dataGroup.itemRendererFunction);
                    this._dataGroupProperties = g;
                    this.dataGroup._rendererOwner = null;
                    this.dataGroup.dataProvider = null;
                    this.dataGroup.layout = null
                }
            };
            a.addEventListener = function (a, b, g, A, x) {
                void 0 === A && (A = !1);
                void 0 === x && (x = 0);
                d.prototype.addEventListener.call(this, a, b, g, A, x);
                a == e.RendererExistenceEvent.RENDERER_ADD && this.dataGroup && this.dataGroup.addEventListener(e.RendererExistenceEvent.RENDERER_ADD, this.dispatchEvent, this);
                a == e.RendererExistenceEvent.RENDERER_REMOVE &&
                        this.dataGroup && this.dataGroup.addEventListener(e.RendererExistenceEvent.RENDERER_REMOVE, this.dispatchEvent, this)
            };
            a.removeEventListener = function (a, b, g, A) {
                void 0 === A && (A = !1);
                d.prototype.removeEventListener.call(this, a, b, g, A);
                a == e.RendererExistenceEvent.RENDERER_ADD && this.dataGroup && (this.hasEventListener(e.RendererExistenceEvent.RENDERER_ADD) || this.dataGroup.removeEventListener(e.RendererExistenceEvent.RENDERER_ADD, this.dispatchEvent, this));
                a == e.RendererExistenceEvent.RENDERER_REMOVE && this.dataGroup &&
                        (this.hasEventListener(e.RendererExistenceEvent.RENDERER_REMOVE) || this.dataGroup.removeEventListener(e.RendererExistenceEvent.RENDERER_REMOVE, this.dispatchEvent, this))
            };
            return b
        }(e.SkinnableComponent);
        e.SkinnableDataContainer = g;
        g.prototype.__class__ = "egret.gui.SkinnableDataContainer"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.dataProviderChanged = this._doingWholesaleChanges = !1;
                this._labelField = "label";
                this.labelFieldOrFunctionChanged = !1;
                this._labelFunction = null;
                this.requireSelectionChanged = this._requireSelection = !1;
                this._proposedSelectedIndex = b.NO_PROPOSED_SELECTION;
                this._selectedIndex = b.NO_SELECTION;
                this._dispatchChangeAfterSelection = this._allowCustomSelectedItem = !1;
                this._pendingSelectedItem = void 0;
                this._selectedItem = null;
                this.selectedIndexAdjusted =
                        this._useVirtualLayout = !1
            }
            __extends(b, d);
            var a = b.prototype;
            a._setDataProvider = function (a) {
                this.dataProvider && this.dataProvider.removeEventListener(f.CollectionEvent.COLLECTION_CHANGE, this.dataProvider_collectionChangeHandler, this);
                this._doingWholesaleChanges = this.dataProviderChanged = !0;
                a && a.addEventListener(f.CollectionEvent.COLLECTION_CHANGE, this.dataProvider_collectionChangeHandler, this);
                d.prototype._setDataProvider.call(this, a);
                this.invalidateProperties()
            };
            Object.defineProperty(a, "layout", {
                get: function () {
                    return this.dataGroup ?
                            this.dataGroup.layout : this._dataGroupProperties.layout
                },
                set: function (a) {
                    a && this.useVirtualLayout && (a.useVirtualLayout = !0);
                    this._setLayout(a)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "labelField", {
                get: function () {
                    return this._labelField
                },
                set: function (a) {
                    this._setLabelField(a)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setLabelField = function (a) {
                a != this._labelField && (this._labelField = a, this.labelFieldOrFunctionChanged = !0, this.invalidateProperties())
            };
            Object.defineProperty(a, "labelFunction", {
                get: function () {
                    return this._labelFunction
                },
                set: function (a) {
                    this._setLabelFunction(a)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setLabelFunction = function (a) {
                a != this._labelFunction && (this._labelFunction = a, this.labelFieldOrFunctionChanged = !0, this.invalidateProperties())
            };
            Object.defineProperty(a, "requireSelection", {
                get: function () {
                    return this._requireSelection
                },
                set: function (a) {
                    this._setRequireSelection(a)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setRequireSelection = function (a) {
                a != this._requireSelection && (this._requireSelection = a) && (this.requireSelectionChanged = !0, this.invalidateProperties())
            };
            Object.defineProperty(a, "selectedIndex", {
                get: function () {
                    return this._getSelectedIndex()
                },
                set: function (a) {
                    this._setSelectedIndex(a, !1)
                },
                enumerable: !0,
                configurable: !0
            });
            a._getSelectedIndex = function () {
                return this._proposedSelectedIndex != b.NO_PROPOSED_SELECTION ? this._proposedSelectedIndex : this._selectedIndex
            };
            a._setSelectedIndex = function (a, b) {
                void 0 === b && (b = !1);
                a != this.selectedIndex && (b && (this._dispatchChangeAfterSelection = this._dispatchChangeAfterSelection || b), this._proposedSelectedIndex =
                        a, this.invalidateProperties())
            };
            Object.defineProperty(a, "selectedItem", {
                get: function () {
                    return void 0 !== this._pendingSelectedItem ? this._pendingSelectedItem : this._allowCustomSelectedItem && this.selectedIndex == b.CUSTOM_SELECTED_ITEM ? this._selectedItem : this.selectedIndex == b.NO_SELECTION || null == this.dataProvider ? void 0 : this.dataProvider.length > this.selectedIndex ? this.dataProvider.getItemAt(this.selectedIndex) : void 0
                },
                set: function (a) {
                    this._setSelectedItem(a, !1)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setSelectedItem =
                    function (a, b) {
                        void 0 === b && (b = !1);
                        this.selectedItem !== a && (b && (this._dispatchChangeAfterSelection = this._dispatchChangeAfterSelection || b), this._pendingSelectedItem = a, this.invalidateProperties())
                    };
            Object.defineProperty(a, "useVirtualLayout", {
                get: function () {
                    return this._getUseVirtualLayout()
                },
                set: function (a) {
                    this._setUseVirtualLayout(a)
                },
                enumerable: !0,
                configurable: !0
            });
            a._getUseVirtualLayout = function () {
                return this.layout ? this.layout.useVirtualLayout : this._useVirtualLayout
            };
            a._setUseVirtualLayout = function (a) {
                a !=
                        this.useVirtualLayout && (this._useVirtualLayout = a, this.layout && (this.layout.useVirtualLayout = a))
            };
            a.commitProperties = function () {
                d.prototype.commitProperties.call(this);
                this.dataProviderChanged && (this._doingWholesaleChanges = this.dataProviderChanged = !1, 0 <= this.selectedIndex && this.dataProvider && this.selectedIndex < this.dataProvider.length ? this.itemSelected(this.selectedIndex, !0) : this.requireSelection ? this._proposedSelectedIndex = 0 : this._setSelectedIndex(-1, !1));
                this.requireSelectionChanged && (this.requireSelectionChanged = !1, this.requireSelection && this.selectedIndex == b.NO_SELECTION && this.dataProvider && 0 < this.dataProvider.length && (this._proposedSelectedIndex = 0));
                void 0 !== this._pendingSelectedItem && (this._proposedSelectedIndex = this.dataProvider ? this.dataProvider.getItemIndex(this._pendingSelectedItem) : b.NO_SELECTION, this._allowCustomSelectedItem && -1 == this._proposedSelectedIndex && (this._proposedSelectedIndex = b.CUSTOM_SELECTED_ITEM, this._selectedItem = this._pendingSelectedItem), this._pendingSelectedItem = void 0);
                var a = !1;
                this._proposedSelectedIndex != b.NO_PROPOSED_SELECTION && (a = this.commitSelection());
                this.selectedIndexAdjusted && (this.selectedIndexAdjusted = !1, a || f.UIEvent.dispatchUIEvent(this, f.UIEvent.VALUE_COMMIT));
                if (this.labelFieldOrFunctionChanged) {
                    if (null != this.dataGroup)
                        if (this.layout && this.layout.useVirtualLayout)
                            for (var e = this.dataGroup.getElementIndicesInView(), g = e.length, A = 0; A < g; A++)
                                a = e[A], this.updateRendererLabelProperty(a);
                        else
                            for (e = this.dataGroup.numElements, a = 0; a < e; a++)
                                this.updateRendererLabelProperty(a);
                    this.labelFieldOrFunctionChanged = !1
                }
            };
            a.updateRendererLabelProperty = function (a) {
                if (a = this.dataGroup.getElementAt(a))
                    a.label = this.itemToLabel(a.data)
            };
            a.partAdded = function (a, b) {
                d.prototype.partAdded.call(this, a, b);
                b == this.dataGroup && (this._useVirtualLayout && this.dataGroup.layout && (this.dataGroup.layout.useVirtualLayout = !0), this.dataGroup.addEventListener(f.RendererExistenceEvent.RENDERER_ADD, this.dataGroup_rendererAddHandler, this), this.dataGroup.addEventListener(f.RendererExistenceEvent.RENDERER_REMOVE,
                        this.dataGroup_rendererRemoveHandler, this))
            };
            a.partRemoved = function (a, b) {
                d.prototype.partRemoved.call(this, a, b);
                b == this.dataGroup && (this.dataGroup.removeEventListener(f.RendererExistenceEvent.RENDERER_ADD, this.dataGroup_rendererAddHandler, this), this.dataGroup.removeEventListener(f.RendererExistenceEvent.RENDERER_REMOVE, this.dataGroup_rendererRemoveHandler, this))
            };
            a.updateRenderer = function (a, b, e) {
                this.itemSelected(b, this._isItemIndexSelected(b));
                return d.prototype.updateRenderer.call(this, a, b, e)
            };
            a.itemToLabel = function (a) {
                if (null != this._labelFunction)
                    return this._labelFunction(a);
                if ("string" == typeof a)
                    return a;
                if (a instanceof e.XML)
                    try {
                        0 != a[this.labelField].length() && (a = a[this.labelField])
                    } catch (b) {
                    }
                else if (a instanceof Object)
                    try {
                        null != a[this.labelField] && (a = a[this.labelField])
                    } catch (d) {
                    }
                if ("string" == typeof a)
                    return a;
                try {
                    if (null !== a)
                        return a.toString()
                } catch (f) {
                }
                return " "
            };
            a.itemSelected = function (a, b) {
                if (this.dataGroup) {
                    var d = this.dataGroup.getElementAt(a);
                    null != d && (d.selected = b)
                }
            };
            a._isItemIndexSelected =
                    function (a) {
                        return a == this.selectedIndex
                    };
            a.commitSelection = function (a) {
                void 0 === a && (a = !0);
                var d = this.dataProvider ? this.dataProvider.length - 1 : -1,
                        e = this._selectedIndex;
                if (!this._allowCustomSelectedItem || this._proposedSelectedIndex != b.CUSTOM_SELECTED_ITEM)
                    if (this._proposedSelectedIndex < b.NO_SELECTION && (this._proposedSelectedIndex = b.NO_SELECTION), this._proposedSelectedIndex > d && (this._proposedSelectedIndex = d), this.requireSelection && this._proposedSelectedIndex == b.NO_SELECTION && this.dataProvider && 0 < this.dataProvider.length)
                        return this._proposedSelectedIndex =
                                b.NO_PROPOSED_SELECTION, this._dispatchChangeAfterSelection = !1;
                d = this._proposedSelectedIndex;
                if (this._dispatchChangeAfterSelection && !f.IndexChangeEvent.dispatchIndexChangeEvent(this, f.IndexChangeEvent.CHANGING, this._selectedIndex, this._proposedSelectedIndex, !0))
                    return this.itemSelected(this._proposedSelectedIndex, !1), this._proposedSelectedIndex = b.NO_PROPOSED_SELECTION, this._dispatchChangeAfterSelection = !1;
                this._selectedIndex = d;
                this._proposedSelectedIndex = b.NO_PROPOSED_SELECTION;
                e != b.NO_SELECTION &&
                        this.itemSelected(e, !1);
                this._selectedIndex != b.NO_SELECTION && this.itemSelected(this._selectedIndex, !0);
                a && (this._dispatchChangeAfterSelection && (f.IndexChangeEvent.dispatchIndexChangeEvent(this, f.IndexChangeEvent.CHANGE, e, this._selectedIndex), this._dispatchChangeAfterSelection = !1), f.UIEvent.dispatchUIEvent(this, f.UIEvent.VALUE_COMMIT));
                return !0
            };
            a.adjustSelection = function (a, d) {
                this._proposedSelectedIndex != b.NO_PROPOSED_SELECTION ? this._proposedSelectedIndex = a : this._selectedIndex = a;
                this.selectedIndexAdjusted = !0;
                this.invalidateProperties()
            };
            a.itemAdded = function (a) {
                this._doingWholesaleChanges || (this.selectedIndex == b.NO_SELECTION ? this.requireSelection && this.adjustSelection(a, !0) : a <= this.selectedIndex && this.adjustSelection(this.selectedIndex + 1, !0))
            };
            a.itemRemoved = function (a) {
                this.selectedIndex == b.NO_SELECTION || this._doingWholesaleChanges || (a == this.selectedIndex ? this.requireSelection && this.dataProvider && 0 < this.dataProvider.length ? 0 == a ? (this._proposedSelectedIndex = 0, this.invalidateProperties()) : this._setSelectedIndex(0, !1) : this.adjustSelection(-1, !1) : a < this.selectedIndex && this.adjustSelection(this.selectedIndex - 1, !1))
            };
            a.dataGroup_rendererAddHandler = function (a) {
                a = a.renderer;
                null != a && (a.addEventListener(e.TouchEvent.TOUCH_ROLL_OVER, this.item_mouseEventHandler, this), a.addEventListener(e.TouchEvent.TOUCH_ROLL_OUT, this.item_mouseEventHandler, this))
            };
            a.dataGroup_rendererRemoveHandler = function (a) {
                a = a.renderer;
                null != a && (a.removeEventListener(e.TouchEvent.TOUCH_ROLL_OVER, this.item_mouseEventHandler, this), a.removeEventListener(e.TouchEvent.TOUCH_ROLL_OUT,
                        this.item_mouseEventHandler, this))
            };
            a.item_mouseEventHandler = function (a) {
                var d = a.type,
                        d = b.TYPE_MAP[d];
                this.hasEventListener(d) && this._dispatchListEvent(a, d, a.currentTarget)
            };
            a._dispatchListEvent = function (a, b, d) {
                var e = -1,
                        e = d ? d.itemIndex : this.dataGroup.getElementIndex(a.currentTarget),
                        g = this.dataProvider.getItemAt(e);
                f.ListEvent.dispatchListEvent(this, b, a, e, g, d)
            };
            a.dataProvider_collectionChangeHandler = function (a) {
                var d = a.items;
                if (a.kind == f.CollectionEventKind.ADD)
                    for (var d = d.length, e = 0; e < d; e++)
                        this.itemAdded(a.location +
                                e);
                else if (a.kind == f.CollectionEventKind.REMOVE)
                    for (d = d.length, e = d - 1; 0 <= e; e--)
                        this.itemRemoved(a.location + e);
                else
                    a.kind == f.CollectionEventKind.MOVE ? (this.itemRemoved(a.oldLocation), this.itemAdded(a.location)) : a.kind == f.CollectionEventKind.RESET ? 0 == this.dataProvider.length ? this._setSelectedIndex(b.NO_SELECTION, !1) : (this.dataProviderChanged = !0, this.invalidateProperties()) : a.kind == f.CollectionEventKind.REFRESH && this.dataProviderRefreshed()
            };
            a.dataProviderRefreshed = function () {
                this._setSelectedIndex(b.NO_SELECTION, !1)
            };
            b.NO_SELECTION = -1;
            b.NO_PROPOSED_SELECTION = -2;
            b.CUSTOM_SELECTED_ITEM = -3;
            b.TYPE_MAP = {
                rollOver: "itemRollOver",
                rollOut: "itemRollOut"
            };
            return b
        }(f.SkinnableDataContainer);
        f.ListBase = g;
        g.prototype.__class__ = "egret.gui.ListBase"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this)
            }
            __extends(b, d);
            var a = b.prototype;
            a.pointToValue = function (a, b) {
                if (!this.thumb || !this.track)
                    return 0;
                var d = this.maximum - this.minimum,
                        e = this.track.layoutBoundsWidth - this.thumb.layoutBoundsWidth;
                return this.minimum + (0 != e ? a / e * d : 0)
            };
            a.updateSkinDisplayList = function () {
                if (this.thumb && this.track) {
                    var a = this.track.layoutBoundsWidth - this.thumb.layoutBoundsWidth,
                            b = this.maximum - this.minimum,
                            a = 0 < b ? (this.pendingValue - this.minimum) / b * a : 0,
                            d = this.track.localToGlobal(a,
                                    0),
                            b = d.x,
                            d = d.y,
                            f = this.thumb.parent.globalToLocal(b, d, e.Point.identity).x;
                    this.thumb.setLayoutBoundsPosition(Math.round(f), this.thumb.layoutBoundsY);
                    this.showTrackHighlight && this.trackHighlight && this.trackHighlight.parent && (b = this.trackHighlight.parent.globalToLocal(b, d, e.Point.identity).x - a, this.trackHighlight.x = Math.round(b), this.trackHighlight.width = Math.round(a))
                }
            };
            return b
        }(f.SliderBase);
        f.HSlider = g;
        g.prototype.__class__ = "egret.gui.HSlider"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.apply(this, arguments);
                this._thumbLengthRatio = 1
            }
            __extends(b, d);
            var a = b.prototype;
            a._setViewportMetric = function (a, b) {
                var d = Math.max(0, b - a);
                this._setMaximun(d);
                this._setMinimun(0);
                this._thumbLengthRatio = b > a ? a / b : 1
            };
            Object.defineProperty(a, "trackAlpha", {
                get: function () {
                    return 1
                },
                set: function (a) {
                    e.Logger.warningWithErrorId(1016, "HScrollBar.trackAlpha")
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "thumbAlpha", {
                get: function () {
                    return 1
                },
                set: function (a) {
                    e.Logger.warningWithErrorId(1016, "HScrollBar.thumbAlpha")
                },
                enumerable: !0,
                configurable: !0
            });
            a.setPosition = function (a) {
                this._setValue(a)
            };
            a.getPosition = function () {
                return this._getValue()
            };
            a._setValue = function (a) {
                a = Math.max(0, a);
                d.prototype._setValue.call(this, a)
            };
            a.setValue = function (a) {
                d.prototype.setValue.call(this, a)
            };
            a._animationUpdateHandler = function (a) {
                this.value = this.pendingValue = a.currentValue.value;
                this.dispatchEventWith(e.Event.CHANGE)
            };
            a.updateSkinDisplayList = function () {
                if (this.thumb &&
                        this.track) {
                    var a = this.track.layoutBoundsWidth * this._thumbLengthRatio,
                            b = this.thumb.layoutBoundsWidth,
                            d = this.track.layoutBoundsWidth - this.thumb.layoutBoundsWidth,
                            f = this.maximum - this.minimum,
                            d = this.track.localToGlobal(0 < f ? (this.pendingValue - this.minimum) / f * d : 0, 0),
                            d = this.thumb.parent.globalToLocal(d.x, d.y, e.Point.identity).x;
                    this.thumb.setLayoutBoundsPosition(Math.round(d), this.thumb.layoutBoundsY);
                    a != b && this.thumb.setLayoutBoundsSize(a, this.thumb.layoutBoundsHeight)
                }
            };
            return b
        }(f.HSlider);
        f.HScrollBar =
                g;
        g.prototype.__class__ = "egret.gui.HScrollBar"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this)
            }
            __extends(b, d);
            var a = b.prototype;
            a.pointToValue = function (a, b) {
                if (!this.thumb || !this.track)
                    return 0;
                var d = this.maximum - this.minimum,
                        e = this.track.layoutBoundsHeight - this.thumb.layoutBoundsHeight;
                return this.minimum + (0 != e ? (e - b) / e * d : 0)
            };
            a.updateSkinDisplayList = function () {
                if (this.thumb && this.track) {
                    var a = this.thumb.layoutBoundsHeight,
                            b = this.track.layoutBoundsHeight - a,
                            d = this.maximum - this.minimum,
                            f = this.track.localToGlobal(0, 0 < d ? b - (this.pendingValue -
                                    this.minimum) / d * b : 0),
                            d = f.x,
                            f = f.y,
                            g = this.thumb.parent.globalToLocal(d, f, e.Point.identity).y;
                    this.thumb.setLayoutBoundsPosition(this.thumb.layoutBoundsX, Math.round(g));
                    this.showTrackHighlight && this.trackHighlight && this.trackHighlight._DO_Props_._parent && (d = this.trackHighlight._DO_Props_._parent.globalToLocal(d, f, e.Point.identity).y, this.trackHighlight.y = Math.round(d + a), this.trackHighlight.height = Math.round(b - d))
                }
            };
            return b
        }(f.SliderBase);
        f.VSlider = g;
        g.prototype.__class__ = "egret.gui.VSlider"
    })(e.gui ||
            (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this._thumbLengthRatio = 1
            }
            __extends(b, d);
            var a = b.prototype;
            a._setViewportMetric = function (a, b) {
                var d = Math.max(0, b - a);
                this._thumbLengthRatio = b <= a ? 1 : a / b;
                this._setMaximun(d);
                this._setMinimun(0)
            };
            Object.defineProperty(a, "trackAlpha", {
                get: function () {
                    return 1
                },
                set: function (a) {
                    e.Logger.warningWithErrorId(1016, "VScrollBar.trackAlpha")
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "thumbAlpha", {
                get: function () {
                    return 1
                },
                set: function (a) {
                    e.Logger.warningWithErrorId(1016,
                            "VScrollBar.thumbAlpha")
                },
                enumerable: !0,
                configurable: !0
            });
            a.setPosition = function (a) {
                this._setValue(a)
            };
            a.getPosition = function () {
                return this._getValue()
            };
            a._setValue = function (a) {
                a = Math.max(0, a);
                d.prototype._setValue.call(this, a)
            };
            a.setValue = function (a) {
                d.prototype.setValue.call(this, a)
            };
            a._animationUpdateHandler = function (a) {
                this.value = this.pendingValue = a.currentValue.value;
                this.dispatchEventWith(e.Event.CHANGE)
            };
            a.pointToValue = function (a, b) {
                if (!this.thumb || !this.track)
                    return 0;
                var d = this.maximum - this.minimum,
                        e = this.track.layoutBoundsHeight - this.thumb.layoutBoundsHeight;
                return this.minimum + (0 != e ? b / e * d : 0)
            };
            a.updateSkinDisplayList = function () {
                if (this.thumb && this.track) {
                    var a = this.track.layoutBoundsHeight * this._thumbLengthRatio,
                            b = this.thumb.layoutBoundsHeight,
                            d = this.track.layoutBoundsHeight - a,
                            f = this.maximum - this.minimum,
                            d = this.track.localToGlobal(0, 0 < f ? (this.pendingValue - this.minimum) / f * d : 0),
                            d = this.thumb.parent.globalToLocal(d.x, d.y, e.Point.identity).y;
                    this.thumb.setLayoutBoundsPosition(this.thumb.layoutBoundsX,
                            Math.round(d));
                    a != b && this.thumb.setLayoutBoundsSize(this.thumb.layoutBoundsWidth, a)
                }
            };
            return b
        }(f.VSlider);
        f.VScrollBar = g;
        g.prototype.__class__ = "egret.gui.VScrollBar"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                var a = this;
                d.call(this);
                this._allowMultipleSelection = !1;
                this._selectedIndices = [];
                this.isValidIndex = function (b, d, e) {
                    return a.dataProvider && 0 <= b && b < a.dataProvider.length
                };
                this._captureItemRenderer = !0;
                this._mouseDownItemRenderer = null;
                this.useVirtualLayout = !0
            }
            __extends(b, d);
            var a = b.prototype;
            a.createChildren = function () {
                this.itemRenderer || (this.itemRenderer = f.DataGroup.defaultRendererFactory);
                d.prototype.createChildren.call(this)
            };
            Object.defineProperty(a,
                    "useVirtualLayout", {
                        get: function () {
                            return this._getUseVirtualLayout()
                        },
                        set: function (a) {
                            this._setUseVirtualLayout(a)
                        },
                        enumerable: !0,
                        configurable: !0
                    });
            Object.defineProperty(a, "allowMultipleSelection", {
                get: function () {
                    return this._allowMultipleSelection
                },
                set: function (a) {
                    this._allowMultipleSelection = a
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "selectedIndices", {
                get: function () {
                    return this._proposedSelectedIndices ? this._proposedSelectedIndices : this._selectedIndices
                },
                set: function (a) {
                    this._setSelectedIndices(a, !1)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "selectedIndex", {
                get: function () {
                    return this._proposedSelectedIndices ? 0 < this._proposedSelectedIndices.length ? this._proposedSelectedIndices[0] : -1 : this._getSelectedIndex()
                },
                set: function (a) {
                    this._setSelectedIndex(a)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "selectedItems", {
                get: function () {
                    var a = [],
                            b = this.selectedIndices;
                    if (b)
                        for (var d = b.length, e = 0; e < d; e++)
                            a[e] = this.dataProvider.getItemAt(b[e]);
                    return a
                },
                set: function (a) {
                    var b = [];
                    if (a)
                        for (var d = a.length, e = 0; e < d; e++) {
                            var f = this.dataProvider.getItemIndex(a[e]);
                            -1 != f && b.splice(0, 0, f);
                            if (-1 == f) {
                                b = [];
                                break
                            }
                        }
                    this._setSelectedIndices(b, !1)
                },
                enumerable: !0,
                configurable: !0
            });
            a._setSelectedIndices = function (a, b) {
                void 0 === b && (b = !1);
                b && (this._dispatchChangeAfterSelection = this._dispatchChangeAfterSelection || b);
                this._proposedSelectedIndices = a ? a : [];
                this.invalidateProperties()
            };
            a.commitProperties = function () {
                d.prototype.commitProperties.call(this);
                this._proposedSelectedIndices && this.commitSelection()
            };
            a.commitSelection = function (a) {
                void 0 === a && (a = !0);
                var b = this._selectedIndex;
                if (this._proposedSelectedIndices) {
                    this._proposedSelectedIndices = this._proposedSelectedIndices.filter(this.isValidIndex);
                    if (!this.allowMultipleSelection && 0 < this._proposedSelectedIndices.length) {
                        var e = [];
                        e.push(this._proposedSelectedIndices[0]);
                        this._proposedSelectedIndices = e
                    }
                    this._proposedSelectedIndex = 0 < this._proposedSelectedIndices.length ? this._proposedSelectedIndices[0] : -1
                }
                e = d.prototype.commitSelection.call(this, !1);
                if (!e)
                    return this._proposedSelectedIndices =
                            null, !1;
                this.selectedIndex > f.ListBase.NO_SELECTION && (this._proposedSelectedIndices ? -1 == this._proposedSelectedIndices.indexOf(this.selectedIndex) && this._proposedSelectedIndices.push(this.selectedIndex) : this._proposedSelectedIndices = [this.selectedIndex]);
                this._proposedSelectedIndices && (-1 != this._proposedSelectedIndices.indexOf(b) && this.itemSelected(b, !0), this.commitMultipleSelection());
                a && e && (this._dispatchChangeAfterSelection && (f.IndexChangeEvent.dispatchIndexChangeEvent(this, f.IndexChangeEvent.CHANGE,
                        b, this._selectedIndex), this._dispatchChangeAfterSelection = !1), f.UIEvent.dispatchUIEvent(this, f.UIEvent.VALUE_COMMIT));
                return e
            };
            a.commitMultipleSelection = function () {
                var a = [],
                        b = [],
                        d, e;
                if (0 < this._selectedIndices.length && 0 < this._proposedSelectedIndices.length) {
                    e = this._proposedSelectedIndices.length;
                    for (d = 0; d < e; d++)
                        -1 == this._selectedIndices.indexOf(this._proposedSelectedIndices[d]) && b.push(this._proposedSelectedIndices[d]);
                    e = this._selectedIndices.length;
                    for (d = 0; d < e; d++)
                        -1 == this._proposedSelectedIndices.indexOf(this._selectedIndices[d]) &&
                                a.push(this._selectedIndices[d])
                } else
                    0 < this._selectedIndices.length ? a = this._selectedIndices : 0 < this._proposedSelectedIndices.length && (b = this._proposedSelectedIndices);
                this._selectedIndices = this._proposedSelectedIndices;
                if (0 < a.length)
                    for (e = a.length, d = 0; d < e; d++)
                        this.itemSelected(a[d], !1);
                if (0 < b.length)
                    for (e = b.length, d = 0; d < e; d++)
                        this.itemSelected(b[d], !0);
                this._proposedSelectedIndices = null
            };
            a._isItemIndexSelected = function (a) {
                return this._allowMultipleSelection ? -1 != this._selectedIndices.indexOf(a) : d.prototype._isItemIndexSelected.call(this,
                        a)
            };
            a.dataGroup_rendererAddHandler = function (a) {
                d.prototype.dataGroup_rendererAddHandler.call(this, a);
                a = a.renderer;
                null != a && (a.addEventListener(e.TouchEvent.TOUCH_BEGIN, this._item_touchBeginHandler, this), a.addEventListener(e.TouchEvent.TOUCH_END, this._item_touchEndHandler, this))
            };
            a.dataProviderRefreshed = function () {
                this._allowMultipleSelection || d.prototype.dataProviderRefreshed.call(this)
            };
            a.dataGroup_rendererRemoveHandler = function (a) {
                d.prototype.dataGroup_rendererRemoveHandler.call(this, a);
                a = a.renderer;
                null != a && (a.removeEventListener(e.TouchEvent.TOUCH_BEGIN, this._item_touchBeginHandler, this), a.removeEventListener(e.TouchEvent.TOUCH_END, this._item_touchEndHandler, this))
            };
            a._item_touchBeginHandler = function (a) {
                a._isDefaultPrevented || (this._mouseDownItemRenderer = a.currentTarget, f.UIGlobals.stage.addEventListener(e.TouchEvent.TOUCH_END, this.stage_touchEndHandler, this), f.UIGlobals.stage.addEventListener(e.Event.LEAVE_STAGE, this.stage_touchEndHandler, this))
            };
            a.calculateSelectedIndices = function (a) {
                var b = [];
                if (0 < this._selectedIndices.length)
                    if (1 == this._selectedIndices.length && this._selectedIndices[0] == a) {
                        if (!this.requireSelection)
                            return b;
                        b.splice(0, 0, this._selectedIndices[0])
                    } else {
                        for (var d = !1, e = 0; e < this._selectedIndices.length; e++)
                            this._selectedIndices[e] == a ? d = !0 : this._selectedIndices[e] != a && b.splice(0, 0, this._selectedIndices[e]);
                        d || b.splice(0, 0, a)
                    }
                else
                    b.splice(0, 0, a);
                return b
            };
            a._item_touchEndHandler = function (a) {
                var b = a.currentTarget;
                if (b == this._mouseDownItemRenderer) {
                    var d;
                    d = b ? b.itemIndex : this.dataGroup.getElementIndex(a.currentTarget);
                    this._allowMultipleSelection ? this._setSelectedIndices(this.calculateSelectedIndices(d), !0) : this._setSelectedIndex(d, !0);
                    this._captureItemRenderer && this._dispatchListEvent(a, f.ListEvent.ITEM_CLICK, b)
                }
            };
            a.stage_touchEndHandler = function (a) {
                f.UIGlobals.stage.removeEventListener(e.TouchEvent.TOUCH_END, this.stage_touchEndHandler, this);
                f.UIGlobals.stage.removeEventListener(e.Event.LEAVE_STAGE, this.stage_touchEndHandler, this);
                this._mouseDownItemRenderer = null
            };
            return b
        }(f.ListBase);
        f.List = g;
        g.prototype.__class__ =
                "egret.gui.List"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this._displayPopUp = this._popUpWidthMatchesAnchorWidth = this._popUpHeightMatchesAnchorHeight = this.addedToStage = this.popUpIsDisplayed = !1;
                this._popUp = null;
                this._relativeToStage = !1;
                this._popUpPosition = f.PopUpPosition.TOP_LEFT;
                this.inAnimation = !1;
                this.animator = null;
                this._openDuration = 250;
                this._closeDuration = 150;
                this.valueRange = 1;
                this.addEventListener(e.Event.ADDED_TO_STAGE, this.addedToStageHandler, this);
                this.addEventListener(e.Event.REMOVED_FROM_STAGE,
                        this.removedFromStageHandler, this)
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "popUpHeightMatchesAnchorHeight", {
                get: function () {
                    return this._popUpHeightMatchesAnchorHeight
                },
                set: function (a) {
                    this._popUpHeightMatchesAnchorHeight != a && (this._popUpHeightMatchesAnchorHeight = a, this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "popUpWidthMatchesAnchorWidth", {
                get: function () {
                    return this._popUpWidthMatchesAnchorWidth
                },
                set: function (a) {
                    this._popUpWidthMatchesAnchorWidth !=
                            a && (this._popUpWidthMatchesAnchorWidth = a, this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "displayPopUp", {
                get: function () {
                    return this._displayPopUp
                },
                set: function (a) {
                    this._displayPopUp != a && (this._displayPopUp = a, this.addOrRemovePopUp())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "popUp", {
                get: function () {
                    return this._popUp
                },
                set: function (a) {
                    this._popUp != a && (this._popUp = a, this.dispatchEventWith("popUpChanged"))
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a,
                    "popUpPosition", {
                        get: function () {
                            return this._popUpPosition
                        },
                        set: function (a) {
                            this._popUpPosition != a && (this._relativeToStage = a == f.PopUpPosition.SCREEN_CENTER, this._popUpPosition = a, this.invalidateDisplayList())
                        },
                        enumerable: !0,
                        configurable: !0
                    });
            a.updateDisplayList = function (a, b) {
                d.prototype.updateDisplayList.call(this, a, b);
                this.applyPopUpTransform(a, b)
            };
            a.updatePopUpTransform = function () {
                this.applyPopUpTransform(this.width, this.height)
            };
            a.calculatePopUpPosition = function () {
                var a = e.Point.identity;
                switch (this._popUpPosition) {
                    case f.PopUpPosition.BELOW:
                        a.x =
                                0;
                        a.y = this.height;
                        break;
                    case f.PopUpPosition.ABOVE:
                        a.x = 0;
                        a.y = -this.popUp.layoutBoundsHeight;
                        break;
                    case f.PopUpPosition.LEFT:
                        a.x = -this.popUp.layoutBoundsWidth;
                        a.y = 0;
                        break;
                    case f.PopUpPosition.RIGHT:
                        a.x = this.width;
                        a.y = 0;
                        break;
                    case f.PopUpPosition.CENTER:
                        a.x = 0.5 * (this.width - this.popUp.layoutBoundsWidth), a.y = 0.5 * (this.height - this.popUp.layoutBoundsHeight)
                }
                a = this.localToGlobal(a.x, a.y, a);
                return a = this.popUp.parent.globalToLocal(a.x, a.y, a)
            };
            Object.defineProperty(a, "openDuration", {
                get: function () {
                    return this._openDuration
                },
                set: function (a) {
                    this._openDuration = a
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "closeDuration", {
                get: function () {
                    return this._closeDuration
                },
                set: function (a) {
                    this._closeDuration = a
                },
                enumerable: !0,
                configurable: !0
            });
            a.animationStartHandler = function (a) {
                this.inAnimation = !0;
                this.popUp && "enabled" in this.popUp && (this.popUp.enabled = !1)
            };
            a.animationUpdateHandler = function (a) {
                var b = this.popUp._DO_Props_._scrollRect,
                        d = Math.round(a.currentValue.x);
                a = Math.round(a.currentValue.y);
                b ? (b.x = d, b.y = a, b.width =
                        this.popUp.width, b.height = this.popUp.height, this.popUp._setScrollRect(b)) : this.popUp._DO_Props_._scrollRect = new e.Rectangle(d, a, this.popUp.width, this.popUp.height)
            };
            a.animationEndHandler = function (a) {
                this.inAnimation = !1;
                this.popUp && "enabled" in this.popUp && (this.popUp.enabled = !0);
                this.popUp.scrollRect = null;
                this.popUpIsDisplayed || (f.PopUpManager.removePopUp(this.popUp), this.popUp.ownerChanged(null))
            };
            a.addOrRemovePopUp = function () {
                this.addedToStage && this.popUp && (null == this.popUp.parent && this.displayPopUp ?
                        (f.PopUpManager.addPopUp(this.popUp, this._relativeToStage, this._relativeToStage), this.popUp.ownerChanged(this), this.popUpIsDisplayed = !0, this.inAnimation && this.animator.end(), this.initialized ? (this.applyPopUpTransform(this.width, this.height), 0 < this._openDuration && this.startAnimation()) : e.callLater(function () {
                            0 < this.openDuration && this.startAnimation()
                        }, this)) : null == this.popUp.parent || this.displayPopUp || this.removeAndResetPopUp())
            };
            a.removeAndResetPopUp = function () {
                this.inAnimation && this.animator.end();
                this.popUpIsDisplayed = !1;
                0 < this._closeDuration ? this.startAnimation() : (f.PopUpManager.removePopUp(this.popUp), this.popUp.ownerChanged(null))
            };
            a.applyPopUpTransform = function (a, b) {
                if (this.popUpIsDisplayed) {
                    this.popUpWidthMatchesAnchorWidth && (this.popUp.width = a);
                    this.popUpHeightMatchesAnchorHeight && (this.popUp.height = b);
                    "validateNow" in this.popUp && this.popUp.validateNow();
                    var d = this.calculatePopUpPosition();
                    this.popUp.x = d.x;
                    this.popUp.y = d.y
                }
            };
            a.startAnimation = function () {
                this.animator || (this.animator =
                        new f.Animation(this.animationUpdateHandler, this), this.animator.endFunction = this.animationEndHandler, this.animator.startFunction = this.animationStartHandler);
                this.animator.motionPaths = this.createMotionPath();
                this.animator.duration = this.popUpIsDisplayed ? this._openDuration : this._closeDuration;
                this.animator.play()
            };
            a.createMotionPath = function () {
                var a = new f.SimpleMotionPath("x"),
                        b = new f.SimpleMotionPath("y"),
                        d = [a, b];
                switch (this._popUpPosition) {
                    case f.PopUpPosition.TOP_LEFT:
                    case f.PopUpPosition.CENTER:
                    case f.PopUpPosition.BELOW:
                        a.valueFrom =
                                a.valueTo = 0;
                        b.valueFrom = this.popUp.height;
                        b.valueTo = 0;
                        this.valueRange = this.popUp.height;
                        break;
                    case f.PopUpPosition.ABOVE:
                        a.valueFrom = a.valueTo = 0;
                        b.valueFrom = -this.popUp.height;
                        b.valueTo = 0;
                        this.valueRange = this.popUp.height;
                        break;
                    case f.PopUpPosition.LEFT:
                        b.valueFrom = b.valueTo = 0;
                        a.valueFrom = -this.popUp.width;
                        a.valueTo = 0;
                        this.valueRange = this.popUp.width;
                        break;
                    case f.PopUpPosition.RIGHT:
                        b.valueFrom = b.valueTo = 0;
                        a.valueFrom = this.popUp.width;
                        a.valueTo = 0;
                        this.valueRange = this.popUp.width;
                        break;
                    default:
                        this.valueRange =
                                1
                }
                this.valueRange = Math.abs(this.valueRange);
                if (!this.popUpIsDisplayed) {
                    var e = a.valueFrom;
                    a.valueFrom = a.valueTo;
                    a.valueTo = e;
                    e = b.valueFrom;
                    b.valueFrom = b.valueTo;
                    b.valueTo = e
                }
                return d
            };
            a.addedToStageHandler = function (a) {
                this.addedToStage = !0;
                e.callLater(this.checkPopUpState, this)
            };
            a.checkPopUpState = function () {
                this.addedToStage ? this.addOrRemovePopUp() : null != this.popUp && null != this.popUp.parent && this.removeAndResetPopUp()
            };
            a.removedFromStageHandler = function (a) {
                this.addedToStage = !1;
                e.callLater(this.checkPopUpState,
                        this)
            };
            return b
        }(f.UIComponent);
        f.PopUpAnchor = g;
        g.prototype.__class__ = "egret.gui.PopUpAnchor"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function () {
            return function () {
                this._viewport = null;
                this._autoHideScrollBars = !0;
                this._autoHideTimer = NaN;
                this._autoHideDelay = 300;
                this._autoHideShowAnimat = null;
                this._animatTargetIsShow = !1
            }
        }();
        e.ScrollerProperties = g;
        g.prototype.__class__ = "egret.gui.ScrollerProperties"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (a) {
            function c() {
                a.call(this);
                this.verticalScrollBar = this.horizontalScrollBar = null;
                e.ScrollView.call(this);
                this._Scr_Props_ = new e.gui.ScrollerProperties
            }
            __extends(c, a);
            var b = c.prototype;
            b.setContent = function (a) {
                this._content = a;
                this._removeEvents();
                this._addEvents();
                this._ScrV_Props_._scrollLeft = a.horizontalScrollPosition;
                this._ScrV_Props_._scrollTop = a.verticalScrollPosition
            };
            b._updateContentPosition = function () {
                var a = this._content;
                a.horizontalScrollPosition =
                        this._ScrV_Props_._scrollLeft;
                a.verticalScrollPosition = this._ScrV_Props_._scrollTop;
                a.setLayoutBoundsSize(this._UIC_Props_._width, this._UIC_Props_._height);
                this.dispatchEvent(new e.Event(e.Event.CHANGE))
            };
            b.getMaxScrollLeft = function () {
                var a = this._content;
                return Math.max(a.contentWidth - a.width, a.initialized ? 0 : a.horizontalScrollPosition || 0)
            };
            b.getMaxScrollTop = function () {
                var a = this._content;
                return Math.max(a.contentHeight - a.height, a.initialized ? 0 : a.verticalScrollPosition || 0)
            };
            b._getContentWidth = function () {
                return this._content.contentWidth
            };
            b._getContentHeight = function () {
                return this._content.contentHeight
            };
            b._onScrollStarted = function () {
                e.ScrollView.prototype._onScrollStarted.call(this);
                f.UIEvent.dispatchUIEvent(this, f.UIEvent.CHANGE_START)
            };
            b._onScrollFinished = function () {
                e.ScrollView.prototype._onScrollFinished.call(this);
                f.UIEvent.dispatchUIEvent(this, f.UIEvent.CHANGE_END)
            };
            b.measure = function () {
                this._Scr_Props_._viewport && (this.measuredWidth = this._Scr_Props_._viewport.preferredWidth, this.measuredHeight = this._Scr_Props_._viewport.preferredHeight)
            };
            b.updateDisplayList = function (a, c) {
                this.viewport && this.viewport.setLayoutBoundsSize(a, c);
                this._checkScrollPolicy();
                if ("off" != this._ScrV_Props_._horizontalScrollPolicy) {
                    var b = this.viewport.horizontalScrollPosition,
                            d = this.getMaxScrollLeft(),
                            b = Math.min(b, d);
                    this.setViewportHScrollPosition(b);
                    if (b = this.horizontalScrollBar)
                        b._setViewportMetric(a, this._Scr_Props_._viewport.contentWidth), b._setWidth(a - (b.left || 0) - (b.right || 0)), b.x = b.left || 0, b.y = c - this.horizontalScrollBar.layoutBoundsHeight, b.visible = this._ScrV_Props_._horizontalScrollPolicy ==
                                f.ScrollPolicy.ON || this._ScrV_Props_._hCanScroll, this._Scr_Props_._autoHideScrollBars && (b.alpha = 0)
                }
                "off" != this._ScrV_Props_._verticalScrollPolicy && (b = this.viewport.verticalScrollPosition, d = this.getMaxScrollTop(), b = Math.min(b, d), this.setViewportVScrollPosition(b), b = this.verticalScrollBar) && (b._setViewportMetric(c, this._Scr_Props_._viewport.contentHeight), b._setHeight(c - (b.top || 0) - (b.bottom || 0)), b.y = b.top || 0, b.x = a - this.verticalScrollBar.layoutBoundsWidth, b.visible = this._ScrV_Props_._verticalScrollPolicy ==
                        f.ScrollPolicy.ON || this._ScrV_Props_._vCanScroll, this._Scr_Props_._autoHideScrollBars && (b.alpha = 0))
            };
            Object.defineProperty(b, "verticalScrollPolicy", {
                get: function () {
                    return this._ScrV_Props_._verticalScrollPolicy
                },
                set: function (a) {
                    a != this._ScrV_Props_._verticalScrollPolicy && (this._ScrV_Props_._verticalScrollPolicy = a, this._checkVbar(), this.verticalScrollPolicy = a)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(b, "horizontalScrollPolicy", {
                get: function () {
                    return this._ScrV_Props_._horizontalScrollPolicy
                },
                set: function (a) {
                    a != this._ScrV_Props_._horizontalScrollPolicy && (this._ScrV_Props_._horizontalScrollPolicy = a, this._checkHbar(), this.horizontalScrollPolicy = a)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(b, "viewport", {
                get: function () {
                    return this._Scr_Props_._viewport
                },
                set: function (a) {
                    a != this._Scr_Props_._viewport && (this.uninstallViewport(), this._Scr_Props_._viewport = a, this.installViewport(), this.dispatchEventWith("viewportChanged"))
                },
                enumerable: !0,
                configurable: !0
            });
            b.installViewport = function () {
                var a =
                        this.viewport;
                this.addEventListener(e.Event.CHANGE, this._scrollerChangedHandler, this);
                this._createChildrenCalled && a && (a.clipAndEnableScrolling = !0, this.setContent(a), this._addToDisplayListAt(a, 0), a.addEventListener(e.gui.PropertyChangeEvent.PROPERTY_CHANGE, this._viewportChangedHandler, this))
            };
            b.uninstallViewport = function () {
                this.viewport && (this.viewport.clipAndEnableScrolling = !1, this.viewport.removeEventListener(e.gui.PropertyChangeEvent.PROPERTY_CHANGE, this._viewportChangedHandler, this), this._removeFromDisplayList(this.viewport))
            };
            b._viewportChangedHandler = function (a) {
                "horizontalScrollPosition" == a.property && this.setViewportHScrollPosition(this.viewport.horizontalScrollPosition);
                "verticalScrollPosition" == a.property && this.setViewportVScrollPosition(this.viewport.verticalScrollPosition);
                if ("contentWidth" == a.property || "contentHeight" == a.property)
                    this.invalidateDisplayList(), this.invalidateSize()
            };
            b._scrollerChangedHandler = function (a) {
                this.setViewportHScrollPosition(this.scrollLeft);
                this.setViewportVScrollPosition(this.scrollTop)
            };
            b.setViewportVScrollPosition = function (a) {
                this.scrollTop != a && (this.scrollTop = a);
                this.verticalScrollBar && this.verticalScrollBar.value != a && (this.verticalScrollBar.setPosition(a), this.hideOrShow(!0), this.setAutoHideTimer())
            };
            b.setViewportHScrollPosition = function (a) {
                this.scrollLeft != a && (this.scrollLeft = a);
                this.horizontalScrollBar && this.horizontalScrollBar.value != a && (this.horizontalScrollBar._setValue(a), this.hideOrShow(!0), this.setAutoHideTimer())
            };
            b.throwHorizontally = function (a, c) {
                void 0 === c && (c = 500);
                this.setScrollLeft(a, c)
            };
            b.throwVertically = function (a, c) {
                void 0 === c && (c = 500);
                this.setScrollTop(a, c)
            };
            Object.defineProperty(b, "autoHideScrollBars", {
                get: function () {
                    return this._Scr_Props_._autoHideScrollBars
                },
                set: function (a) {
                    this._Scr_Props_._autoHideScrollBars != a && ((this._Scr_Props_._autoHideScrollBars = a) ? this.setAutoHideTimer() : this.hideOrShow(!0))
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(b, "autoHideDelay", {
                get: function () {
                    return this._Scr_Props_._autoHideDelay
                },
                set: function (a) {
                    this._Scr_Props_._autoHideDelay !=
                            a && (this._Scr_Props_._autoHideDelay = a)
                },
                enumerable: !0,
                configurable: !0
            });
            b.setAutoHideTimer = function () {
                this._Scr_Props_._autoHideScrollBars && this.initialized && (this.horizontalScrollBar || this.verticalScrollBar) && (NaN != this._Scr_Props_._autoHideTimer && e.clearTimeout(this._Scr_Props_._autoHideTimer), this._Scr_Props_._autoHideTimer = e.setTimeout(this.hideOrShow.bind(this, !1), this, this._Scr_Props_._autoHideDelay))
            };
            b.hideOrShow = function (a) {
                var c = this;
                if (this.initialized && (this.horizontalScrollBar || this.verticalScrollBar)) {
                    if (null ==
                            this._Scr_Props_._autoHideShowAnimat)
                        this._Scr_Props_._autoHideShowAnimat = new f.Animation(function (a) {
                            a = a.currentValue.alpha;
                            c.horizontalScrollBar && (c.horizontalScrollBar.alpha = a);
                            c.verticalScrollBar && (c.verticalScrollBar.alpha = a)
                        }, this);
                    else {
                        if (this._Scr_Props_._animatTargetIsShow == a)
                            return;
                        this._Scr_Props_._autoHideShowAnimat.isPlaying && this._Scr_Props_._autoHideShowAnimat.stop()
                    }
                    this._Scr_Props_._animatTargetIsShow = a;
                    var b = this._Scr_Props_._autoHideShowAnimat;
                    b.motionPaths = [new f.SimpleMotionPath("alpha",
                                a ? 0 : 1, a ? 1 : 0)];
                    b.duration = a ? 100 : 300;
                    b.play()
                }
            };
            Object.defineProperty(b, "numElements", {
                get: function () {
                    return this.viewport ? 1 : 0
                },
                enumerable: !0,
                configurable: !0
            });
            b.throwRangeError = function (a) {
                throw new RangeError(e.getString(3011, a));
            };
            b.getElementAt = function (a) {
                if (this.viewport && 0 == a)
                    return this.viewport;
                this.throwRangeError(a);
                return null
            };
            b.getElementIndex = function (a) {
                return null != a && a == this.viewport ? 0 : -1
            };
            b.containsElement = function (a) {
                return null != a && a == this.viewport ? !0 : !1
            };
            b.throwNotSupportedError =
                    function () {
                        throw Error(e.getString(3012));
                    };
            b.addElement = function (a) {
                this.throwNotSupportedError();
                return null
            };
            b.addElementAt = function (a, c) {
                this.throwNotSupportedError();
                return null
            };
            b.removeElement = function (a) {
                this.throwNotSupportedError();
                return null
            };
            b.removeElementAt = function (a) {
                this.throwNotSupportedError();
                return null
            };
            b.removeAllElements = function () {
                this.throwNotSupportedError()
            };
            b.setElementIndex = function (a, c) {
                this.throwNotSupportedError()
            };
            b.swapElements = function (a, c) {
                this.throwNotSupportedError()
            };
            b.swapElementsAt = function (a, c) {
                this.throwNotSupportedError()
            };
            b.addChild = function (a) {
                this.throwNotSupportedError();
                return null
            };
            b.addChildAt = function (a, c) {
                this.throwNotSupportedError();
                return null
            };
            b.removeChild = function (a) {
                this.throwNotSupportedError();
                return null
            };
            b.removeChildAt = function (a) {
                this.throwNotSupportedError();
                return null
            };
            b.setChildIndex = function (a, c) {
                this.throwNotSupportedError()
            };
            b.swapChildren = function (a, c) {
                this.throwNotSupportedError()
            };
            b.swapChildrenAt = function (a, c) {
                this.throwNotSupportedError()
            };
            b._checkHbar = function () {
                if ("off" == this._ScrV_Props_._horizontalScrollPolicy)
                    this._uninstallHorizontalScrollBar();
                else if (this.horizontalScrollBar) {
                    var a = this.horizontalScrollBar;
                    a.addEventListener(e.Event.CHANGE, this.hBarChanged, this, !1);
                    a._setViewportMetric(this._Scr_Props_._viewport.width, this._Scr_Props_._viewport.contentWidth);
                    a.owner && "removeElement" in a.owner && a.owner.removeElement(a);
                    this._addToDisplayList(this.horizontalScrollBar)
                }
            };
            b._checkVbar = function () {
                if ("off" == this._ScrV_Props_._verticalScrollPolicy)
                    this._uninstallVerticalScrollBar();
                else if (this.verticalScrollBar && this.verticalScrollBar.owner != this) {
                    var a = this.verticalScrollBar;
                    a.addEventListener(e.Event.CHANGE, this.vBarChanged, this, !1);
                    a._setViewportMetric(this._Scr_Props_._viewport.height, this._Scr_Props_._viewport.contentHeight);
                    a.owner && "removeElement" in a.owner && a.owner.removeElement(a);
                    this._addToDisplayList(this.verticalScrollBar)
                }
            };
            b.createChildren = function () {
                a.prototype.createChildren.call(this);
                this.installViewport()
            };
            b.partAdded = function (c, b) {
                a.prototype.partAdded.call(this,
                        c, b);
                b == this.horizontalScrollBar && this._checkHbar();
                b == this.verticalScrollBar && this._checkVbar()
            };
            b.partRemoved = function (c, b) {
                a.prototype.partRemoved.call(this, c, b);
                this.horizontalScrollBar == b && (this.horizontalScrollBar.parent == this && this._uninstallHorizontalScrollBar(), this.horizontalScrollBar = null);
                this.verticalScrollBar == b && (this.verticalScrollBar.parent == this && this._uninstallVerticalScrollBar(), this.verticalScrollBar = null)
            };
            b._uninstallHorizontalScrollBar = function () {
                null != this.horizontalScrollBar &&
                        (this._removeFromDisplayList(this.horizontalScrollBar), this.horizontalScrollBar.removeEventListener(e.Event.CHANGE, this.hBarChanged, this, !1))
            };
            b._uninstallVerticalScrollBar = function () {
                null != this.verticalScrollBar && (this._removeFromDisplayList(this.verticalScrollBar), this.verticalScrollBar.removeEventListener(e.Event.CHANGE, this.vBarChanged, this, !1))
            };
            b.hBarChanged = function (a) {
                this.setViewportHScrollPosition(this.horizontalScrollBar._getValue())
            };
            b.vBarChanged = function (a) {
                this.setViewportVScrollPosition(this.verticalScrollBar.getPosition())
            };
            b.hitTest = function (c, b, d) {
                void 0 === d && (d = !1);
                var e = a.prototype.hitTest.call(this, c, b, d);
                return e ? e : this._DO_Props_._visible && (d || this._DO_Props_._touchEnabled) ? 0 <= c && c < this.width && 0 <= b && b < this.height ? this : null : null
            };
            return c
        }(f.SkinnableComponent);
        f.Scroller = g;
        g.prototype.__class__ = "egret.gui.Scroller";
        for (var d in e.ScrollView.prototype)
            if (e.ScrollView.prototype.hasOwnProperty(d) && !g.prototype.hasOwnProperty(d) && !f.SkinnableComponent.prototype.hasOwnProperty(d) && !f.UIComponent.prototype.hasOwnProperty(d)) {
                var b =
                        Object.getOwnPropertyDescriptor(e.ScrollView.prototype, d);
                b && (b.get || b.set) ? Object.defineProperty(g.prototype, d, b) : g.prototype[d] = e.ScrollView.prototype[d]
            }
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this._selectable = !0;
                this._displayAsPassword = !1;
                this._editable = this.pendingEditable = this.displayAsPasswordChanged = !0;
                this.editableChanged = !1;
                this._maxChars = 0;
                this.maxCharsChanged = !1;
                this._multiline = !0;
                this.multilineChanged = !1;
                this._restrict = null;
                this.restrictChanged = !1;
                this._heightInLines = NaN;
                this.heightInLinesChanged = !1;
                this._widthInChars = NaN;
                this.widthInCharsChanged = !1;
                this._verticalScrollPosition = this._horizontalScrollPosition =
                        this._contentHeight = this._contentWidth = 0;
                this._clipAndEnableScrolling = !1;
                this.defaultWidth = this.defaultHeight = NaN;
                this.isValidating = !1;
                this.selectable = !0
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "selectable", {
                get: function () {
                    return this._selectable
                },
                set: function (a) {
                    this._selectable = a
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "displayAsPassword", {
                get: function () {
                    return this._displayAsPassword
                },
                set: function (a) {
                    a != this._displayAsPassword && (this._displayAsPassword = a, this.displayAsPasswordChanged = !0, this.invalidateProperties(), this.invalidateSize(), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "editable", {
                get: function () {
                    return this._UIC_Props_._enabled ? this._editable : this.pendingEditable
                },
                set: function (a) {
                    this._editable != a && (this._UIC_Props_._enabled ? (this._editable = a, this.editableChanged = !0, this.invalidateProperties()) : this.pendingEditable = a)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "enabled", {
                get: function () {
                    return this._editable
                },
                set: function (a) {
                    a !=
                            this._UIC_Props_._enabled && (this._UIC_Props_._enabled = a, this._UIC_Props_._enabled ? (this._editable != this.pendingEditable && (this.editableChanged = !0), this._editable = this.pendingEditable) : (this.editable && (this.editableChanged = !0), this.pendingEditable = this._editable, this._editable = !1), this.invalidateProperties())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "maxChars", {
                get: function () {
                    return this._maxChars
                },
                set: function (a) {
                    void 0 === a && (a = 0);
                    a != this._maxChars && (this._maxChars = a, this.maxCharsChanged = !0, this.invalidateProperties())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "multiline", {
                get: function () {
                    return this._multiline
                },
                set: function (a) {
                    a != this.multiline && (this._multiline = a, this.multilineChanged = !0, this.invalidateProperties())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "restrict", {
                get: function () {
                    return this._restrict
                },
                set: function (a) {
                    a != this._restrict && (this._restrict = a, this.restrictChanged = !0, this.invalidateProperties())
                },
                enumerable: !0,
                configurable: !0
            });
            a.styleChanged =
                    function (a) {
                        d.prototype.styleChanged.call(this, a);
                        a && "size" != a || (this.widthInCharsChanged = this.heightInLinesChanged = !0)
                    };
            a._setLineSpacing = function (a) {
                this._lineSpacing != a && (d.prototype._setLineSpacing.call(this, a), this.heightInLinesChanged = !0)
            };
            Object.defineProperty(a, "heightInLines", {
                get: function () {
                    return this._heightInLines
                },
                set: function (a) {
                    this._heightInLines != a && (this._heightInLines = a, this.heightInLinesChanged = !0, this.invalidateProperties())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a,
                    "widthInChars", {
                        get: function () {
                            return this._widthInChars
                        },
                        set: function (a) {
                            this._widthInChars != a && (this._widthInChars = a, this.widthInCharsChanged = !0, this.invalidateProperties())
                        },
                        enumerable: !0,
                        configurable: !0
                    });
            Object.defineProperty(a, "contentWidth", {
                get: function () {
                    return this._contentWidth
                },
                enumerable: !0,
                configurable: !0
            });
            a.setContentWidth = function (a) {
                if (a != this._contentWidth) {
                    var b = this._contentWidth;
                    this._contentWidth = a;
                    this.dispatchPropertyChangeEvent("contentWidth", b, a)
                }
            };
            Object.defineProperty(a,
                    "contentHeight", {
                        get: function () {
                            return this._contentHeight
                        },
                        enumerable: !0,
                        configurable: !0
                    });
            a.setContentHeight = function (a) {
                if (a != this._contentHeight) {
                    var b = this._contentHeight;
                    this._contentHeight = a;
                    this.dispatchPropertyChangeEvent("contentHeight", b, a)
                }
            };
            Object.defineProperty(a, "horizontalScrollPosition", {
                get: function () {
                    return this._horizontalScrollPosition
                },
                set: function (a) {
                    this._horizontalScrollPosition != a && (this._horizontalScrollPosition = a)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a,
                    "verticalScrollPosition", {
                        get: function () {
                            return this._verticalScrollPosition
                        },
                        set: function (a) {
                            this._verticalScrollPosition != a && (this._verticalScrollPosition = a = Math.round(a))
                        },
                        enumerable: !0,
                        configurable: !0
                    });
            a.getScrollVByVertitcalPos = function (a) {
                if (0 == this._textField.numLines)
                    return 1;
                var b = this._textField._getLineHeight();
                return this._textField.height + (this.height - 4) % b - this.height == a ? this._textField.maxScrollV : parseInt((a - 2) / b) + 1
            };
            a.getVerticalPosByScrollV = function (a) {
                void 0 === a && (a = 0);
                if (1 == a ||
                        0 == this._textField.numLines)
                    return 0;
                var b = this._textField._getLineHeight();
                return a == this._textField.maxScrollV ? this._textField.height + (this.height - 4) % b - this.height : b * (a - 1) + 2
            };
            a.getHorizontalScrollPositionDelta = function (a) {
                void 0 === a && (a = 0);
                var b = 0,
                        d = this._contentWidth - this._horizontalScrollPosition - this.width,
                        e = -this._horizontalScrollPosition;
                switch (a) {
                    case f.NavigationUnit.LEFT:
                        b = 0 >= this._horizontalScrollPosition ? 0 : Math.max(e, -this.size);
                        break;
                    case f.NavigationUnit.RIGHT:
                        b = this._horizontalScrollPosition +
                                this.width >= this.contentWidth ? 0 : Math.min(d, this.size);
                        break;
                    case f.NavigationUnit.PAGE_LEFT:
                        b = Math.max(e, -this.width);
                        break;
                    case f.NavigationUnit.PAGE_RIGHT:
                        b = Math.min(d, this.width);
                        break;
                    case f.NavigationUnit.HOME:
                        b = e;
                        break;
                    case f.NavigationUnit.END:
                        b = d
                }
                return b
            };
            a.getVerticalScrollPositionDelta = function (a) {
                void 0 === a && (a = 0);
                var b = 0,
                        d = this._contentHeight - this._verticalScrollPosition - this.height,
                        e = -this._verticalScrollPosition;
                switch (a) {
                    case f.NavigationUnit.UP:
                        b = this.getVScrollDelta(-1);
                        break;
                    case f.NavigationUnit.DOWN:
                        b =
                                this.getVScrollDelta(1);
                        break;
                    case f.NavigationUnit.PAGE_UP:
                        b = Math.max(e, -this.width);
                        break;
                    case f.NavigationUnit.PAGE_DOWN:
                        b = Math.min(d, this.width);
                        break;
                    case f.NavigationUnit.HOME:
                        b = e;
                        break;
                    case f.NavigationUnit.END:
                        b = d
                }
                return b
            };
            a.getVScrollDelta = function (a) {
                void 0 === a && (a = 0);
                if (!this._textField)
                    return 0;
                a = this.getScrollVByVertitcalPos(this._verticalScrollPosition) + a;
                a = Math.max(1, Math.min(this._textField.maxScrollV, a));
                return this.getVerticalPosByScrollV(a) - this._verticalScrollPosition
            };
            Object.defineProperty(a,
                    "clipAndEnableScrolling", {
                        get: function () {
                            return this._clipAndEnableScrolling
                        },
                        set: function (a) {
                            this._clipAndEnableScrolling != a && (this._clipAndEnableScrolling = a)
                        },
                        enumerable: !0,
                        configurable: !0
                    });
            a.commitProperties = function () {
                this._textField || (this.restrictChanged = this.multilineChanged = this.maxCharsChanged = this.displayAsPasswordChanged = this.editableChanged = !0);
                d.prototype.commitProperties.call(this);
                this.editableChanged && (this._textField.type = this._editable ? e.TextFieldType.INPUT : e.TextFieldType.DYNAMIC,
                        this.editableChanged = !1);
                this.displayAsPasswordChanged && (this._textField.displayAsPassword = this._displayAsPassword, this.displayAsPasswordChanged = !1);
                this.maxCharsChanged && (this._textField.maxChars = this._maxChars, this.maxCharsChanged = !1);
                this.multilineChanged && (this._textField.multiline = this._multiline, this.multilineChanged = !1);
                this.restrictChanged && (this.restrictChanged = !1);
                if (this.heightInLinesChanged)
                    if (this.heightInLinesChanged = !1, isNaN(this._heightInLines))
                        this.defaultHeight = NaN;
                    else {
                        var a = parseInt(this.heightInLines),
                                b = 22,
                                f = this._textField._TF_Props_;
                        0 < f._text.length ? b = this._textField._getLineHeight() : (f._text = "M", b = this._textField._getLineHeight(), f._text = "");
                        this.defaultHeight = a * b + 4
                    }
                this.widthInCharsChanged && (this.widthInCharsChanged = !1, isNaN(this._widthInChars) ? this.defaultWidth = NaN : (a = parseInt(this._widthInChars), this.defaultWidth = this.size * a + 5))
            };
            a.updateDisplayList = function (a, b) {
                this.isValidating = !0;
                d.prototype.updateDisplayList.call(this, a, b);
                this.updateContentSize();
                this.isValidating = !1
            };
            a.updateContentSize =
                    function () {
                        if (this.clipAndEnableScrolling) {
                            this.setContentWidth(this._textField.width);
                            var a = 0;
                            0 == this._textField.numLines ? a = 4 : (a = this._textField._getLineHeight(), a = this._textField.height + (this.height - 4) % a);
                            this.setContentHeight(a)
                        }
                    };
            Object.defineProperty(a, "selectionBeginIndex", {
                get: function () {
                    this.validateProperties();
                    return this._textField ? this._textField.selectionBeginIndex : 0
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "selectionEndIndex", {
                get: function () {
                    this.validateProperties();
                    return this._textField ? this._textField.selectionEndIndex : 0
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "caretIndex", {
                get: function () {
                    this.validateProperties();
                    return this._textField ? this._textField.caretIndex : 0
                },
                enumerable: !0,
                configurable: !0
            });
            a.setSelection = function (a, b) {
                void 0 === b && (b = 0);
                this.validateProperties();
                this._textField && this._textField._setSelection(a, b)
            };
            a.selectAll = function () {
                this.validateProperties();
                this._textField && this._textField._setSelection(0, this._textField.text.length)
            };
            a.measure = function () {
                this.measuredWidth = isNaN(this.defaultWidth) ? f.TextBase.DEFAULT_MEASURED_WIDTH : this.defaultWidth;
                0 != this._maxChars && (this.measuredWidth = Math.min(this.measuredWidth, this._textField.width));
                this.measuredHeight = this._multiline ? isNaN(this.defaultHeight) ? 2 * f.TextBase.DEFAULT_MEASURED_HEIGHT : this.defaultHeight : this._textField.height
            };
            a._createTextField = function () {
                d.prototype._createTextField.call(this);
                this._textField.type = this._editable ? e.TextFieldType.INPUT : e.TextFieldType.DYNAMIC;
                this._textField.multiline = this._multiline;
                this._textField.addEventListener(e.Event.CHANGE, this.textField_changeHandler, this);
                this._textField.addEventListener("scroll", this.textField_scrollHandler, this);
                this._textField.addEventListener("input", this.textField_textInputHandler, this)
            };
            a.textField_changeHandler = function (a) {
                this._textFieldChanged();
                a.stopImmediatePropagation();
                this.dispatchEvent(new e.Event(e.Event.CHANGE));
                this.invalidateSize();
                this.invalidateDisplayList();
                this.updateContentSize()
            };
            a.textField_scrollHandler =
                    function (a) {
                    };
            a.textField_textInputHandler = function (a) {
                a.stopImmediatePropagation();
                var b = new e.Event(a.type, !1, !0);
                b.data = a.data;
                this.dispatchEvent(b);
                b.isDefaultPrevented() && a.preventDefault()
            };
            return b
        }(f.TextBase);
        f.EditableText = g;
        g.prototype.__class__ = "egret.gui.EditableText"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(a, c, b) {
                void 0 === c && (c = !1);
                void 0 === b && (b = !1);
                d.call(this, a, c, b)
            }
            __extends(b, d);
            b.dispatchUIEvent = function (a, c) {
                e.Event._dispatchByTarget(b, a, c)
            };
            b.INITIALIZE = "initialize";
            b.CREATION_COMPLETE = "creationComplete";
            b.UPDATE_COMPLETE = "updateComplete";
            b.BUTTON_DOWN = "buttonDown";
            b.CHANGE_END = "changeEnd";
            b.CHANGE_START = "changeStart";
            b.CHANGING = "changing";
            b.VALUE_COMMIT = "valueCommit";
            b.SKIN_CHANGED = "skinChanged";
            b.CONTENT_CHANGED = "contentChanged";
            b.OPEN =
                    "open";
            b.CLOSE = "close";
            b.PLAY_COMPLETE = "playComplete";
            return b
        }(e.Event);
        f.UIEvent = g;
        g.prototype.__class__ = "egret.gui.UIEvent"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(a, c, b, e, f, g, r, l) {
                void 0 === c && (c = !1);
                void 0 === b && (b = !1);
                void 0 === e && (e = null);
                void 0 === f && (f = null);
                void 0 === g && (g = null);
                void 0 === r && (r = null);
                void 0 === l && (l = null);
                d.call(this, a, c, b);
                this.source = this.property = this.oldValue = this.newValue = this.kind = null;
                this.kind = e;
                this.property = f;
                this.oldValue = g;
                this.newValue = r;
                this.source = l
            }
            __extends(b, d);
            b.dispatchPropertyChangeEvent = function (a, c, d, f, g, x) {
                void 0 === c && (c = null);
                void 0 === d && (d = null);
                void 0 === f && (f =
                        null);
                void 0 === g && (g = null);
                void 0 === x && (x = null);
                var r = e.Event._getPropertyData(b);
                r.kind = c;
                r.property = d;
                r.oldValue = f;
                r.newValue = g;
                r.source = x;
                e.Event._dispatchByTarget(b, a, b.PROPERTY_CHANGE, r)
            };
            b.PROPERTY_CHANGE = "propertyChange";
            return b
        }(e.Event);
        f.PropertyChangeEvent = g;
        g.prototype.__class__ = "egret.gui.PropertyChangeEvent"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function () {
            function d() {
            }
            d.UPDATE = "update";
            d.DELETE = "delete";
            return d
        }();
        e.PropertyChangeEventKind = g;
        g.prototype.__class__ = "egret.gui.PropertyChangeEventKind"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(a, c, b, e, f) {
                void 0 === c && (c = NaN);
                void 0 === b && (b = NaN);
                void 0 === e && (e = !1);
                void 0 === f && (f = !1);
                d.call(this, a, e, f);
                this.oldY = this.oldX = NaN;
                this.oldX = c;
                this.oldY = b
            }
            __extends(b, d);
            b.dispatchMoveEvent = function (a, c, d) {
                void 0 === c && (c = NaN);
                void 0 === d && (d = NaN);
                var f = e.Event._getPropertyData(b);
                f.oldX = c;
                f.oldY = d;
                e.Event._dispatchByTarget(b, a, b.MOVE, f)
            };
            b.MOVE = "move";
            return b
        }(e.Event);
        f.MoveEvent = g;
        g.prototype.__class__ = "egret.gui.MoveEvent"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(a, c, b, e, f) {
                void 0 === c && (c = NaN);
                void 0 === b && (b = NaN);
                void 0 === e && (e = !1);
                void 0 === f && (f = !1);
                d.call(this, a, e, f);
                this.oldWidth = this.oldHeight = NaN;
                this.oldWidth = c;
                this.oldHeight = b
            }
            __extends(b, d);
            b.dispatchResizeEvent = function (a, c, d) {
                void 0 === c && (c = NaN);
                void 0 === d && (d = NaN);
                var f = e.Event._getPropertyData(b);
                f.oldWidth = c;
                f.oldHeight = d;
                e.Event._dispatchByTarget(b, a, b.RESIZE, f)
            };
            b.RESIZE = "resize";
            return b
        }(e.Event);
        f.ResizeEvent = g;
        g.prototype.__class__ =
                "egret.gui.ResizeEvent"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(a, c, b, e, f) {
                void 0 === c && (c = !1);
                void 0 === b && (b = !1);
                void 0 === e && (e = null);
                void 0 === f && (f = null);
                d.call(this, a, c, b);
                this.partName = this.instance = null;
                this.partName = e;
                this.instance = f
            }
            __extends(b, d);
            b.dispatchSkinPartEvent = function (a, c, d, f) {
                void 0 === d && (d = null);
                void 0 === f && (f = null);
                var g = e.Event._getPropertyData(b);
                g.partName = d;
                g.instance = f;
                e.Event._dispatchByTarget(b, a, c, g)
            };
            b.PART_ADDED = "partAdded";
            b.PART_REMOVED = "partRemoved";
            return b
        }(e.Event);
        f.SkinPartEvent =
                g;
        g.prototype.__class__ = "egret.gui.SkinPartEvent"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(a, c, b, e, f, g, r, l) {
                void 0 === c && (c = !1);
                void 0 === b && (b = !1);
                void 0 === e && (e = null);
                void 0 === f && (f = -1);
                void 0 === g && (g = -1);
                void 0 === r && (r = null);
                void 0 === l && (l = null);
                d.call(this, a, c, b);
                this.oldItems = this.items = this.kind = null;
                this.kind = e;
                this.location = f;
                this.oldLocation = g;
                this.items = r ? r : [];
                this.oldItems = l ? l : []
            }
            __extends(b, d);
            b.dispatchCollectionEvent = function (a, c, d, f, g, x, r) {
                void 0 === d && (d = null);
                void 0 === f && (f = -1);
                void 0 === g && (g = -1);
                void 0 === x && (x = null);
                void 0 === r && (r = null);
                var l = e.Event._getPropertyData(b);
                l.kind = d;
                l.location = f;
                l.oldLocation = g;
                l.items = x;
                l.oldItems = r;
                e.Event._dispatchByTarget(b, a, c, l)
            };
            b.COLLECTION_CHANGE = "collectionChange";
            return b
        }(e.Event);
        f.CollectionEvent = g;
        g.prototype.__class__ = "egret.gui.CollectionEvent"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function () {
            function d() {
            }
            d.ADD = "add";
            d.MOVE = "move";
            d.REFRESH = "refresh";
            d.REMOVE = "remove";
            d.REPLACE = "replace";
            d.RESET = "reset";
            d.UPDATE = "update";
            d.OPEN = "open";
            d.CLOSE = "close";
            return d
        }();
        e.CollectionEventKind = g;
        g.prototype.__class__ = "egret.gui.CollectionEventKind"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(a, c, b, e, f) {
                void 0 === c && (c = !1);
                void 0 === b && (b = !1);
                void 0 === e && (e = null);
                void 0 === f && (f = -1);
                d.call(this, a, c, b);
                this.index = NaN;
                this.element = null;
                this.element = e;
                this.index = f
            }
            __extends(b, d);
            b.dispatchElementExistenceEvent = function (a, c, d, f) {
                void 0 === d && (d = null);
                void 0 === f && (f = -1);
                var g = e.Event._getPropertyData(b);
                g.element = d;
                g.index = f;
                e.Event._dispatchByTarget(b, a, c, g)
            };
            b.ELEMENT_ADD = "elementAdd";
            b.ELEMENT_REMOVE = "elementRemove";
            return b
        }(e.Event);
        f.ElementExistenceEvent =
                g;
        g.prototype.__class__ = "egret.gui.ElementExistenceEvent"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(a, c, b, e, f) {
                void 0 === c && (c = !1);
                void 0 === b && (b = !1);
                void 0 === e && (e = -1);
                void 0 === f && (f = -1);
                d.call(this, a, c, b);
                this.oldIndex = this.newIndex = NaN;
                this.oldIndex = e;
                this.newIndex = f
            }
            __extends(b, d);
            b.dispatchIndexChangeEvent = function (a, c, d, f, g) {
                void 0 === d && (d = -1);
                void 0 === f && (f = -1);
                void 0 === g && (g = !1);
                var x = e.Event._getPropertyData(b);
                x.oldIndex = d;
                x.newIndex = f;
                return e.Event._dispatchByTarget(b, a, c, x, !1, g)
            };
            b.CHANGE = "change";
            b.CHANGING = "changing";
            return b
        }(e.Event);
        f.IndexChangeEvent = g;
        g.prototype.__class__ = "egret.gui.IndexChangeEvent"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(a, c, b, e, f, g, r, l, k, m, n, p, q) {
                void 0 === c && (c = !0);
                void 0 === b && (b = !0);
                void 0 === e && (e = 0);
                void 0 === f && (f = 0);
                void 0 === g && (g = 0);
                void 0 === r && (r = !1);
                void 0 === l && (l = !1);
                void 0 === k && (k = !1);
                void 0 === m && (m = !1);
                void 0 === n && (n = -1);
                void 0 === p && (p = null);
                void 0 === q && (q = null);
                d.call(this, a, c, b, e, f, g, r, l, k, m);
                this.itemRenderer = this.item = null;
                this.itemIndex = NaN;
                this.itemIndex = n;
                this.item = p;
                this.itemRenderer = q
            }
            __extends(b, d);
            b.dispatchListEvent = function (a, c, d, f, g, x) {
                void 0 ===
                        d && (d = null);
                void 0 === f && (f = -1);
                void 0 === g && (g = null);
                void 0 === x && (x = null);
                var r = e.Event._getPropertyData(b);
                r.touchPointID = d.touchPointID;
                r._stageX = d.stageX;
                r._stageY = d.stageY;
                r.ctrlKey = d.ctrlKey;
                r.altKey = d.altKey;
                r.shiftKey = d.shiftKey;
                r.touchDown = d.touchDown;
                r.itemIndex = f;
                r.item = g;
                r.itemRenderer = x;
                e.Event._dispatchByTarget(b, a, c, r)
            };
            b.ITEM_ROLL_OUT = "itemRollOut";
            b.ITEM_ROLL_OVER = "itemRollOver";
            b.ITEM_CLICK = "itemClick";
            return b
        }(e.TouchEvent);
        f.ListEvent = g;
        g.prototype.__class__ = "egret.gui.ListEvent"
    })(e.gui ||
            (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(a, c, b, e, f) {
                void 0 === c && (c = !1);
                void 0 === b && (b = !1);
                void 0 === e && (e = null);
                void 0 === f && (f = !1);
                d.call(this, a, c, b);
                this.popUp = null;
                this.modal = !1;
                this.popUp = e;
                this.modal = f
            }
            __extends(b, d);
            b.dispatchPopUpEvent = function (a, c, d, f) {
                void 0 === d && (d = null);
                void 0 === f && (f = !1);
                var g = e.Event._getPropertyData(b);
                g.popUp = d;
                g.modal = f;
                e.Event._dispatchByTarget(b, a, c, g)
            };
            b.ADD_POPUP = "addPopUp";
            b.REMOVE_POPUP = "removePopUp";
            b.BRING_TO_FRONT = "bringToFront";
            return b
        }(e.Event);
        f.PopUpEvent = g;
        g.prototype.__class__ = "egret.gui.PopUpEvent"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(a, c, b, e, f, g) {
                void 0 === c && (c = !1);
                void 0 === b && (b = !1);
                void 0 === e && (e = null);
                void 0 === f && (f = -1);
                void 0 === g && (g = null);
                d.call(this, a, c, b);
                this.data = null;
                this.index = NaN;
                this.renderer = null;
                this.renderer = e;
                this.index = f;
                this.data = g
            }
            __extends(b, d);
            b.dispatchRendererExistenceEvent = function (a, c, d, f, g) {
                void 0 === d && (d = null);
                void 0 === f && (f = -1);
                void 0 === g && (g = null);
                var x = e.Event._getPropertyData(b);
                x.renderer = d;
                x.index = f;
                x.data = g;
                e.Event._dispatchByTarget(b, a,
                        c, x)
            };
            b.RENDERER_ADD = "rendererAdd";
            b.RENDERER_REMOVE = "rendererRemove";
            return b
        }(e.Event);
        f.RendererExistenceEvent = g;
        g.prototype.__class__ = "egret.gui.RendererExistenceEvent"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(a, c, b, e, f) {
                void 0 === c && (c = !1);
                void 0 === b && (b = !1);
                void 0 === e && (e = null);
                void 0 === f && (f = null);
                d.call(this, a, c, b);
                this.oldState = this.newState = null;
                this.oldState = e;
                this.newState = f
            }
            __extends(b, d);
            b.dispatchStateChangeEvent = function (a, c, d, f) {
                void 0 === d && (d = null);
                void 0 === f && (f = null);
                var g = e.Event._getPropertyData(b);
                g.oldState = d;
                g.newState = f;
                e.Event._dispatchByTarget(b, a, c, g)
            };
            b.CURRENT_STATE_CHANGE = "currentStateChange";
            b.CURRENT_STATE_CHANGING = "currentStateChanging";
            b.STATE_CHANGE_COMPLETE = "stateChangeComplete";
            return b
        }(e.Event);
        f.StateChangeEvent = g;
        g.prototype.__class__ = "egret.gui.StateChangeEvent"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(a, c, b) {
                void 0 === c && (c = !1);
                void 0 === b && (b = !1);
                d.call(this, a, c, b)
            }
            __extends(b, d);
            b.dispatchTrackBaseEvent = function (a, c) {
                e.Event._dispatchByTarget(b, a, c)
            };
            b.THUMB_DRAG = "thumbDrag";
            b.THUMB_PRESS = "thumbPress";
            b.THUMB_RELEASE = "thumbRelease";
            return b
        }(e.Event);
        f.TrackBaseEvent = g;
        g.prototype.__class__ = "egret.gui.TrackBaseEvent"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b(a, c, b, e) {
                void 0 === c && (c = !1);
                void 0 === b && (b = !1);
                void 0 === e && (e = null);
                d.call(this, a, c, b);
                this.effectInstance = e
            }
            __extends(b, d);
            b.EFFECT_END = "effectEnd";
            b.EFFECT_STOP = "effectStop";
            b.EFFECT_START = "effectStart";
            b.EFFECT_REPEAT = "effectRepeat";
            b.EFFECT_UPDATE = "effectUpdate";
            return b
        }(e.Event);
        f.EffectEvent = g;
        g.prototype.__class__ = "egret.gui.EffectEvent"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this._target = null;
                this._useVirtualLayout = !1;
                this._typicalLayoutRect = null
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "target", {
                get: function () {
                    return this._target
                },
                set: function (a) {
                    this._target != a && (this._target = a, this.clearVirtualLayoutCache())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "useVirtualLayout", {
                get: function () {
                    return this._useVirtualLayout
                },
                set: function (a) {
                    this._useVirtualLayout != a && (this._useVirtualLayout =
                            a, this.dispatchEventWith("useVirtualLayoutChanged"), this._useVirtualLayout && !a && this.clearVirtualLayoutCache(), this.target && this.target.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "typicalLayoutRect", {
                get: function () {
                    return this._typicalLayoutRect
                },
                set: function (a) {
                    this._typicalLayoutRect != a && (this._typicalLayoutRect = a, this.target && this.target.invalidateSize())
                },
                enumerable: !0,
                configurable: !0
            });
            a.scrollPositionChanged = function () {
            };
            a.clearVirtualLayoutCache = function () {
            };
            a.elementAdded = function (a) {
            };
            a.elementRemoved = function (a) {
            };
            a.measure = function () {
            };
            a.updateDisplayList = function (a, b) {
            };
            return b
        }(e.EventDispatcher);
        f.LayoutBase = g;
        g.prototype.__class__ = "egret.gui.LayoutBase"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this._mouseWheelSpeed = 20
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "useVirtualLayout", {
                set: function (a) {
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "mouseWheelSpeed", {
                get: function () {
                    return this._mouseWheelSpeed
                },
                set: function (a) {
                    0 == a && (a = 1);
                    this._mouseWheelSpeed = a
                },
                enumerable: !0,
                configurable: !0
            });
            a.getElementBoundsLeftOfScrollRect = function (a) {
                var b = new e.Rectangle;
                b.x = a.x - this._mouseWheelSpeed;
                b.right =
                        a.x;
                return b
            };
            a.getElementBoundsRightOfScrollRect = function (a) {
                var b = new e.Rectangle;
                b.x = a.right;
                b.right = a.right + this._mouseWheelSpeed;
                return b
            };
            a.getElementBoundsAboveScrollRect = function (a) {
                var b = new e.Rectangle;
                b.y = a.y - this._mouseWheelSpeed;
                b.bottom = a.y;
                return b
            };
            a.getElementBoundsBelowScrollRect = function (a) {
                var b = new e.Rectangle;
                b.y = a.bottom;
                b.bottom = a.bottom + this._mouseWheelSpeed;
                return b
            };
            a.measure = function () {
                d.prototype.measure.call(this);
                if (null != this.target) {
                    for (var a = 0, b = 0, e = this.target.numElements,
                            f = 0; f < e; f++) {
                        var g = this.target.getElementAt(f);
                        if (g && g.includeInLayout) {
                            var r = g.horizontalCenter,
                                    l = g.verticalCenter,
                                    k = g.left,
                                    m = g.right,
                                    n = g.top,
                                    p = g.bottom;
                            isNaN(k) || isNaN(m) ? isNaN(r) ? isNaN(k) && isNaN(m) ? r = g.preferredX : (r = isNaN(k) ? 0 : k, r += isNaN(m) ? 0 : m) : r = 2 * Math.abs(r) : r = k + m;
                            isNaN(n) || isNaN(p) ? isNaN(l) ? isNaN(n) && isNaN(p) ? l = g.preferredY : (l = isNaN(n) ? 0 : n, l += isNaN(p) ? 0 : p) : l = 2 * Math.abs(l) : l = n + p;
                            p = g.preferredHeight;
                            a = Math.ceil(Math.max(a, r + g.preferredWidth));
                            b = Math.ceil(Math.max(b, l + p))
                        }
                    }
                    this.target.measuredWidth =
                            a;
                    this.target.measuredHeight = b
                }
            };
            a.updateDisplayList = function (a, b) {
                d.prototype.updateDisplayList.call(this, a, b);
                if (null != this.target) {
                    for (var e = this.target.numElements, f = 0, g = 0, r = 0; r < e; r++) {
                        var l = this.target.getElementAt(r);
                        if (null != l && l.includeInLayout) {
                            var k = l.horizontalCenter,
                                    m = l.verticalCenter,
                                    n = l.left,
                                    p = l.right,
                                    q = l.top,
                                    u = l.bottom,
                                    y = l.percentWidth,
                                    s = l.percentHeight,
                                    w = NaN,
                                    v = NaN;
                            isNaN(n) || isNaN(p) ? isNaN(y) || (w = Math.round(a * Math.min(0.01 * y, 1))) : w = a - p - n;
                            isNaN(q) || isNaN(u) ? isNaN(s) || (v = Math.round(b *
                                    Math.min(0.01 * s, 1))) : v = b - u - q;
                            l.setLayoutBoundsSize(w, v);
                            y = l.layoutBoundsWidth;
                            s = l.layoutBoundsHeight;
                            v = w = NaN;
                            w = isNaN(k) ? isNaN(n) ? isNaN(p) ? l.layoutBoundsX : a - y - p : n : Math.round((a - y) / 2 + k);
                            v = isNaN(m) ? isNaN(q) ? isNaN(u) ? l.layoutBoundsY : b - s - u : q : Math.round((b - s) / 2 + m);
                            l.setLayoutBoundsPosition(w, v);
                            f = Math.max(f, w + y);
                            g = Math.max(g, v + s)
                        }
                    }
                    this.target.setContentSize(f, g)
                }
            };
            return b
        }(f.LayoutBase);
        f.BasicLayout = g;
        g.prototype.__class__ = "egret.gui.BasicLayout"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (b) {
            function a() {
                b.call(this);
                this._horizontalAlign = e.HorizontalAlign.LEFT;
                this._verticalAlign = e.VerticalAlign.TOP;
                this._gap = 6;
                this._padding = 0;
                this._paddingBottom = this._paddingTop = this._paddingRight = this._paddingLeft = NaN;
                this.elementSizeTable = [];
                this.endIndex = this.startIndex = -1;
                this.indexInViewCalculated = !1;
                this.maxElementWidth = 0
            }
            __extends(a, b);
            var c = a.prototype;
            Object.defineProperty(c, "horizontalAlign", {
                get: function () {
                    return this._horizontalAlign
                },
                set: function (a) {
                    this._horizontalAlign !=
                            a && (this._horizontalAlign = a, this.target && this.target.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(c, "verticalAlign", {
                get: function () {
                    return this._verticalAlign
                },
                set: function (a) {
                    this._verticalAlign != a && (this._verticalAlign = a, this.target && this.target.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(c, "gap", {
                get: function () {
                    return this._gap
                },
                set: function (a) {
                    this._gap != a && (this._gap = a, this.invalidateTargetSizeAndDisplayList(), this.hasEventListener("gapChanged") &&
                            this.dispatchEventWith("gapChanged"))
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(c, "padding", {
                get: function () {
                    return this._padding
                },
                set: function (a) {
                    this._padding != a && (this._padding = a, this.invalidateTargetSizeAndDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(c, "paddingLeft", {
                get: function () {
                    return this._paddingLeft
                },
                set: function (a) {
                    this._paddingLeft != a && (this._paddingLeft = a, this.invalidateTargetSizeAndDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(c,
                    "paddingRight", {
                        get: function () {
                            return this._paddingRight
                        },
                        set: function (a) {
                            this._paddingRight != a && (this._paddingRight = a, this.invalidateTargetSizeAndDisplayList())
                        },
                        enumerable: !0,
                        configurable: !0
                    });
            Object.defineProperty(c, "paddingTop", {
                get: function () {
                    return this._paddingTop
                },
                set: function (a) {
                    this._paddingTop != a && (this._paddingTop = a, this.invalidateTargetSizeAndDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(c, "paddingBottom", {
                get: function () {
                    return this._paddingBottom
                },
                set: function (a) {
                    this._paddingBottom !=
                            a && (this._paddingBottom = a, this.invalidateTargetSizeAndDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            c.invalidateTargetSizeAndDisplayList = function () {
                this.target && (this.target.invalidateSize(), this.target.invalidateDisplayList())
            };
            c.measure = function () {
                b.prototype.measure.call(this);
                this.target && (this.useVirtualLayout ? this.measureVirtual() : this.measureReal())
            };
            c.measureVirtual = function () {
                for (var a = this.typicalLayoutRect ? this.typicalLayoutRect.height : 22, c = Math.max(this.maxElementWidth, this.typicalLayoutRect ?
                        this.typicalLayoutRect.width : 71), b = this.getElementTotalSize(), d = this.target.getElementIndicesInView(), e = d.length, f = 0; f < e; f++) {
                    var g = d[f],
                            m = this.target.getElementAt(g);
                    if (null != m && m.includeInLayout)
                        var n = m.preferredWidth,
                            b = b + m.preferredHeight,
                            b = b - (isNaN(this.elementSizeTable[g]) ? a : this.elementSizeTable[g]),
                            c = Math.max(c, n)
                }
                f = isNaN(this._padding) ? 0 : this._padding;
                a = isNaN(this._paddingLeft) ? f : this._paddingLeft;
                d = isNaN(this._paddingRight) ? f : this._paddingRight;
                e = isNaN(this._paddingTop) ? f : this._paddingTop;
                f = isNaN(this._paddingBottom) ? f : this._paddingBottom;
                e += f;
                this.target.measuredWidth = Math.ceil(c + (a + d));
                this.target.measuredHeight = Math.ceil(b + e)
            };
            c.measureReal = function () {
                for (var a = this.target.numElements, c = a, b = 0, d = 0, e = 0; e < a; e++) {
                    var f = this.target.getElementAt(e);
                    if (f && f.includeInLayout)
                        var g = f.preferredWidth,
                            d = d + f.preferredHeight,
                            b = Math.max(b, g);
                    else
                        c--
                }
                a = isNaN(this._gap) ? 0 : this._gap;
                d += (c - 1) * a;
                f = isNaN(this._padding) ? 0 : this._padding;
                c = isNaN(this._paddingLeft) ? f : this._paddingLeft;
                a = isNaN(this._paddingRight) ?
                        f : this._paddingRight;
                e = isNaN(this._paddingTop) ? f : this._paddingTop;
                f = isNaN(this._paddingBottom) ? f : this._paddingBottom;
                e += f;
                this.target.measuredWidth = Math.ceil(b + (c + a));
                this.target.measuredHeight = Math.ceil(d + e)
            };
            c.updateDisplayList = function (a, c) {
                b.prototype.updateDisplayList.call(this, a, c);
                if (this.target)
                    if (0 == this.target.numElements) {
                        var d = isNaN(this._padding) ? 0 : this._padding,
                                e = isNaN(this._paddingLeft) ? d : this._paddingLeft,
                                f = isNaN(this._paddingRight) ? d : this._paddingRight,
                                g = isNaN(this._paddingTop) ? d :
                                this._paddingTop,
                                d = isNaN(this._paddingBottom) ? d : this._paddingBottom;
                        this.target.setContentSize(Math.ceil(e + f), Math.ceil(g + d))
                    } else
                        this.useVirtualLayout ? this.updateDisplayListVirtual(a, c) : this.updateDisplayListReal(a, c)
            };
            c.getStartPosition = function (a) {
                var c = isNaN(this._padding) ? 0 : this._padding,
                        b = isNaN(this._paddingTop) ? c : this._paddingTop,
                        c = isNaN(this._gap) ? 0 : this._gap;
                if (!this.useVirtualLayout) {
                    var d;
                    this.target && (d = this.target.getElementAt(a));
                    return d ? d.y : b
                }
                d = this.typicalLayoutRect ? this.typicalLayoutRect.height :
                        22;
                for (var e = 0; e < a; e++) {
                    var f = this.elementSizeTable[e];
                    isNaN(f) && (f = d);
                    b += f + c
                }
                return b
            };
            c.getElementSize = function (a) {
                return this.useVirtualLayout ? (a = this.elementSizeTable[a], isNaN(a) && (a = this.typicalLayoutRect ? this.typicalLayoutRect.height : 22), a) : this.target ? this.target.getElementAt(a).height : 0
            };
            c.getElementTotalSize = function () {
                for (var a = isNaN(this._gap) ? 0 : this._gap, c = this.typicalLayoutRect ? this.typicalLayoutRect.height : 22, b = 0, d = this.target.numElements, e = 0; e < d; e++) {
                    var f = this.elementSizeTable[e];
                    isNaN(f) && (f = c);
                    b += f + a
                }
                return b - a
            };
            c.elementAdded = function (a) {
                b.prototype.elementAdded.call(this, a);
                this.elementSizeTable.splice(a, 0, this.typicalLayoutRect ? this.typicalLayoutRect.height : 22)
            };
            c.elementRemoved = function (a) {
                b.prototype.elementRemoved.call(this, a);
                this.elementSizeTable.splice(a, 1)
            };
            c.clearVirtualLayoutCache = function () {
                b.prototype.clearVirtualLayoutCache.call(this);
                this.elementSizeTable = [];
                this.maxElementWidth = 0
            };
            c.findIndexAt = function (a, c, b) {
                var d = Math.floor(0.5 * (c + b)),
                        e = this.getStartPosition(d),
                        f = this.getElementSize(d),
                        g = isNaN(this._gap) ? 0 : this._gap;
                return a >= e && a < e + f + g ? d : c == b ? -1 : a < e ? this.findIndexAt(a, c, Math.max(c, d - 1)) : this.findIndexAt(a, Math.min(d + 1, b), b)
            };
            c.scrollPositionChanged = function () {
                b.prototype.scrollPositionChanged.call(this);
                this.useVirtualLayout && this.getIndexInView() && (this.indexInViewCalculated = !0, this.target.invalidateDisplayList())
            };
            c.getIndexInView = function () {
                if (!this.target || 0 == this.target.numElements || isNaN(this.target.width) || 0 == this.target.width || isNaN(this.target.height) ||
                        0 == this.target.height)
                    return this.startIndex = this.endIndex = -1, !1;
                var a = isNaN(this._padding) ? 0 : this._padding,
                        c = isNaN(this._paddingTop) ? a : this._paddingTop,
                        b = isNaN(this._paddingBottom) ? a : this._paddingBottom,
                        a = this.target.numElements,
                        d = this.getStartPosition(a - 1) + this.elementSizeTable[a - 1] + b,
                        e = this.target.verticalScrollPosition;
                if (e > d - b)
                    return this.endIndex = this.startIndex = -1, !1;
                b = this.target.verticalScrollPosition + this.target.height;
                if (b < c)
                    return this.endIndex = this.startIndex = -1, !1;
                c = this.startIndex;
                d = this.endIndex;
                this.startIndex = this.findIndexAt(e, 0, a - 1);
                -1 == this.startIndex && (this.startIndex = 0);
                this.endIndex = this.findIndexAt(b, 0, a - 1);
                -1 == this.endIndex && (this.endIndex = a - 1);
                return c != this.startIndex || d != this.endIndex
            };
            c.updateDisplayListVirtual = function (a, c) {
                this.indexInViewCalculated ? this.indexInViewCalculated = !1 : this.getIndexInView();
                var b = isNaN(this._padding) ? 0 : this._padding,
                        d = isNaN(this._paddingLeft) ? b : this._paddingLeft,
                        f = isNaN(this._paddingRight) ? b : this._paddingRight,
                        g = isNaN(this._paddingBottom) ?
                        b : this._paddingBottom,
                        k = isNaN(this._gap) ? 0 : this._gap,
                        m = this.target.numElements;
                if (-1 == this.startIndex || -1 == this.endIndex)
                    d = this.getStartPosition(m) - k + g, this.target.setContentSize(this.target.contentWidth, Math.ceil(d));
                else {
                    this.target.setVirtualElementIndicesInView(this.startIndex, this.endIndex);
                    var n = this._horizontalAlign == e.HorizontalAlign.JUSTIFY || this._horizontalAlign == e.HorizontalAlign.CONTENT_JUSTIFY,
                            p = this._horizontalAlign == e.HorizontalAlign.CONTENT_JUSTIFY,
                            q = 0;
                    n || (this._horizontalAlign == e.HorizontalAlign.CENTER ?
                            q = 0.5 : this._horizontalAlign == e.HorizontalAlign.RIGHT && (q = 1));
                    var u = Math.max(0, a - d - f),
                            y = Math.ceil(u),
                            s, w = this.typicalLayoutRect ? this.typicalLayoutRect.height : 22,
                            b = Math.max(this.typicalLayoutRect ? this.typicalLayoutRect.width : 71, this.maxElementWidth);
                    if (p) {
                        for (var v = this.startIndex; v <= this.endIndex; v++)
                            (s = this.target.getVirtualElementAt(v)) && s.includeInLayout && (this.maxElementWidth = Math.max(this.maxElementWidth, s.preferredWidth));
                        y = Math.ceil(Math.max(u, this.maxElementWidth))
                    }
                    for (var z = 0, t = 0, v = 0, E = !1,
                            C = this.startIndex; C <= this.endIndex; C++)
                        if (z = 0, s = this.target.getVirtualElementAt(C))
                            s.includeInLayout ? (n ? (z = d, s.setLayoutBoundsSize(y, NaN)) : (z = (u - s.layoutBoundsWidth) * q, z = 0 < z ? z : 0, z = d + z), p || (this.maxElementWidth = Math.max(this.maxElementWidth, s.preferredWidth)), v = Math.max(v, s.layoutBoundsWidth), E || (t = isNaN(this.elementSizeTable[C]) ? w : this.elementSizeTable[C], t != s.layoutBoundsHeight && (E = !0)), 0 == C && 0 < this.elementSizeTable.length && this.elementSizeTable[C] != s.layoutBoundsHeight && (this.typicalLayoutRect =
                                    null), this.elementSizeTable[C] = s.layoutBoundsHeight, t = this.getStartPosition(C), s.setLayoutBoundsPosition(Math.round(z), Math.round(t))) : this.elementSizeTable[C] = 0;
                    v += d + f;
                    d = this.getStartPosition(m) - k + g;
                    this.target.setContentSize(Math.ceil(v), Math.ceil(d));
                    (E || b < this.maxElementWidth) && this.target.invalidateSize()
                }
            };
            c.updateDisplayListReal = function (c, b) {
                var f = isNaN(this._padding) ? 0 : this._padding,
                        g = isNaN(this._paddingLeft) ? f : this._paddingLeft,
                        r = isNaN(this._paddingRight) ? f : this._paddingRight,
                        l = isNaN(this._paddingTop) ?
                        f : this._paddingTop,
                        f = isNaN(this._paddingBottom) ? f : this._paddingBottom,
                        k = isNaN(this._gap) ? 0 : this._gap,
                        m = Math.max(0, c - g - r),
                        n = Math.max(0, b - l - f),
                        p = this._verticalAlign == e.VerticalAlign.JUSTIFY,
                        q = this._horizontalAlign == e.HorizontalAlign.JUSTIFY || this._horizontalAlign == e.HorizontalAlign.CONTENT_JUSTIFY,
                        u = 0;
                q || (this._horizontalAlign == e.HorizontalAlign.CENTER ? u = 0.5 : this._horizontalAlign == e.HorizontalAlign.RIGHT && (u = 1));
                var y = this.target.numElements,
                        s = y,
                        w = g,
                        v = l,
                        z, t, E = 0,
                        w = 0,
                        C = [],
                        D, B = n;
                for (z = 0; z < y; z++)
                    (t = this.target.getElementAt(z)) &&
                            t.includeInLayout ? (this.maxElementWidth = Math.max(this.maxElementWidth, t.preferredWidth), p ? E += t.preferredHeight : isNaN(t.percentHeight) ? B -= t.preferredHeight : (w += t.percentHeight, D = new d, D.layoutElement = t, D.percent = t.percentHeight, D.min = t.minHeight, D.max = t.maxHeight, C.push(D))) : s--;
                var B = B - (s - 1) * k,
                        B = 0 < B ? B : 0,
                        H = n - E - k * (s - 1),
                        F, I = s,
                        J = [];
                if (p) {
                    if (0 > H) {
                        F = B / s;
                        for (z = 0; z < y; z++)
                            (t = this.target.getElementAt(z)) && t.includeInLayout && (t = t.preferredHeight, t <= F && (B -= t, I--));
                        B = 0 < B ? B : 0
                    }
                } else if (0 < w) {
                    a.flexChildrenProportionally(n,
                            B, w, C);
                    n = 0;
                    t = C.length;
                    for (z = 0; z < t; z++)
                        D = C[z], w = Math.round(D.size + n), n += D.size - w, J[D.layoutElement.hashCode] = w, B -= w;
                    B = 0 < B ? B : 0
                }
                this._verticalAlign == e.VerticalAlign.MIDDLE ? v = l + 0.5 * B : this._verticalAlign == e.VerticalAlign.BOTTOM && (v = l + B);
                C = g;
                t = s = 0;
                D = Math.ceil(m);
                this._horizontalAlign == e.HorizontalAlign.CONTENT_JUSTIFY && (D = Math.ceil(Math.max(m, this.maxElementWidth)));
                n = 0;
                s = NaN;
                for (z = 0; z < y; z++)
                    w = 0, (t = this.target.getElementAt(z)) && t.includeInLayout && (s = NaN, p ? (w = NaN, 0 < H ? w = B * t.preferredHeight / E : 0 > H && t.preferredHeight >
                            F && (w = B / I), isNaN(w) || (s = Math.round(w + n), n += w - s)) : s = J[t.hashCode], q ? (w = g, t.setLayoutBoundsSize(D, s)) : (w = NaN, isNaN(t.percentWidth) || (w = Math.min(100, t.percentWidth), w = Math.round(m * w * 0.01)), t.setLayoutBoundsSize(w, s), w = (m - t.layoutBoundsWidth) * u, w = 0 < w ? w : 0, w = g + w), t.setLayoutBoundsPosition(Math.round(w), Math.round(v)), s = Math.ceil(t.layoutBoundsWidth), t = Math.ceil(t.layoutBoundsHeight), C = Math.max(C, w + s), l = Math.max(l, v + t), v += t + k);
                this.target.setContentSize(Math.ceil(C + r), Math.ceil(l + f))
            };
            a.flexChildrenProportionally =
                    function (a, c, b, d) {
                        var e = d.length,
                                f;
                        do {
                            f = !0;
                            var g = c - a * b / 100;
                            0 < g ? c -= g : g = 0;
                            for (var m = c / b, n = 0; n < e; n++) {
                                var p = d[n],
                                        q = p.percent * m;
                                if (q < p.min) {
                                    f = p.min;
                                    p.size = f;
                                    d[n] = d[--e];
                                    d[e] = p;
                                    b -= p.percent;
                                    g >= f || (c -= f - g);
                                    f = !1;
                                    break
                                } else if (q > p.max) {
                                    f = p.max;
                                    p.size = f;
                                    d[n] = d[--e];
                                    d[e] = p;
                                    b -= p.percent;
                                    g >= f || (c -= f - g);
                                    f = !1;
                                    break
                                } else
                                    p.size = q
                            }
                        } while (!f)
                    };
            return a
        }(f.LayoutBase);
        f.VerticalLayout = g;
        g.prototype.__class__ = "egret.gui.VerticalLayout";
        var d = function () {
            return function () {
                this.layoutElement = null;
                this.size = 0;
                this.max =
                        this.min = this.percent = NaN
            }
        }();
        d.prototype.__class__ = "egret.gui.ChildInfo"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (b) {
            function a() {
                b.call(this);
                this._horizontalAlign = e.HorizontalAlign.LEFT;
                this._verticalAlign = e.VerticalAlign.TOP;
                this._gap = 6;
                this._padding = 0;
                this._paddingBottom = this._paddingTop = this._paddingRight = this._paddingLeft = NaN;
                this.elementSizeTable = [];
                this.endIndex = this.startIndex = -1;
                this.indexInViewCalculated = !1;
                this.maxElementHeight = 0
            }
            __extends(a, b);
            var c = a.prototype;
            Object.defineProperty(c, "horizontalAlign", {
                get: function () {
                    return this._horizontalAlign
                },
                set: function (a) {
                    this._horizontalAlign !=
                            a && (this._horizontalAlign = a, this.target && this.target.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(c, "verticalAlign", {
                get: function () {
                    return this._verticalAlign
                },
                set: function (a) {
                    this._verticalAlign != a && (this._verticalAlign = a, this.target && this.target.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(c, "gap", {
                get: function () {
                    return this._gap
                },
                set: function (a) {
                    this._gap != a && (this._gap = a, this.invalidateTargetSizeAndDisplayList(), this.hasEventListener("gapChanged") &&
                            this.dispatchEventWith("gapChanged"))
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(c, "padding", {
                get: function () {
                    return this._padding
                },
                set: function (a) {
                    this._padding != a && (this._padding = a, this.invalidateTargetSizeAndDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(c, "paddingLeft", {
                get: function () {
                    return this._paddingLeft
                },
                set: function (a) {
                    this._paddingLeft != a && (this._paddingLeft = a, this.invalidateTargetSizeAndDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(c,
                    "paddingRight", {
                        get: function () {
                            return this._paddingRight
                        },
                        set: function (a) {
                            this._paddingRight != a && (this._paddingRight = a, this.invalidateTargetSizeAndDisplayList())
                        },
                        enumerable: !0,
                        configurable: !0
                    });
            Object.defineProperty(c, "paddingTop", {
                get: function () {
                    return this._paddingTop
                },
                set: function (a) {
                    this._paddingTop != a && (this._paddingTop = a, this.invalidateTargetSizeAndDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(c, "paddingBottom", {
                get: function () {
                    return this._paddingBottom
                },
                set: function (a) {
                    this._paddingBottom !=
                            a && (this._paddingBottom = a, this.invalidateTargetSizeAndDisplayList())
                },
                enumerable: !0,
                configurable: !0
            });
            c.invalidateTargetSizeAndDisplayList = function () {
                this.target && (this.target.invalidateSize(), this.target.invalidateDisplayList())
            };
            c.measure = function () {
                b.prototype.measure.call(this);
                this.target && (this.useVirtualLayout ? this.measureVirtual() : this.measureReal())
            };
            c.measureVirtual = function () {
                for (var a = this.typicalLayoutRect ? this.typicalLayoutRect.height : 22, c = this.typicalLayoutRect ? this.typicalLayoutRect.width :
                        71, b = this.getElementTotalSize(), a = Math.max(this.maxElementHeight, a), d = this.target.getElementIndicesInView(), e = d.length, f = 0; f < e; f++) {
                    var g = d[f],
                            m = this.target.getElementAt(g);
                    if (null != m && m.includeInLayout)
                        var n = m.preferredHeight,
                            b = b + m.preferredWidth,
                            b = b - (isNaN(this.elementSizeTable[g]) ? c : this.elementSizeTable[g]),
                            a = Math.max(a, n)
                }
                f = isNaN(this._padding) ? 0 : this._padding;
                c = isNaN(this._paddingLeft) ? f : this._paddingLeft;
                d = isNaN(this._paddingRight) ? f : this._paddingRight;
                e = isNaN(this._paddingTop) ? f : this._paddingTop;
                f = isNaN(this._paddingBottom) ? f : this._paddingBottom;
                e += f;
                this.target.measuredWidth = Math.ceil(b + (c + d));
                this.target.measuredHeight = Math.ceil(a + e)
            };
            c.measureReal = function () {
                for (var a = this.target.numElements, c = a, b = 0, d = 0, e = 0; e < a; e++) {
                    var f = this.target.getElementAt(e);
                    if (f && f.includeInLayout)
                        var g = f.preferredHeight,
                            b = b + f.preferredWidth,
                            d = Math.max(d, g);
                    else
                        c--
                }
                a = isNaN(this._gap) ? 0 : this._gap;
                b += (c - 1) * a;
                f = isNaN(this._padding) ? 0 : this._padding;
                c = isNaN(this._paddingLeft) ? f : this._paddingLeft;
                a = isNaN(this._paddingRight) ?
                        f : this._paddingRight;
                e = isNaN(this._paddingTop) ? f : this._paddingTop;
                f = isNaN(this._paddingBottom) ? f : this._paddingBottom;
                e += f;
                this.target.measuredWidth = Math.ceil(b + (c + a));
                this.target.measuredHeight = Math.ceil(d + e)
            };
            c.updateDisplayList = function (a, c) {
                b.prototype.updateDisplayList.call(this, a, c);
                if (this.target)
                    if (0 == this.target.numElements) {
                        var d = isNaN(this._padding) ? 0 : this._padding,
                                e = isNaN(this._paddingLeft) ? d : this._paddingLeft,
                                f = isNaN(this._paddingRight) ? d : this._paddingRight,
                                g = isNaN(this._paddingTop) ? d :
                                this._paddingTop,
                                d = isNaN(this._paddingBottom) ? d : this._paddingBottom;
                        this.target.setContentSize(Math.ceil(e + f), Math.ceil(g + d))
                    } else
                        this.useVirtualLayout ? this.updateDisplayListVirtual(a, c) : this.updateDisplayListReal(a, c)
            };
            c.getStartPosition = function (a) {
                var c = isNaN(this._padding) ? 0 : this._padding,
                        b = isNaN(this._paddingLeft) ? c : this._paddingLeft,
                        c = isNaN(this._gap) ? 0 : this._gap;
                if (!this.useVirtualLayout) {
                    var d;
                    this.target && (d = this.target.getElementAt(a));
                    return d ? d.x : b
                }
                d = this.typicalLayoutRect ? this.typicalLayoutRect.width :
                        71;
                for (var e = 0; e < a; e++) {
                    var f = this.elementSizeTable[e];
                    isNaN(f) && (f = d);
                    b += f + c
                }
                return b
            };
            c.getElementSize = function (a) {
                return this.useVirtualLayout ? (a = this.elementSizeTable[a], isNaN(a) && (a = this.typicalLayoutRect ? this.typicalLayoutRect.width : 71), a) : this.target ? this.target.getElementAt(a).width : 0
            };
            c.getElementTotalSize = function () {
                for (var a = this.typicalLayoutRect ? this.typicalLayoutRect.width : 71, c = isNaN(this._gap) ? 0 : this._gap, b = 0, d = this.target.numElements, e = 0; e < d; e++) {
                    var f = this.elementSizeTable[e];
                    isNaN(f) &&
                            (f = a);
                    b += f + c
                }
                return b - c
            };
            c.elementAdded = function (a) {
                this.useVirtualLayout && (b.prototype.elementAdded.call(this, a), this.elementSizeTable.splice(a, 0, this.typicalLayoutRect ? this.typicalLayoutRect.width : 71))
            };
            c.elementRemoved = function (a) {
                this.useVirtualLayout && (b.prototype.elementRemoved.call(this, a), this.elementSizeTable.splice(a, 1))
            };
            c.clearVirtualLayoutCache = function () {
                this.useVirtualLayout && (b.prototype.clearVirtualLayoutCache.call(this), this.elementSizeTable = [], this.maxElementHeight = 0)
            };
            c.findIndexAt =
                    function (a, c, b) {
                        var d = Math.floor(0.5 * (c + b)),
                                e = this.getStartPosition(d),
                                f = this.getElementSize(d),
                                g = isNaN(this._gap) ? 0 : this._gap;
                        return a >= e && a < e + f + g ? d : c == b ? -1 : a < e ? this.findIndexAt(a, c, Math.max(c, d - 1)) : this.findIndexAt(a, Math.min(d + 1, b), b)
                    };
            c.scrollPositionChanged = function () {
                b.prototype.scrollPositionChanged.call(this);
                this.useVirtualLayout && this.getIndexInView() && (this.indexInViewCalculated = !0, this.target.invalidateDisplayList())
            };
            c.getIndexInView = function () {
                if (!this.target || 0 == this.target.numElements ||
                        isNaN(this.target.width) || 0 == this.target.width || isNaN(this.target.height) || 0 == this.target.height)
                    return this.startIndex = this.endIndex = -1, !1;
                var a = isNaN(this._padding) ? 0 : this._padding,
                        c = isNaN(this._paddingLeft) ? a : this._paddingLeft,
                        b = isNaN(this._paddingRight) ? a : this._paddingRight;
                isNaN(this._paddingTop);
                isNaN(this._paddingBottom);
                var a = this.target.numElements,
                        d = this.getStartPosition(a - 1) + this.elementSizeTable[a - 1] + b,
                        e = this.target.horizontalScrollPosition;
                if (e > d - b)
                    return this.endIndex = this.startIndex = -1, !1;
                b = this.target.horizontalScrollPosition + this.target.width;
                if (b < c)
                    return this.endIndex = this.startIndex = -1, !1;
                c = this.startIndex;
                d = this.endIndex;
                this.startIndex = this.findIndexAt(e, 0, a - 1);
                -1 == this.startIndex && (this.startIndex = 0);
                this.endIndex = this.findIndexAt(b, 0, a - 1);
                -1 == this.endIndex && (this.endIndex = a - 1);
                return c != this.startIndex || d != this.endIndex
            };
            c.updateDisplayListVirtual = function (a, c) {
                this.indexInViewCalculated ? this.indexInViewCalculated = !1 : this.getIndexInView();
                var b = isNaN(this._padding) ?
                        0 : this._padding,
                        d = isNaN(this._paddingRight) ? b : this._paddingRight,
                        f = isNaN(this._paddingTop) ? b : this._paddingTop,
                        g = isNaN(this._paddingBottom) ? b : this._paddingBottom,
                        k = isNaN(this._gap) ? 0 : this._gap,
                        m = this.target.numElements;
                if (-1 == this.startIndex || -1 == this.endIndex)
                    d = this.getStartPosition(m) - k + d, this.target.setContentSize(Math.ceil(d), this.target.contentHeight);
                else {
                    this.target.setVirtualElementIndicesInView(this.startIndex, this.endIndex);
                    var n = this._verticalAlign == e.VerticalAlign.JUSTIFY || this._verticalAlign ==
                            e.VerticalAlign.CONTENT_JUSTIFY,
                            p = this._verticalAlign == e.VerticalAlign.CONTENT_JUSTIFY,
                            q = 0;
                    n || (this._verticalAlign == e.VerticalAlign.MIDDLE ? q = 0.5 : this._verticalAlign == e.VerticalAlign.BOTTOM && (q = 1));
                    var u = Math.max(0, c - f - g),
                            y = Math.ceil(u),
                            s, w = this.typicalLayoutRect ? this.typicalLayoutRect.width : 71,
                            b = Math.max(this.typicalLayoutRect ? this.typicalLayoutRect.height : 22, this.maxElementHeight);
                    if (p) {
                        for (var v = this.startIndex; v <= this.endIndex; v++)
                            (s = this.target.getVirtualElementAt(v)) && s.includeInLayout && (this.maxElementHeight =
                                    Math.max(this.maxElementHeight, s.preferredHeight));
                        y = Math.ceil(Math.max(u, this.maxElementHeight))
                    }
                    for (var z = 0, t = 0, v = 0, E = !1, C = this.startIndex; C <= this.endIndex; C++)
                        if (t = 0, s = this.target.getVirtualElementAt(C))
                            s.includeInLayout ? (n ? (t = f, s.setLayoutBoundsSize(NaN, y)) : (t = (u - s.layoutBoundsHeight) * q, t = 0 < t ? t : 0, t = f + t), p || (this.maxElementHeight = Math.max(this.maxElementHeight, s.preferredHeight)), v = Math.max(v, s.layoutBoundsHeight), E || (z = isNaN(this.elementSizeTable[C]) ? w : this.elementSizeTable[C], z != s.layoutBoundsWidth &&
                                    (E = !0)), 0 == C && 0 < this.elementSizeTable.length && this.elementSizeTable[C] != s.layoutBoundsWidth && (this.typicalLayoutRect = null), this.elementSizeTable[C] = s.layoutBoundsWidth, z = this.getStartPosition(C), s.setLayoutBoundsPosition(Math.round(z), Math.round(t))) : this.elementSizeTable[C] = 0;
                    v += f + g;
                    d = this.getStartPosition(m) - k + d;
                    this.target.setContentSize(Math.ceil(d), Math.ceil(v));
                    (E || b < this.maxElementHeight) && this.target.invalidateSize()
                }
            };
            c.updateDisplayListReal = function (c, b) {
                var f = isNaN(this._padding) ? 0 : this._padding,
                        g = isNaN(this._paddingLeft) ? f : this._paddingLeft,
                        r = isNaN(this._paddingRight) ? f : this._paddingRight,
                        l = isNaN(this._paddingTop) ? f : this._paddingTop,
                        f = isNaN(this._paddingBottom) ? f : this._paddingBottom,
                        k = isNaN(this._gap) ? 0 : this._gap,
                        m = Math.max(0, c - g - r),
                        n = Math.max(0, b - l - f),
                        p = this._horizontalAlign == e.HorizontalAlign.JUSTIFY,
                        q = this._verticalAlign == e.VerticalAlign.JUSTIFY || this._verticalAlign == e.VerticalAlign.CONTENT_JUSTIFY,
                        u = 0;
                q || (this._verticalAlign == e.VerticalAlign.MIDDLE ? u = 0.5 : this._verticalAlign == e.VerticalAlign.BOTTOM &&
                        (u = 1));
                var y = this.target.numElements,
                        s = y,
                        w = g,
                        v = l,
                        z, t, E = 0,
                        v = 0,
                        C = [],
                        D, B = m;
                for (z = 0; z < y; z++)
                    (t = this.target.getElementAt(z)) && t.includeInLayout ? (this.maxElementHeight = Math.max(this.maxElementHeight, t.preferredHeight), p ? E += t.preferredWidth : isNaN(t.percentWidth) ? B -= t.preferredWidth : (v += t.percentWidth, D = new d, D.layoutElement = t, D.percent = t.percentWidth, D.min = t.minWidth, D.max = t.maxWidth, C.push(D))) : s--;
                var B = B - k * (s - 1),
                        B = 0 < B ? B : 0,
                        H = m - E - k * (s - 1),
                        F, I = s,
                        J = [];
                if (p) {
                    if (0 > H) {
                        F = B / s;
                        for (z = 0; z < y; z++)
                            (t = this.target.getElementAt(z)) &&
                                    t.includeInLayout && (t = t.preferredWidth, t <= F && (B -= t, I--));
                        B = 0 < B ? B : 0
                    }
                } else if (0 < v) {
                    a.flexChildrenProportionally(m, B, v, C);
                    m = 0;
                    t = C.length;
                    for (z = 0; z < t; z++)
                        D = C[z], v = Math.round(D.size + m), m += D.size - v, J[D.layoutElement.hashCode] = v, B -= v;
                    B = 0 < B ? B : 0
                }
                this._horizontalAlign == e.HorizontalAlign.CENTER ? w = g + 0.5 * B : this._horizontalAlign == e.HorizontalAlign.RIGHT && (w = g + B);
                C = l;
                t = s = 0;
                D = Math.ceil(n);
                this._verticalAlign == e.VerticalAlign.CONTENT_JUSTIFY && (D = Math.ceil(Math.max(n, this.maxElementHeight)));
                for (z = m = 0; z < y; z++)
                    v = 0, (t = this.target.getElementAt(z)) && t.includeInLayout && (s = NaN, p ? (v = NaN, 0 < H ? v = B * t.preferredWidth / E : 0 > H && t.preferredWidth > F && (v = B / I), isNaN(v) || (s = Math.round(v + m), m += v - s)) : s = J[t.hashCode], q ? (v = l, t.setLayoutBoundsSize(s, D)) : (v = NaN, isNaN(t.percentHeight) || (v = Math.min(100, t.percentHeight), v = Math.round(n * v * 0.01)), t.setLayoutBoundsSize(s, v), v = (n - t.layoutBoundsHeight) * u, v = 0 < v ? v : 0, v = l + v), t.setLayoutBoundsPosition(Math.round(w), Math.round(v)), s = Math.ceil(t.layoutBoundsWidth), t = Math.ceil(t.layoutBoundsHeight), g =
                            Math.max(g, w + s), C = Math.max(C, v + t), w += s + k);
                this.target.setContentSize(Math.ceil(g + r), Math.ceil(C + f))
            };
            a.flexChildrenProportionally = function (a, c, b, d) {
                var e = d.length,
                        f;
                do {
                    f = !0;
                    var g = c - a * b / 100;
                    0 < g ? c -= g : g = 0;
                    for (var m = c / b, n = 0; n < e; n++) {
                        var p = d[n],
                                q = p.percent * m;
                        if (q < p.min) {
                            f = p.min;
                            p.size = f;
                            d[n] = d[--e];
                            d[e] = p;
                            b -= p.percent;
                            g >= f || (c -= f - g);
                            f = !1;
                            break
                        } else if (q > p.max) {
                            f = p.max;
                            p.size = f;
                            d[n] = d[--e];
                            d[e] = p;
                            b -= p.percent;
                            g >= f || (c -= f - g);
                            f = !1;
                            break
                        } else
                            p.size = q
                    }
                } while (!f)
            };
            return a
        }(f.LayoutBase);
        f.HorizontalLayout =
                g;
        g.prototype.__class__ = "egret.gui.HorizontalLayout";
        var d = function () {
            return function () {
                this.layoutElement = null;
                this.size = 0;
                this.max = this.min = this.percent = NaN
            }
        }();
        d.prototype.__class__ = "egret.gui.ChildInfo"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (e) {
        var g = function () {
            function d(a, c, b) {
                this.upperBoundReference = this.lowerBoundReference = this.owner = null;
                this.raw_getElementAt = "raw_getElementAt";
                this.raw_addElementAt = "raw_addElementAt";
                this.raw_getElementIndex = "raw_getElementIndex";
                this.raw_removeElement = "raw_removeElement";
                this.raw_removeElementAt = "raw_removeElementAt";
                this.raw_setElementIndex = "raw_setElementIndex";
                this.owner = a;
                this.lowerBoundReference = c;
                this.upperBoundReference = b
            }
            var b = d.prototype;
            Object.defineProperty(b,
                    "numElements", {
                        get: function () {
                            return this.owner[this.upperBoundReference] - this.owner[this.lowerBoundReference]
                        },
                        enumerable: !0,
                        configurable: !0
                    });
            b.getElementAt = function (a) {
                return this.owner[this.raw_getElementAt](this.owner[this.lowerBoundReference] + a)
            };
            b.addElement = function (a) {
                var c = this.owner[this.upperBoundReference];
                a.parent === this.owner && c--;
                this.owner[this.upperBoundReference]++;
                this.owner[this.raw_addElementAt](a, c);
                a.ownerChanged(this);
                return a
            };
            b.addElementAt = function (a, c) {
                this.owner[this.upperBoundReference]++;
                this.owner[this.raw_addElementAt](a, this.owner[this.lowerBoundReference] + c);
                a.ownerChanged(this);
                return a
            };
            b.removeElement = function (a) {
                var c = this.owner[this.raw_getElementIndex](a);
                this.owner[this.lowerBoundReference] <= c && c < this.owner[this.upperBoundReference] && (this.owner[this.raw_removeElement](a), this.owner[this.upperBoundReference]--);
                a.ownerChanged(null);
                return a
            };
            b.removeElementAt = function (a) {
                a += this.owner[this.lowerBoundReference];
                var c;
                this.owner[this.lowerBoundReference] <= a && a < this.owner[this.upperBoundReference] &&
                        (c = this.owner[this.raw_removeElementAt](a), this.owner[this.upperBoundReference]--);
                c.ownerChanged(null);
                return c
            };
            b.getElementIndex = function (a) {
                a = this.owner[this.raw_getElementIndex](a);
                return a -= this.owner[this.lowerBoundReference]
            };
            b.setElementIndex = function (a, c) {
                this.owner[this.raw_setElementIndex](a, this.owner[this.lowerBoundReference] + c)
            };
            return d
        }();
        e.UILayer = g;
        g.prototype.__class__ = "egret.gui.UILayer"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this._autoResize = !0;
                this._cursorContainer = this._toolTipContainer = this._popUpContainer = null;
                this._cursorIndex = this._toolTipIndex = this._topMostIndex = this._noTopMostIndex = 0;
                this.touchEnabled = !1;
                this.addEventListener(e.Event.ADDED_TO_STAGE, this.onAddToStage, this);
                this.addEventListener(e.Event.REMOVED_FROM_STAGE, this.onRemoveFromStage, this)
            }
            __extends(b, d);
            var a = b.prototype;
            a.onAddToStage = function (a) {
                if (f.UIGlobals._uiStage)
                    throw Error(e.getString(3013));
                f.UIGlobals._uiStage = this;
                this._autoResize && (this.stage.addEventListener(e.Event.RESIZE, this.onResize, this), this.onResize())
            };
            a.onRemoveFromStage = function (a) {
                f.UIGlobals._uiStage = null;
                this._autoResize && this.stage.removeEventListener(e.Event.RESIZE, this.onResize, this)
            };
            a.onResize = function (a) {
                this._setWidth(this.stage.stageWidth);
                this._setHeight(this.stage.stageHeight)
            };
            Object.defineProperty(a, "autoResize", {
                get: function () {
                    return this._autoResize
                },
                set: function (a) {
                    this._autoResize != a && (this._autoResize =
                            a, this.stage && (this._autoResize ? (this.stage.addEventListener(e.Event.RESIZE, this.onResize, this), this.onResize()) : this.stage.removeEventListener(e.Event.RESIZE, this.onResize, this)))
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "x", {
                get: function () {
                    return this._DO_Props_._x
                },
                set: function (a) {
                    this._autoResize || (this._DO_Props_._x = a)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "y", {
                get: function () {
                    return this._DO_Props_._y
                },
                set: function (a) {
                    this._autoResize || (this._DO_Props_._y = a)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "width", {
                get: function () {
                    return this._UIC_Props_._width
                },
                set: function (a) {
                    this._autoResize || this._setWidth(a)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "height", {
                get: function () {
                    return this._UIC_Props_._height
                },
                set: function (a) {
                    this._autoResize || this._setHeight(a)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "scaleX", {
                get: function () {
                    return this._DO_Props_._scaleX
                },
                set: function (a) {
                    this._autoResize || this._setScaleX(a)
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "scaleY", {
                get: function () {
                    return this._DO_Props_._scaleY
                },
                set: function (a) {
                    this._autoResize || this._setScaleY(a)
                },
                enumerable: !0,
                configurable: !0
            });
            a.setActualSize = function (a, b) {
                this._autoResize || d.prototype.setActualSize.call(this, a, b)
            };
            a.setLayoutBoundsPosition = function (a, b) {
                this._autoResize || d.prototype.setLayoutBoundsPosition.call(this, a, b)
            };
            a.setLayoutBoundsSize = function (a, b) {
                this._autoResize || d.prototype.setLayoutBoundsSize.call(this, a, b)
            };
            Object.defineProperty(a,
                    "layout", {
                        get: function () {
                            return this._layout
                        },
                        set: function (a) {
                            a instanceof f.BasicLayout && this._setLayout(a)
                        },
                        enumerable: !0,
                        configurable: !0
                    });
            Object.defineProperty(a, "popUpContainer", {
                get: function () {
                    this._popUpContainer || (this._popUpContainer = new f.UILayer(this, "noTopMostIndex", "topMostIndex"));
                    return this._popUpContainer
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "toolTipContainer", {
                get: function () {
                    this._toolTipContainer || (this._toolTipContainer = new f.UILayer(this, "topMostIndex", "toolTipIndex"));
                    return this._toolTipContainer
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "cursorContainer", {
                get: function () {
                    this._cursorContainer || (this._cursorContainer = new f.UILayer(this, "toolTipIndex", "cursorIndex"));
                    return this._cursorContainer
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "noTopMostIndex", {
                get: function () {
                    return this._noTopMostIndex
                },
                set: function (a) {
                    var b = a - this._noTopMostIndex;
                    this._noTopMostIndex = a;
                    this.topMostIndex += b
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a,
                    "topMostIndex", {
                        get: function () {
                            return this._topMostIndex
                        },
                        set: function (a) {
                            var b = a - this._topMostIndex;
                            this._topMostIndex = a;
                            this.toolTipIndex += b
                        },
                        enumerable: !0,
                        configurable: !0
                    });
            Object.defineProperty(a, "toolTipIndex", {
                get: function () {
                    return this._toolTipIndex
                },
                set: function (a) {
                    var b = a - this._toolTipIndex;
                    this._toolTipIndex = a;
                    this.cursorIndex += b
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "cursorIndex", {
                get: function () {
                    return this._cursorIndex
                },
                set: function (a) {
                    this._cursorIndex = a
                },
                enumerable: !0,
                configurable: !0
            });
            a.addElement = function (a) {
                var b = this._noTopMostIndex;
                a.parent == this && b--;
                return this.addElementAt(a, b)
            };
            a.addElementAt = function (a, b) {
                if (a.parent == this) {
                    var e = this.getElementIndex(a);
                    e < this._noTopMostIndex ? this.noTopMostIndex-- : e >= this._noTopMostIndex && e < this._topMostIndex ? this.topMostIndex-- : e >= this._topMostIndex && e < this._toolTipIndex ? this.toolTipIndex-- : this.cursorIndex--
                }
                b <= this._noTopMostIndex ? this.noTopMostIndex++ : b > this._noTopMostIndex && b <= this._topMostIndex ? this.topMostIndex++ :
                        b > this._topMostIndex && b <= this._toolTipIndex ? this.toolTipIndex++ : this.cursorIndex++;
                return d.prototype.addElementAt.call(this, a, b)
            };
            a.removeElement = function (a) {
                return this.removeElementAt(d.prototype.getElementIndex.call(this, a))
            };
            a.removeElementAt = function (a) {
                var b = d.prototype.removeElementAt.call(this, a);
                a < this._noTopMostIndex ? this.noTopMostIndex-- : a >= this._noTopMostIndex && a < this._topMostIndex ? this.topMostIndex-- : a >= this._topMostIndex && a < this._toolTipIndex ? this.toolTipIndex-- : this.cursorIndex--;
                return b
            };
            a.removeAllElements = function () {
                for (; 0 < this._noTopMostIndex; )
                    d.prototype.removeElementAt.call(this, 0), this.noTopMostIndex--
            };
            a._elementRemoved = function (a, b, f) {
                void 0 === f && (f = !0);
                f && e.Event.dispatchEvent(a, "removeFromUIStage");
                d.prototype._elementRemoved.call(this, a, b, f)
            };
            a.raw_getElementAt = function (a) {
                return d.prototype.getElementAt.call(this, a)
            };
            a.raw_addElement = function (a) {
                var b = this.numElements;
                a.parent == this && b--;
                return this.raw_addElementAt(a, b)
            };
            a.raw_addElementAt = function (a, b) {
                if (a.parent ==
                        this) {
                    var e = this.getElementIndex(a);
                    e < this._noTopMostIndex ? this.noTopMostIndex-- : e >= this._noTopMostIndex && e < this._topMostIndex ? this.topMostIndex-- : e >= this._topMostIndex && e < this._toolTipIndex ? this.toolTipIndex-- : this.cursorIndex--
                }
                return d.prototype.addElementAt.call(this, a, b)
            };
            a.raw_removeElement = function (a) {
                return d.prototype.removeElementAt.call(this, d.prototype.getElementIndex.call(this, a))
            };
            a.raw_removeElementAt = function (a) {
                return d.prototype.removeElementAt.call(this, a)
            };
            a.raw_removeAllElements =
                    function () {
                        for (; 0 < this.numElements; )
                            d.prototype.removeElementAt.call(this, 0)
                    };
            a.raw_getElementIndex = function (a) {
                return d.prototype.getElementIndex.call(this, a)
            };
            a.raw_setElementIndex = function (a, b) {
                d.prototype.setElementIndex.call(this, a, b)
            };
            a.raw_swapElements = function (a, b) {
                d.prototype.swapElementsAt.call(this, d.prototype.getElementIndex.call(this, a), d.prototype.getElementIndex.call(this, b))
            };
            a.raw_swapElementsAt = function (a, b) {
                d.prototype.swapElementsAt.call(this, a, b)
            };
            return b
        }(f.Group);
        f.UIStage =
                g;
        g.prototype.__class__ = "egret.gui.UIStage"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function (b) {
            function a() {
                b.call(this);
                this._popUpList = [];
                this.popUpDataList = [];
                this._modalColor = 0;
                this._modalAlpha = 0.5;
                this.invalidateModalFlag = !1;
                this.modalMask = null
            }
            __extends(a, b);
            var c = a.prototype;
            Object.defineProperty(c, "popUpList", {
                get: function () {
                    return this._popUpList.concat()
                },
                enumerable: !0,
                configurable: !0
            });
            c.findPopUpData = function (a) {
                for (var c = this.popUpDataList, b = c.length, d = 0; d < b; d++) {
                    var e = c[d];
                    if (e.popUp == a)
                        return e
                }
                return null
            };
            c.addPopUp = function (c, b,
                    e) {
                void 0 === b && (b = !1);
                void 0 === e && (e = !0);
                var g = f.UIGlobals.uiStage,
                        r = this.findPopUpData(c);
                r ? (r.modal = b, c.removeEventListener(a.REMOVE_FROM_UISTAGE, this.onRemoved, this)) : (r = new d(c, b), this.popUpDataList.push(r), this._popUpList.push(c));
                g.popUpContainer.addElement(c);
                e && this.centerPopUp(c);
                "isPopUp" in c && (c.isPopUp = !0);
                b && this.invalidateModal();
                c.addEventListener(a.REMOVE_FROM_UISTAGE, this.onRemoved, this)
            };
            c.onRemoved = function (c) {
                for (var b = 0, d = this.popUpDataList, e = d.length, f = 0; f < e; f++) {
                    var g = d[f];
                    if (g.popUp == c.target) {
                        "isPopUp" in g.popUp && (g.popUp.isPopUp = !1);
                        g.popUp.removeEventListener(a.REMOVE_FROM_UISTAGE, this.onRemoved, this);
                        this.popUpDataList.splice(b, 1);
                        this._popUpList.splice(b, 1);
                        this.invalidateModal();
                        break
                    }
                    b++
                }
            };
            Object.defineProperty(c, "modalColor", {
                get: function () {
                    return this._modalColor
                },
                set: function (a) {
                    this._modalColor != a && (this._modalColor = a, this.invalidateModal())
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(c, "modalAlpha", {
                get: function () {
                    return this._modalAlpha
                },
                set: function (a) {
                    this._modalAlpha !=
                            a && (this._modalAlpha = a, this.invalidateModal())
                },
                enumerable: !0,
                configurable: !0
            });
            c.invalidateModal = function () {
                this.invalidateModalFlag || (this.invalidateModalFlag = !0, f.UIGlobals.stage.addEventListener(e.Event.ENTER_FRAME, this.validateModal, this), f.UIGlobals.stage.addEventListener(e.Event.RENDER, this.validateModal, this), f.UIGlobals.stage.invalidate())
            };
            c.validateModal = function (a) {
                this.invalidateModalFlag = !1;
                f.UIGlobals.stage.removeEventListener(e.Event.ENTER_FRAME, this.validateModal, this);
                f.UIGlobals.stage.removeEventListener(e.Event.RENDER,
                        this.validateModal, this);
                this.updateModal(f.UIGlobals.uiStage)
            };
            c.updateModal = function (a) {
                for (var c = a.popUpContainer, b = !1, d = c.numElements - 1; 0 <= d; d--) {
                    var e = c.getElementAt(d);
                    if ((e = this.findPopUpData(e)) && e.modal) {
                        b = !0;
                        break
                    }
                }
                b ? (this.modalMask || (this.modalMask = new f.Rect, this.modalMask.touchEnabled = !0, this.modalMask.top = this.modalMask.left = this.modalMask.right = this.modalMask.bottom = 0), this.modalMask.fillColor = this._modalColor, this.modalMask.alpha = this._modalAlpha, this.modalMask.parent == a ? (c.getElementIndex(this.modalMask) <
                        d && d--, c.setElementIndex(this.modalMask, d)) : c.addElementAt(this.modalMask, d)) : this.modalMask && this.modalMask.parent == a && c.removeElement(this.modalMask)
            };
            c.removePopUp = function (a) {
                a && a.parent && this.findPopUpData(a) && ("removeElement" in a.parent ? a.parent.removeElement(a) : a.parent instanceof f.UIComponent ? a.parent._removeFromDisplayList(a) : a instanceof e.DisplayObject && a.parent.removeChild(a))
            };
            c.centerPopUp = function (a) {
                a.top = a.bottom = a.left = a.right = NaN;
                a.verticalCenter = a.horizontalCenter = 0;
                var c = a.parent;
                c && ("validateNow" in a && a.validateNow(), a.x = 0.5 * (c.width - a.layoutBoundsWidth), a.y = 0.5 * (c.height - a.layoutBoundsHeight))
            };
            c.bringToFront = function (a) {
                if (this.findPopUpData(a) && a.parent && "popUpContainer" in a.parent) {
                    var c = a.parent;
                    c.popUpContainer.setElementIndex(a, c.popUpContainer.numElements - 1);
                    this.invalidateModal()
                }
            };
            a.REMOVE_FROM_UISTAGE = "removeFromUIStage";
            return a
        }(e.EventDispatcher);
        f.PopUpManagerImpl = g;
        g.prototype.__class__ = "egret.gui.PopUpManagerImpl";
        var d = function () {
            return function (b, a) {
                this.popUp =
                        null;
                this.modal = !1;
                this.popUp = b;
                this.modal = a
            }
        }();
        d.prototype.__class__ = "egret.gui.PopUpData"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
(function (e) {
    (function (f) {
        var g = function () {
            function d() {
            }
            d.getImpl = function () {
                if (!d._impl)
                    try {
                        d._impl = e.Injector.getInstance("egret.gui.IPopUpManager")
                    } catch (b) {
                        d._impl = new f.PopUpManagerImpl
                    }
                return d._impl
            };
            Object.defineProperty(d, "modalColor", {
                get: function () {
                    return d.getImpl().modalColor
                },
                set: function (b) {
                    d.getImpl().modalColor = b
                },
                enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(d, "modalAlpha", {
                get: function () {
                    return d.getImpl().modalAlpha
                },
                set: function (b) {
                    d.getImpl().modalAlpha = b
                },
                enumerable: !0,
                configurable: !0
            });
            d.addPopUp = function (b, a, c) {
                void 0 === a && (a = !1);
                void 0 === c && (c = !0);
                d.getImpl().addPopUp(b, a, c);
                f.PopUpEvent.dispatchPopUpEvent(d.getImpl(), f.PopUpEvent.ADD_POPUP, b, a)
            };
            d.removePopUp = function (b) {
                d.getImpl().removePopUp(b);
                f.PopUpEvent.dispatchPopUpEvent(d.getImpl(), f.PopUpEvent.REMOVE_POPUP, b)
            };
            d.centerPopUp = function (b) {
                d.getImpl().centerPopUp(b)
            };
            d.bringToFront = function (b) {
                d.getImpl().bringToFront(b);
                f.PopUpEvent.dispatchPopUpEvent(d.getImpl(), f.PopUpEvent.BRING_TO_FRONT, b)
            };
            Object.defineProperty(d,
                    "popUpList", {
                        get: function () {
                            return d.getImpl().popUpList
                        },
                        enumerable: !0,
                        configurable: !0
                    });
            d.addEventListener = function (b, a, c, e, f) {
                void 0 === e && (e = !1);
                void 0 === f && (f = 0);
                d.getImpl().addEventListener(b, a, c, e, f)
            };
            d.removeEventListener = function (b, a, c, e) {
                void 0 === e && (e = !1);
                d.getImpl().removeEventListener(b, a, c, e)
            };
            return d
        }();
        f.PopUpManager = g;
        g.prototype.__class__ = "egret.gui.PopUpManager"
    })(e.gui || (e.gui = {}))
})(egret || (egret = {}));
var Eagle = function (e) {
    function f() {
        e.call(this);
        this.animation = "ly_fly";
        this.jumpX = [];
        this.sy = this.sx = 0;
        this.addEventListener(egret.Event.ADDED_TO_STAGE, this.onAddToStage, this)
    }
    __extends(f, e);
    var g = f.prototype;
    g.onAddToStage = function (d) {
        this.setAvatar(9999);
        this.box = new egret.Sprite;
        this.box.x = 200;
        this.box.y = 290;
        this.addChild(this.box)
    };
    g.setPos = function () {
    };
    g.getPos = function () {
        return Math.ceil(this.x - Game.instance.bgBox.x)
    };
    g.setJump = function (d) {
        this.jumpX.push(d)
    };
    g.setAvatar = function (d) {
        null !=
                this.mc && this.removeChild(this.mc);
        var b = RES.getRes("enemy_json"),
                a = RES.getRes("enemy_png"),
                b = new egret.MovieClipDataFactory(b, a);
        this.mc = new egret.MovieClip(b.generateMovieClipData(this.animation));
        this.addChild(this.mc);
        this.mc.frameRate = 12;
        this.mc.play(d)
    };
    g.setPrey = function (d) {
        var b = RES.getRes("role_json"),
                a = RES.getRes("role_png"),
                b = new egret.MovieClipDataFactory(b, a);
        d = new egret.MovieClip(b.generateMovieClipData(d + "run"));
        d.anchorX = 0.5;
        d.anchorY = 1;
        d.frameRate = 12;
        d.play(99999);
        this.box.addChild(d)
    };
    g.removePrey = function () {
        this.box.removeChildren()
    };
    Object.defineProperty(g, "factor", {
        get: function () {
            return 0
        },
        set: function (d) {
            this.x = (1 - d) * (1 - d) * this.sx + 2 * d * (1 - d) * (this.sx + 0) + d * d * (this.sx + 0);
            this.y = (1 - d) * (1 - d) * this.sy + 2 * d * (1 - d) * (this.sy - 400) + d * d * this.sy
        },
        enumerable: !0,
        configurable: !0
    });
    return f
}(egret.Sprite);
Eagle.prototype.__class__ = "Eagle";
var Role = function (e) {
    function f(d) {
        e.call(this);
        this.animation = null;
        this.jumpX = [];
        this.tips = new egret.Bitmap;
        this.inde = 0;
        this.nextAnimation = null;
        this.sy = this.sx = 0;
        this.isFlicker = !1;
        this.tags = d;
        this.addEventListener(egret.Event.ADDED_TO_STAGE, this.onAddToStage, this)
    }
    __extends(f, e);
    var g = f.prototype;
    g.onAddToStage = function (d) {
        this.setAvatar(9999);
        this.mc.addEventListener(egret.Event.ENTER_FRAME, this.enter_frame, this)
    };
    g.setPos = function () {
    };
    g.getPos = function () {
        return Math.ceil(this.x - Game.instance.bgBox.x)
    };
    g.setJump = function (d) {
        this.jumpX.push(d)
    };
    g.remove = function () {
        this.mc.removeEventListener(egret.Event.ENTER_FRAME, this.enter_frame, this)
    };
    g.setAvatar = function (d) {
        this.removeChildren();
        var b = this;
        this.loop = d;
        var a = RES.getRes("role_json"),
                c = RES.getRes("role_png"),
                a = new egret.MovieClipDataFactory(a, c);
        this.mc = new egret.MovieClip(a.generateMovieClipData(this.tags));
        this.mc.x = 0;
        this.mc.y = 0;
        this.addChild(this.mc);
        this.mc.frameRate = 12;
        this.mc.play(d);
        if ("susliks_stand" == this.tags || "flower_stand" == this.tags)
            this.mc.gotoAndStop(0),
                    0.5 < Math.random() ? this.state = 0 : (this.state = 1, this.mc.play()), setTimeout(function () {
                b.setAvatar(1)
            }, 4E3)
    };
    g.setTips = function () {
        this.tips.texture = RES.getRes("tips_png");
        this.tips.anchorX = 1;
        this.addChild(this.tips);
        this.mc.y = 100;
        var d = new egret.TextField;
        d.width = this.tips.width - 30;
        d.height = this.tips.height;
        d.textColor = 0;
        d.size = 22;
        "friend_lt_" == this.pix ? d.text = "\u54b3\uff01\u54b3\uff01\u4e0d\u8981\u4e22\u4e0b\u6211\u3002" : "friend_ds_" == this.pix ? d.text = "\u563f\uff01\u5feb\u5e26\u4e0a\u5927\u53d4\u6211\u4e00\u8d77\u8d70\uff01" :
                "friend_cz_" == this.pix ? d.text = "\u6211\u5728\u8fd9\u91cc\u54df\uff0c\u5feb\u6765\u5e26\u4e0a\u6211\uff01" : "friend_dog_" == this.pix && (d.text = "\u6c6a\uff01\u6c6a\uff01");
        d.anchorX = 1;
        d.x = this.tips.x - 15;
        d.y = this.tips.y + 10;
        this.addChild(d)
    };
    g.enter_frame = function (d) {
        "flower_stand" == this.tags && 5 <= this.mc.currentFrame ? this.mc.stop() : void 0 != this.pix && this.mc.currentFrame >= this.mc.totalFrames && (this.inde++, this.inde >= this.loop && ("run" == this.nextAnimation ? (this.run(), this.nextAnimation = null) : this.mc.stop(),
                this.inde = 0))
    };
    g.jump = function () {
        this.setAnimation("jump");
        this.setAvatar(1);
        this.sx = this.x;
        this.sy = this.y
    };
    g.down = function () {
        this.setAnimation("down");
        this.setAvatar(1)
    };
    g.stand = function () {
        this.setAnimation("stand");
        this.setAvatar(9999)
    };
    g.run = function () {
        this.setAnimation("run");
        this.setAvatar(9999)
    };
    g.drop = function () {
        this.setAnimation("drop");
        this.setAvatar(1)
    };
    g.injured = function (d) {
        this.setAnimation("injured");
        this.setAvatar(d);
        this.nextAnimation = "run"
    };
    g.setAnimation = function (d) {
        this.animation =
                d;
        this.tags != this.pix + this.animation && (this.tags = this.pix + this.animation)
    };
    Object.defineProperty(g, "factor", {
        get: function () {
            return 0
        },
        set: function (d) {
            this.x = (1 - d) * (1 - d) * this.sx + 2 * d * (1 - d) * (this.sx + 0) + d * d * (this.sx + 0);
            this.y = (1 - d) * (1 - d) * this.sy + 2 * d * (1 - d) * (this.sy - 400) + d * d * this.sy
        },
        enumerable: !0,
        configurable: !0
    });
    g.flicker = function (d) {
        if (!this.isFlicker) {
            this.isFlicker = !0;
            var b = this,
                    a = egret.Tween.get(this);
            a.to({
                alpha: 0
            }, 200);
            a.to({
                alpha: 1
            }, 200);
            a.to({
                alpha: 0
            }, 200);
            a.to({
                alpha: 1
            }, 200);
            a.call(function (a) {
                b.tweenComplete(a)
            },
                    this, [d])
        }
    };
    g.tweenComplete = function (d) {
        Game.instance.removeRole(d)
    };
    return f
}(egret.Sprite);
Role.prototype.__class__ = "Role";
var Sound = function () {
    function e() {
    }
    e.play = function (e) {
        RES.getRes(e).play(!1)
    };
    return e
}();
Sound.prototype.__class__ = "Sound";
var GameOver = function (e) {
    function f() {
        e.call(this);
        this.skinName = "skins.scene.GameOverSkin"
    }
    __extends(f, e);
    var g = f.prototype;
    g.childrenCreated = function () {
        f.instance = this;
        this.Replay.addEventListener(egret.TouchEvent.TOUCH_TAP, this.touchEvent, this, !1);
        this.Replay.name = "replay";
        this.Share.addEventListener(egret.TouchEvent.TOUCH_TAP, this.touchEvent, this, !1);
        this.Share.name = "share"
    };
    g.touchEvent = function (d) {
        Sound.play("button_wav");
        Main.instance.doNext(d.target.name)
    };
    g.setTimer = function (d) {
        var b = getCookie();
        if (d > b) {
            setCookie(d);
            var b = d,
                    a = Game.instance.neturl + "?type=put&nickname=" + __nickname + "&score=" + d,
                    c = new egret.URLLoader,
                    a = new egret.URLRequest(a);
            a.method = egret.URLRequestMethod.POST;
            a.data = new egret.URLVariables("test=ok");
            c.load(a)
        }
        __score = b;
        this.cookie.text = b + "M";
        this.score.text = d + "M"
    };
    f.instance = null;
    return f
}(egret.gui.SkinnableComponent);
GameOver.prototype.__class__ = "GameOver";
var skins;
(function (e) {
    (function (e) {
        (function (e) {
            var d = function (b) {
                function a() {
                    b.call(this);
                    this.__s = egret.gui.setProperties;
                    this.__s(this, ["height", "width"], [85, 440]);
                    this.elementsContent = [this.__4_i(), this.topbg_i(), this.nickname_i(), this.score_i(), this.tops_i()];
                    this.states = [new egret.gui.State("up", []), new egret.gui.State("down", [new egret.gui.SetProperty("__4", "source", "rank_top_bg_png"), new egret.gui.SetProperty("nickname", "textColor", 15790320)]), new egret.gui.State("disabled", [])]
                }
                __extends(a, b);
                var c =
                        a.prototype;
                Object.defineProperty(c, "skinParts", {
                    get: function () {
                        return a._skinParts
                    },
                    enumerable: !0,
                    configurable: !0
                });
                c.nickname_i = function () {
                    var a = new egret.gui.Label;
                    this.nickname = a;
                    this.__s(a, "fontFamily left size text textColor verticalCenter".split(" "), ["Tahoma", 100, 24, "123", 1118481, 2]);
                    return a
                };
                c.score_i = function () {
                    var a = new egret.gui.BitmapLabel;
                    this.score = a;
                    this.__s(a, ["font", "left", "text", "verticalCenter"], ["timer_fnt", 280, "123", 5]);
                    return a
                };
                c.__4_i = function () {
                    var a = new egret.gui.UIAsset;
                    this.__4 = a;
                    this.__s(a, ["percentHeight", "scale9Grid", "source", "percentWidth"], [100, egret.gui.getScale9Grid("26,25,2,3"), "rank_top_bg_png", 100]);
                    return a
                };
                c.topbg_i = function () {
                    var a = new egret.gui.UIAsset;
                    this.topbg = a;
                    this.__s(a, "height left scale9Grid source verticalCenter width".split(" "), [50, 20, egret.gui.getScale9Grid("26,25,2,3"), "rank_top1_png", 0, 50]);
                    return a
                };
                c.tops_i = function () {
                    var a = new egret.gui.BitmapLabel;
                    this.tops = a;
                    this.__s(a, ["font", "left", "verticalCenter", "x", "y"], ["timer_fnt", 30, 3,
                        10, 10
                    ]);
                    return a
                };
                a._skinParts = ["topbg", "nickname", "score", "tops"];
                return a
            }(egret.gui.Skin);
            e.ItemRendererSkin = d;
            d.prototype.__class__ = "skins.scene.component.ItemRendererSkin"
        })(e.component || (e.component = {}))
    })(e.scene || (e.scene = {}))
})(skins || (skins = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.elementsContent = [this.__4_i()];
                this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.__4_i = function () {
                var a = new egret.gui.Scroller;
                this.__s(a, ["percentHeight", "horizontalScrollPolicy", "percentWidth"], [100, "off", 100]);
                a.viewport =
                        this.dataGroup_i();
                return a
            };
            a.dataGroup_i = function () {
                var a = new egret.gui.DataGroup;
                this.dataGroup = a;
                a.layout = this.__3_i();
                return a
            };
            a.__3_i = function () {
                var a = new egret.gui.VerticalLayout;
                this.__s(a, ["gap", "horizontalAlign"], [0, "contentJustify"]);
                return a
            };
            b._skinParts = ["dataGroup"];
            return b
        }(egret.gui.Skin);
        e.ListSkin = g;
        g.prototype.__class__ = "skins.simple.ListSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
var Game = function (e) {
    function f() {
        e.call(this);
        this.neturl = "http://m.idreamcastle.com/wx/rank.php";
        this.upSpeed = this.removeBg = this.jumpCount = 0;
        this.bgBox = new egret.Sprite;
        this.bgAry = [];
        this.role = [];
        this.enemy = [];
        this.friend = [];
        this.obstacle = [];
        this.GameState = -1;
        this.delay = this.timerCount = 0;
        this.isDown = this.isJump = !1;
        this.cacheBox = new egret.Sprite;
        this.eagle = null;
        this.zhuabu = this.eagleAction = !1;
        this.bgCount = 0;
        this.addEventListener(egret.Event.ADDED_TO_STAGE, this.onAddToStage, this)
    }
    __extends(f, e);
    var g =
            f.prototype;
    g.onAddToStage = function (d) {
        f.instance = this;
        this.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN, this.touchProcess, this, !1);
        this.stage.addEventListener(egret.TouchEvent.TOUCH_END, this.touchProcess, this, !1);
        this.addEventListener(egret.Event.ENTER_FRAME, this.enter_frame, this, !1);
        this.sw = this.stage.stageHeight;
        this.sh = this.stage.stageWidth
    };
    g.enter_frame = function (d) {
        if (1 == this.GameState) {
            Main.instance.doNext("GameOver");
            this.GameState = 2;
            for (d = 0; d < this.role.length; d++)
                this.role[d].remove();
            this.cacheBox.visible = !1;
            for (d = 0; d < this.enemy.length; d++)
                this.enemy[d].visible = !1;
            for (d = 0; d < this.obstacle.length; d++)
                this.obstacle[d].visible = !1;
            for (d = 0; d < this.friend.length; d++)
                this.friend[d].visible = !1;
            GameOver.instance.setTimer(this.timerCount)
        } else if (0 == this.GameState) {
            for (d = 0; d < this.enemy.length; d++)
                this.enemy[d].x -= 15;
            for (d = 0; d < this.role.length; d++)
                if (this.hitTestRect(this.eagle, this.role[d], 2) && this.zhuabu) {
                    1 < this.role.length ? (d = this.role.length - 1, this.eagle.setPrey(this.role[d].pix), this.removeRole(d),
                            this.role[0].injured(1), this.zhuabu = !1, this.eagleBack()) : (this.GameState = 1, this.role[0].injured(999));
                    break
                }
            for (d = 0; d < this.friend.length; d++)
                if (this.hitTestRect(this.friend[d], this.role[0], 1)) {
                    "trole" == this.friend[d].name && (this.friend[d].name = "friend", this.cacheBox.addChild(this.friend[d]), this.role.push(this.friend[d]), this.friend[d].run(), this.delete(this.friend, d));
                    break
                }
            for (d = 0; d < this.obstacle.length; d++)
                if (this.hitTestRect(this.obstacle[d], this.role[0], 1)) {
                    "trap_png" == this.obstacle[d].name ?
                            (this.GameState = 1, this.role[0].drop()) : "susliks_stand" == this.obstacle[d].name || "flower_stand" == this.obstacle[d].name ? 1 == this.obstacle[d].state && (1 < this.role.length ? (d = this.role.length - 1, this.role[d].flicker(d), this.role[0].injured(1)) : (this.GameState = 1, this.role[0].injured(999))) : 1 < this.role.length ? (d = this.role.length - 1, this.role[d].flicker(d), this.role[0].injured(1)) : (this.GameState = 1, this.role[0].injured(999));
                    break
                }
            for (d = 0; d < this.enemy.length; d++)
                if (this.hitTestRect(this.enemy[d], this.role[0],
                        2)) {
                    1 < this.role.length ? (d = this.role.length - 1, this.role[d].flicker(d), this.role[0].injured(1)) : (this.GameState = 1, this.role[0].injured(999));
                    break
                }
            if (0 == this.GameState) {
                var b = this.upSpeed;
                0 < this.upSpeed && this.role[0].x > this.sw - 100 && (b = 0);
                this.bgBox.x = 0 < this.upSpeed ? this.bgBox.x - (8 + this.upSpeed) : this.bgBox.x - 8;
                this.role[0].x += b;
                var a = this;
                for (d = 1; d < this.role.length; d++)
                    this.role[d].x = this.role[0].x - 100 * d, 0 < this.role[d].jumpX.length && (b = this.role[d].jumpX[0], this.role[d].getPos() > b && (this.role[d].jumpX.shift(),
                            this.role[d].jump(), egret.Tween.get(this.role[d]).to({
                        factor: 1
                    }, 800).call(function (c) {
                        a.startRun(c)
                    }, this, [d])));
                this.isDown ? (this.delay++, 10 < this.delay && (this.upSpeed += 0.1, 4 <= this.upSpeed && (this.upSpeed = 4))) : (this.upSpeed -= 0.1, -2 >= this.upSpeed && (this.upSpeed = -2), 100 >= this.role[this.role.length - 1].x && (this.upSpeed = 0), 60 >= this.role[this.role.length - 1].x && (this.upSpeed = 1));
                this.timerCount++;
                d = "";
                d = this.timerCount + "M";
                this.timer.text = d;
                Math.floor(Math.abs(this.bgBox.x) / this.sw) > this.removeBg && (this.bgBox.removeChild(this.bgAry.shift()),
                        this.removeBg++, this.createBg());
                b = this.bgBox.numChildren;
                for (d = 0; d < b; d++) {
                    var c = this.bgBox.getChildAt(d).name,
                            e = this.bgBox.getChildAt(d).x;
                    if (("trap_png" == c || "stone_png" == c || "ball_png" == c || "flower_stand" == c || "susliks_stand" == c || "trole" == c) && 0 >= e + this.bgBox.x) {
                        this.bgBox.removeChildAt(d);
                        break
                    }
                }
                b = this.cacheBox.numChildren;
                for (d = 0; d < b; d++)
                    if (c = this.cacheBox.getChildAt(d).name, "enemy" == c && -500 >= this.cacheBox.getChildAt(d).x) {
                        this.cacheBox.removeChildAt(d);
                        break
                    }
            }
        }
    };
    g.hitTestRect = function (d, b, a) {
        if (null !=
                b && null != d) {
            var c = d.height / 2,
                    e = d.width / 2;
            if (1 == a) {
                if (b.y >= d.y - c && b.y <= d.y + c && b.getPos() >= d.x - e && b.getPos() <= d.x + e)
                    return !0
            } else if (b.y >= d.y - c && b.y <= d.y + c && b.x >= d.x - e && b.x <= d.x + e)
                return !0;
            return !1
        }
    };
    g.stopJump = function (d) {
        this.role[d].down()
    };
    g.startRun = function (d) {
        this.jumpCount--;
        0 >= this.jumpCount && (this.jumpCount = 0);
        void 0 != this.role[d] && this.role[d].run()
    };
    g.start = function () {
        this.init();
        this.GameState = 0
    };
    g.restart = function () {
        this.cacheBox.removeChildren();
        for (var d = 0; d < this.role.length; d++)
            this.role[d].remove(),
                    this.role[d] = null;
        this.cacheBox.visible = !0;
        this.role.length = 0;
        this.friend.length = 0;
        this.obstacle.length = 0;
        this.enemy.length = 0;
        this.GameState = -1;
        this.delay = this.timerCount = 0;
        this.isDown = this.isJump = !1;
        this.bgBox.removeChildren();
        this.upSpeed = this.removeBg = this.bgCount = 0;
        this.bgAry.length = 0;
        this.eagle = null;
        this.zhuabu = this.eagleAction = !1;
        this.start()
    };
    g.init = function () {
        Main.instance.playBgSound();
        this.bgBox.x = 0;
        this.bgBox.touchChildren = !1;
        this.bgBox.touchEnabled = !1;
        this.addChild(this.bgBox);
        this.addChild(this.cacheBox);
        this.bgAry.length = 0;
        this.createBg();
        var d = new egret.Bitmap;
        d.texture = RES.getRes("timerbg_png");
        d.anchorX = d.anchorY = 0.5;
        d.x = this.sw / 2;
        d.y = 160;
        this.cacheBox.addChild(d);
        this.timer = new egret.BitmapText;
        this.timer.font = RES.getRes("number_fnt");
        this.timer.anchorX = this.timer.anchorY = 0.5;
        this.timer.width = 300;
        this.timer.height = 100;
        this.timer.text = "0M";
        this.timer.x = this.sw / 2 + 50;
        this.timer.y = 187;
        this.cacheBox.addChild(this.timer);
        d = new Role("ali_run");
        d.name = "role";
        d.pix = "ali_";
        d.x = 190;
        d.y = 550;
        d.anchorX = 0.5;
        d.anchorY = 1;
        this.cacheBox.addChild(d);
        this.role.push(d);
        d = new Role("friend_dog_run");
        d.name = "friend";
        d.pix = "friend_dog_";
        d.y = 550;
        d.anchorX = 0.5;
        d.anchorY = 1;
        this.cacheBox.addChild(d);
        this.role.push(d);
        this.eagle = new Eagle;
        this.eagle.x = -250;
        this.eagle.y = 220;
        this.eagle.anchorX = 0.5;
        this.eagle.anchorY = 1;
        this.addChild(this.eagle);
        for (d = 0; 4 > d; d++)
            this.createBg()
    };
    g.eagleDoAction = function () {
        if (!this.eagleAction) {
            var d = this;
            this.eagleAction = !0;
            this.twDown = egret.Tween.get(this.eagle);
            this.twDown.to({
                x: 250
            },
            4E3);
            this.twDown.call(function () {
                d.predation()
            }, this)
        }
    };
    g.eagleBack = function () {
        var d = this;
        this.twDown.pause();
        egret.Tween.removeTweens(this.twDown);
        var b = egret.Tween.get(this.eagle);
        b.to({
            x: -250,
            y: 250
        }, 4E3);
        b.call(function () {
            d.eagleBackOver()
        }, this)
    };
    g.eagleBackOver = function () {
        this.zhuabu = this.eagleAction = !1;
        this.eagle.removePrey()
    };
    g.predation = function () {
        if (this.eagleAction) {
            var d = Math.floor(Math.random() * this.role.length);
            console.log("\u6293\u4eba");
            this.zhuabu = !0;
            this.twDown = egret.Tween.get(this.eagle);
            this.twDown.to({
                x: this.role[d].x,
                y: this.role[d].y
            }, 1500)
        }
    };
    g.createBg = function () {
        var d = new egret.Bitmap;
        d.texture = RES.getRes("bg_jpg");
        d.x = this.sw * this.bgCount - this.bgCount;
        this.bgBox.addChild(d);
        this.bgCount++;
        this.bgAry.push(d);
        var b = Math.ceil(10 * Math.random());
        8 <= b && 10 < this.bgCount && this.eagleDoAction();
        if (1 <= b) {
            var a = Math.ceil(4 * Math.random()),
                    c = "trap_png",
                    c = 1 == a ? "trap_png" : 2 == a ? "stone_png" : "ball_png",
                    a = new egret.Bitmap;
            a.texture = RES.getRes(c);
            a.name = c;
            a.x = d.x - 400;
            a.y = 550;
            a.anchorX = 0.5;
            a.anchorY =
                    0.5;
            this.obstacle.push(a);
            this.bgBox.addChild(a)
        }
        5 <= b && 2 < this.bgCount && (a = Math.ceil(4 * Math.random()), c = 1 == a ? "trap_png" : 2 == a ? "stone_png" : "ball_png", a = new egret.Bitmap, a.texture = RES.getRes(c), a.name = c, a.x = d.x + 400, a.y = 550, a.anchorX = 0.5, a.anchorY = 0.5, this.obstacle.push(a), this.bgBox.addChild(a));
        if (4 <= b && 3 < this.bgCount)
            if (a = Math.ceil(40 * Math.random()), c = 1 == a ? "trap_png" : 2 == a ? "stone_png" : 3 == a ? "ball_png" : 20 > a ? "flower_stand" : "susliks_stand", "susliks_stand" == c || "flower_stand" == c) {
                a = 0;
                "flower_stand" == c && (a =
                        75);
                if (5 < 10 * Math.random() && "flower_stand" == c) {
                    var e = new Role(c);
                    e.name = c;
                    e.x = d.x + 250;
                    e.y = 620 - a;
                    e.height = 200;
                    e.anchorX = 0.5;
                    e.anchorY = 0.5;
                    this.obstacle.push(e);
                    this.bgBox.addChild(e)
                }
                e = new Role(c);
                e.name = c;
                e.x = d.x + 200;
                e.y = 620 - a;
                e.height = 200;
                e.anchorX = 0.5;
                e.anchorY = 0.5;
                this.obstacle.push(e);
                this.bgBox.addChild(e)
            } else
                a = new egret.Bitmap, a.texture = RES.getRes(c), a.name = c, a.x = d.x - 200, a.y = 550, a.anchorX = 0.5, a.anchorY = 0.5, this.obstacle.push(a), this.bgBox.addChild(a);
        5 <= b && 10 < this.bgCount && (c = new Role("enemy_stand"),
                c.name = "enemy", c.pix = "enemy_", c.x = 1690, c.y = 350, c.anchorX = 0.5, c.anchorY = 0.5, this.cacheBox.addChild(c), this.enemy.push(c));
        8 <= b && 15 < this.bgCount && (c = new Role("enemy_stand"), c.name = "enemy", c.pix = "enemy_", c.x = 2290, c.y = 550, c.anchorX = 0.5, c.anchorY = 0.5, this.cacheBox.addChild(c), this.enemy.push(c));
        c = this.friend.length + this.role.length;
        7 <= b && 4 < this.bgCount && 5 > c && (b = "friend_lt_", 1 == c ? b = "friend_lt_" : 2 == c ? b = "friend_ds_" : 3 == c ? b = "friend_cz_" : 4 == c && (b = "friend_dog_"), c = new Role(b + "stand"), c.name = "trole", c.pix = b,
                c.x = d.x, c.y = 550, c.anchorX = 0.5, c.anchorY = 1, this.bgBox.addChild(c), c.setTips(), this.friend.push(c));
        return d.x
    };
    g.touchProcess = function (d) {
        0 == this.GameState && (d.touchDown ? this.isDown = !0 : (30 > this.delay && !this.isJump && (this.isJump = !0, this.delayJump()), this.delay = 0, this.isDown = !1))
    };
    g.delayJump = function () {
        Sound.play("jump_mp3");
        this.role[0].jump();
        egret.Tween.get(this.role[0]).to({
            factor: 1
        }, 800).call(this.jumpComplete, this);
        for (var d = 1; d < this.role.length; d++)
            this.role[d].setJump(this.role[0].getPos())
    };
    g.jumpComplete = function () {
        this.isJump = !1;
        "drop" != this.role[0].animation && "injured" != this.role[0].animation && this.role[0].run()
    };
    g.removeRole = function (d) {
        this.cacheBox.removeChild(this.role[d]);
        this.delete(this.role, d)
    };
    g.delete = function (d, b) {
        for (var a = 0; a < d.length; a++)
            if (a == b) {
                for (var c = a; c < d.length; c++)
                    d[c] = d[c + 1];
                d.length -= 1
            }
    };
    f.instance = null;
    return f
}(egret.DisplayObjectContainer);
Game.prototype.__class__ = "Game";
var RankItemRendesssrer = function (e) {
    function f() {
        e.call(this);
        this.skinName = "skins.scene.component.ItemRendererSkin"
    }
    __extends(f, e);
    f.prototype.dataChanged = function () {
        e.prototype.dataChanged.call(this);
        1 == this.data.tops ? (this.topbg.source = RES.getRes("rank_top1_png"), this.tops.text = "") : 2 == this.data.tops ? (this.topbg.source = RES.getRes("rank_top2_png"), this.tops.text = "") : 3 == this.data.tops ? (this.topbg.source = RES.getRes("rank_top3_png"), this.tops.text = "") : (this.tops.text = this.data.tops.toString(), this.topbg.source =
                RES.getRes("rank_top_bg_png"));
        this.nickname.text = this.data.nickname.toString();
        this.score.text = this.data.score + "M"
    };
    return f
}(egret.gui.ItemRenderer);
RankItemRendesssrer.prototype.__class__ = "RankItemRendesssrer";
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["height", "width"], [640, 1136]);
                this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            return b
        }(egret.gui.Skin);
        e.MainSkin = g;
        g.prototype.__class__ = "skins.scene.MainSkin"
    })(e.scene || (e.scene = {}))
})(skins || (skins = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["height", "width"], [640, 1136]);
                this.elementsContent = [this.__3_i(), this.BtnClose_i(), this.RankList_i()];
                this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.RankList_i = function () {
                var a = new egret.gui.List;
                this.RankList =
                        a;
                this.__s(a, "height horizontalCenter itemRendererSkinName skinName width y".split(" "), [400, 0, e.scene.component.ItemRendererSkin, e.simple.ListSkin, 450, 130]);
                return a
            };
            a.__3_i = function () {
                var a = new egret.gui.UIAsset;
                this.__s(a, ["horizontalCenter", "source", "verticalCenter"], [0, "rank_bg_png", 0]);
                return a
            };
            a.BtnClose_i = function () {
                var a = new egret.gui.Button;
                this.BtnClose = a;
                this.__s(a, ["height", "skinName", "width", "x", "y"], [66, new egret.gui.ButtonSkin("rank_close_png", "rank_close_png", "rank_close_png"),
                    66, 775, 32
                ]);
                return a
            };
            b._skinParts = ["BtnClose", "RankList"];
            return b
        }(egret.gui.Skin);
        f.RankSkin = g;
        g.prototype.__class__ = "skins.scene.RankSkin"
    })(e.scene || (e.scene = {}))
})(skins || (skins = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.elementsContent = [this.__4_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", []), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            b.prototype.__4_i = function () {
                var a = new egret.gui.UIAsset;
                this.__s(a, ["fillMode", "height", "source", "verticalCenter", "percentWidth"], ["scale", 10, "hscrollbtn_png", 0, 100]);
                return a
            };
            return b
        }(egret.gui.Skin);
        e.HScrollBarThumbSkin = g;
        g.prototype.__class__ =
                "skins.simple.HScrollBarThumbSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.minHeight = 22;
                this.elementsContent = [this.__7_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", [new egret.gui.SetProperty("__7", "source", "tree_btndown_png")]), new egret.gui.State("disabled", [new egret.gui.SetProperty("__7", "source", "tree_btndisabled_png")]), new egret.gui.State("upAndSelected", [new egret.gui.SetProperty("__7", "source", "tree_btnupselect_png")]), new egret.gui.State("downAndSelected", [new egret.gui.SetProperty("__7", "source", "tree_btndownselect_png")]), new egret.gui.State("disabledAndSelected", [new egret.gui.SetProperty("__7", "source", "tree_btndisabledselect_png")])]
            }
            __extends(b, d);
            b.prototype.__7_i = function () {
                var a = new egret.gui.UIAsset;
                this.__7 = a;
                this.__s(a, ["percentHeight", "source", "percentWidth"], [100, "tree_btnup_png", 100]);
                return a
            };
            return b
        }(egret.gui.Skin);
        e.TreeDisclosureButtonSkin = g;
        g.prototype.__class__ = "skins.simple.TreeDisclosureButtonSkin"
    })(e.simple || (e.simple = {}))
})(skins ||
        (skins = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.elementsContent = [this.__4_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", []), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            b.prototype.__4_i = function () {
                var a = new egret.gui.UIAsset;
                this.__s(a, ["fillMode", "percentHeight", "horizontalCenter", "source", "width"], ["scale", 100, 0, "vscrollbtn_png", 10]);
                return a
            };
            return b
        }(egret.gui.Skin);
        e.VScrollBarThumbSkin = g;
        g.prototype.__class__ =
                "skins.simple.VScrollBarThumbSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
var AssetAdapter = function () {
    function e() {
    }
    e.prototype.getAsset = function (e, g, d, b) {
        function a(a) {
            g.call(d, a, e)
        }
        b = e;
        e.prototype && (b = new e);
        b instanceof egret.DisplayObject || b instanceof egret.Texture ? g.call(d, b, e) : "string" == typeof e ? RES.hasRes(e) ? RES.getResAsync(e, a, this) : RES.getResByUrl(e, a, this) : g.call(d, b, e)
    };
    return e
}();
AssetAdapter.prototype.__class__ = "AssetAdapter";
var LoadingUI = function (e) {
    function f() {
        e.call(this);
        this.mc = null;
        this.addEventListener(egret.Event.ADDED_TO_STAGE, this.onAddToStage, this)
    }
    __extends(f, e);
    var g = f.prototype;
    g.onAddToStage = function (d) {
        this.textField = new egret.TextField;
        this.addChild(this.textField);
        this.textField.width = 480;
        this.textField.height = 100;
        this.textField.y = this.stage.stageWidth / 2 - 50;
        this.textField.x = this.stage.stageHeight / 2 - 300;
        this.textField.textAlign = "center";
        this.textField.rotation = 90
    };
    g.setProgress = function (d, b, a) {
        this.textField.text =
                "Loading..." + d + "/" + b
    };
    g.setAli = function () {
        console.log("test ok..");
        var d = RES.getRes("loading_json"),
                b = RES.getRes("loading_png"),
                d = new egret.MovieClipDataFactory(d, b);
        this.mc = new egret.MovieClip(d.generateMovieClipData("loading"));
        this.mc.rotation = 90;
        this.mc.scaleX = 1.5;
        this.mc.scaleY = 1.5;
        this.mc.x = this.stage.stageWidth / 2 + this.mc.width + 50;
        this.mc.y = this.stage.stageHeight / 2 - this.mc.height - 10;
        this.mc.frameRate = 12;
        this.mc.play(9999);
        this.addChild(this.mc)
    };
    return f
}(egret.Sprite);
LoadingUI.prototype.__class__ = "LoadingUI";
var LoginScene = function (e) {
    function f() {
        e.call(this);
        this.isHelp = !1;
        this.skinName = "skins.scene.LoginSkin"
    }
    __extends(f, e);
    var g = f.prototype;
    g.childrenCreated = function () {
        this.BeginGame.addEventListener(egret.TouchEvent.TOUCH_TAP, this.touchEvent, this, !1);
        this.BeginGame.name = "BeginGame";
        this.GameRank.addEventListener(egret.TouchEvent.TOUCH_TAP, this.touchEvent, this, !1);
        this.GameRank.name = "GameRank";
        this.EnterFans.addEventListener(egret.TouchEvent.TOUCH_TAP, this.touchEvent, this, !1);
        this.EnterFans.name =
                "EnterFans";
        this.BtnHelp.addEventListener(egret.TouchEvent.TOUCH_BEGIN, this.showHelp, this, !1);
        this.BtnHelp.addEventListener(egret.TouchEvent.TOUCH_BEGIN, this.showHelp, this, !1);
        this.HelpBg.visible = !1
    };
    g.showHelp = function (d) {
        Sound.play("button_wav");
        this.isHelp ? (this.isHelp = !1, this.HelpBg.visible = !1) : (this.isHelp = !0, this.HelpBg.visible = !0)
    };
    g.touchEvent = function (d) {
        console.log(d.target.name);
        Sound.play("button_wav");
        Main.instance.doNext(d.target.name)
    };
    return f
}(egret.gui.SkinnableComponent);
LoginScene.prototype.__class__ = "LoginScene";
var MainScene = function (e) {
    function f() {
        e.call(this);
        this.skinName = "skins.scene.MainSkin"
    }
    __extends(f, e);
    return f
}(egret.gui.SkinnableComponent);
MainScene.prototype.__class__ = "MainScene";
var RankScene = function (e) {
    function f() {
        e.call(this);
        this.dataSource = [];
        this.skinName = "skins.scene.RankSkin";
        this.initListData()
    }
    __extends(f, e);
    var g = f.prototype;
    g.initListData = function () {
        var d = Game.instance.neturl + "?type=get",
                b = new egret.URLLoader;
        b.dataFormat = egret.URLLoaderDataFormat.TEXT;
        b.addEventListener(egret.Event.COMPLETE, this.onPostComplete, this);
        d = new egret.URLRequest(d);
        d.method = egret.URLRequestMethod.POST;
        d.data = new egret.URLVariables("test=ok");
        b.load(d)
    };
    g.onPostComplete = function (d) {
        d =
                JSON.parse(d.target.data);
        for (var b = 0; b < d.length; b++)
            this.dataSource.push({
                tops: b + 1,
                nickname: d[b][0],
                score: d[b][1]
            });
        this.RankList.itemRenderer = new egret.gui.ClassFactory(RankItemRendesssrer);
        this.RankList.dataProvider = new egret.gui.ArrayCollection(this.dataSource)
    };
    g.childrenCreated = function () {
        this.BtnClose.addEventListener(egret.TouchEvent.TOUCH_TAP, this.touchEvent, this, !1);
        this.BtnClose.name = "BtnClose"
    };
    g.touchEvent = function (d) {
        "BtnClose" == d.target.name && (this.enabled = this.visible = !1)
    };
    return f
}(egret.gui.SkinnableComponent);
RankScene.prototype.__class__ = "RankScene";
var StoryScene = function (e) {
    function f() {
        e.call(this);
        this.addEventListener(egret.Event.ADDED_TO_STAGE, this.onAddToStage, this)
    }
    __extends(f, e);
    var g = f.prototype;
    g.onAddToStage = function (d) {
        var b = this;
        d = new egret.Bitmap;
        d.texture = RES.getRes("bg_jpg");
        d.x = 0;
        d.y = 0;
        this.addChild(d);
        var a = this.create("cloud_ali");
        a.x = 100;
        a.y = 480;
        a.play(9999);
        this.addChild(a);
        d = egret.Tween.get(a);
        d.to({
            x: 780
        }, 3E3);
        d.call(function () {
            b.removeChild(b.nextCloud);
            b.removeChild(a);
            b.last()
        }, this);
        var c = this.create("cloud_down");
        c.x = 850;
        c.y = 100;
        c.play(9999);
        this.addChild(c);
        d = egret.Tween.get(c);
        d.to({
            y: 480
        }, 1E3);
        d.call(function () {
            b.removeChild(c);
            b.next()
        }, this)
    };
    g.next = function () {
        this.nextCloud = this.create("cloud_cry1");
        this.nextCloud.x = 844;
        this.nextCloud.y = 517;
        this.nextCloud.play(9999);
        this.addChild(this.nextCloud)
    };
    g.last = function () {
        this.lastCloud = this.create("cloud_help");
        this.lastCloud.x = 785;
        this.lastCloud.y = 470;
        this.lastCloud.play(1);
        this.addChild(this.lastCloud);
        this.addEventListener(egret.Event.ENTER_FRAME, this.enter_frame,
                this)
    };
    g.enter_frame = function (d) {
        null != this.lastCloud && this.lastCloud.currentFrame >= this.lastCloud.totalFrames && (this.removeEventListener(egret.Event.ENTER_FRAME, this.enter_frame, this), this.removeChild(this.lastCloud), this.doGame())
    };
    g.doGame = function () {
        var d = this.createRole("ali_run");
        d.x = 830;
        d.y = 470;
        d.play(9999);
        this.addChild(d);
        d = egret.Tween.get(d);
        d.to({
            x: 1200
        }, 1500);
        d.call(function () {
            Main.instance.doPlay()
        }, this)
    };
    g.create = function (d) {
        var b = RES.getRes("story_json"),
                a = RES.getRes("story_png"),
                b = new egret.MovieClipDataFactory(b, a);
        d = new egret.MovieClip(b.generateMovieClipData(d));
        d.frameRate = 12;
        return d
    };
    g.createRole = function (d) {
        var b = RES.getRes("role_json"),
                a = RES.getRes("role_png"),
                b = new egret.MovieClipDataFactory(b, a);
        d = new egret.MovieClip(b.generateMovieClipData(d));
        d.frameRate = 12;
        return d
    };
    return f
}(egret.DisplayObjectContainer);
StoryScene.prototype.__class__ = "StoryScene";
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.elementsContent = [this.__4_i(), this.labelDisplay_i()];
                this.states = [new egret.gui.State("up", [new egret.gui.SetProperty("labelDisplay", "textColor", 1118481)]), new egret.gui.State("down", [new egret.gui.SetProperty("__4", "source", "closebtn_down_png"), new egret.gui.SetProperty("labelDisplay", "textColor", 2236962)]), new egret.gui.State("disabled", [new egret.gui.SetProperty("__4", "source", "closebtn_disabled_png"),
                        new egret.gui.SetProperty("labelDisplay", "textColor", 13421772)
                    ])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.labelDisplay_i = function () {
                var a = new egret.gui.Label;
                this.labelDisplay = a;
                this.__s(a, "bottom fontFamily left right size textAlign top verticalAlign".split(" "), [12, "Tahoma", 10, 10, 20, "center", 8, "middle"]);
                return a
            };
            a.__4_i = function () {
                var a = new egret.gui.UIAsset;
                this.__4 = a;
                this.__s(a, ["percentHeight",
                    "source", "percentWidth"
                ], [100, "closebtn_up_png", 100]);
                return a
            };
            b._skinParts = ["labelDisplay"];
            return b
        }(egret.gui.Skin);
        e.CloseButtonSkin = g;
        g.prototype.__class__ = "skins.simple.CloseButtonSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.height = 40;
                this.elementsContent = [this.__4_i(), this.__5_i(), this.labelDisplay_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", [new egret.gui.SetProperty("__4", "source", "app_list_item_select_png"), new egret.gui.SetProperty("labelDisplay", "textColor", 15790320)]), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.__5_i = function () {
                var a = new egret.gui.UIAsset;
                this.__s(a, ["height", "source", "percentWidth"], [1, "app_list_item_cutlline_png", 100]);
                return a
            };
            a.labelDisplay_i = function () {
                var a = new egret.gui.Label;
                this.labelDisplay = a;
                this.__s(a, ["fontFamily", "left", "size", "textColor", "verticalCenter"], ["Tahoma", 32, 24, 1118481, 0]);
                return a
            };
            a.__4_i = function () {
                var a = new egret.gui.UIAsset;
                this.__4 = a;
                this.__s(a, ["percentHeight", "source", "percentWidth"], [100, "app_list_item_up_png", 100]);
                return a
            };
            b._skinParts = ["labelDisplay"];
            return b
        }(egret.gui.Skin);
        e.DropDownListItemRendererSkin = g;
        g.prototype.__class__ = "skins.simple.DropDownListItemRendererSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["height", "minWidth"], [60, 140]);
                this.elementsContent = [this.__4_i(), this.__5_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", [new egret.gui.SetProperty("__4", "source", "DropDownListButtonSkin_down_png"), new egret.gui.SetProperty("__5", "source", "dropdownlist_arrow_down_png")]), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            var a = b.prototype;
            a.__4_i = function () {
                var a =
                        new egret.gui.UIAsset;
                this.__4 = a;
                this.__s(a, ["percentHeight", "source", "percentWidth"], [100, "DropDownListButtonSkin_up_png", 100]);
                return a
            };
            a.__5_i = function () {
                var a = new egret.gui.UIAsset;
                this.__5 = a;
                this.__s(a, ["right", "source", "verticalCenter"], [4, "dropdownlist_arrow_up_png", 0]);
                return a
            };
            return b
        }(egret.gui.Skin);
        e.DropDownListOpenButtonSkin = g;
        g.prototype.__class__ = "skins.simple.DropDownListOpenButtonSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["minHeight", "minWidth"], [10, 20]);
                this.elementsContent = [this.track_i(), this.thumb_i()];
                this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.thumb_i = function () {
                var a = new egret.gui.Button;
                this.thumb = a;
                this.__s(a, ["height",
                    "skinName", "verticalCenter", "width"
                ], [10, e.simple.HScrollBarThumbSkin, 0, 24]);
                return a
            };
            a.track_i = function () {
                var a = new egret.gui.UIAsset;
                this.track = a;
                this.__s(a, "height left right source verticalCenter percentWidth".split(" "), [10, 10, 10, "hscrolltrack_png", 0, 100]);
                return a
            };
            b._skinParts = ["track", "thumb"];
            return b
        }(egret.gui.Skin);
        f.HScrollBarSkin = g;
        g.prototype.__class__ = "skins.simple.HScrollBarSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.elementsContent = [this.__4_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", []), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            b.prototype.__4_i = function () {
                var a = new egret.gui.UIAsset;
                this.__s(a, ["fillMode", "percentHeight", "source", "percentWidth"], ["scale", 100, "hslider_thumb_png", 100]);
                return a
            };
            return b
        }(egret.gui.Skin);
        e.HSliderThumbSkin = g;
        g.prototype.__class__ =
                "skins.simple.HSliderThumbSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["height", "minWidth"], [60, 140]);
                this.elementsContent = [this.__7_i(), this.labelDisplay_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", [new egret.gui.SetProperty("__7", "source", "button_down_png")]), new egret.gui.State("disabled", [new egret.gui.SetProperty("__7", "source", "button_disabled_png")]), new egret.gui.State("upAndSelected", [new egret.gui.SetProperty("__7",
                                "source", "button_down_png")]), new egret.gui.State("downAndSelected", [new egret.gui.SetProperty("__7", "source", "button_down_png")]), new egret.gui.State("disabledAndSelected", [new egret.gui.SetProperty("__7", "source", "button_down_png")])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.labelDisplay_i = function () {
                var a = new egret.gui.Label;
                this.labelDisplay = a;
                this.__s(a, "bottom fontFamily left right size textAlign textColor top verticalAlign".split(" "), [12, "Tahoma", 10, 10, 20, "center", 1118481, 8, "middle"]);
                return a
            };
            a.__7_i = function () {
                var a = new egret.gui.UIAsset;
                this.__7 = a;
                this.__s(a, ["percentHeight", "source", "percentWidth"], [100, "button_normal_png", 100]);
                return a
            };
            b._skinParts = ["labelDisplay"];
            return b
        }(egret.gui.Skin);
        e.TabBarButtonSkin = g;
        g.prototype.__class__ = "skins.simple.TabBarButtonSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.minHeight = 22;
                this.elementsContent = [this.contentGroup_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", []), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.contentGroup_i = function () {
                var a = new egret.gui.Group;
                this.contentGroup = a;
                this.__s(a, ["bottom",
                    "top"
                ], [0, 0]);
                a.layout = this.__4_i();
                a.elementsContent = [this.disclosureButton_i(), this.iconDisplay_i(), this.labelDisplay_i()];
                return a
            };
            a.disclosureButton_i = function () {
                var a = new egret.gui.ToggleButton;
                this.disclosureButton = a;
                this.__s(a, ["skinName", "verticalCenter"], [e.simple.TreeDisclosureButtonSkin, 0]);
                return a
            };
            a.iconDisplay_i = function () {
                var a = new egret.gui.UIAsset;
                this.iconDisplay = a;
                this.__s(a, ["height", "width"], [24, 24]);
                return a
            };
            a.labelDisplay_i = function () {
                var a = new egret.gui.Label;
                this.labelDisplay =
                        a;
                this.__s(a, "bottom fontFamily left maxDisplayedLines right textAlign textColor top verticalAlign".split(" "), [3, "Tahoma", 5, 1, 5, "center", 7368816, 3, "middle"]);
                return a
            };
            a.__4_i = function () {
                var a = new egret.gui.HorizontalLayout;
                this.__s(a, ["gap", "verticalAlign"], [1, "middle"]);
                return a
            };
            b._skinParts = ["disclosureButton", "iconDisplay", "labelDisplay", "contentGroup"];
            return b
        }(egret.gui.Skin);
        f.TreeItemRendererSkin = g;
        g.prototype.__class__ = "skins.simple.TreeItemRendererSkin"
    })(e.simple || (e.simple = {}))
})(skins ||
        (skins = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["minHeight", "minWidth"], [10, 10]);
                this.elementsContent = [this.track_i(), this.thumb_i()];
                this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.thumb_i = function () {
                var a = new egret.gui.Button;
                this.thumb = a;
                this.__s(a, ["height",
                    "horizontalCenter", "skinName", "width"
                ], [20, 0, e.simple.VScrollBarThumbSkin, 10]);
                return a
            };
            a.track_i = function () {
                var a = new egret.gui.UIAsset;
                this.track = a;
                this.__s(a, "bottom percentHeight horizontalCenter source top width".split(" "), [10, 100, 0, "vscrolltrack_png", 10, 10]);
                return a
            };
            b._skinParts = ["track", "thumb"];
            return b
        }(egret.gui.Skin);
        f.VScrollBarSkin = g;
        g.prototype.__class__ = "skins.simple.VScrollBarSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.elementsContent = [this.__4_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", []), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            b.prototype.__4_i = function () {
                var a = new egret.gui.UIAsset;
                this.__s(a, ["percentHeight", "source", "percentWidth"], [100, "vslider_thumb_png", 100]);
                return a
            };
            return b
        }(egret.gui.Skin);
        e.VSliderThumbSkin = g;
        g.prototype.__class__ = "skins.simple.VSliderThumbSkin"
    })(e.simple ||
            (e.simple = {}))
})(skins || (skins = {}));
var Main = function (e) {
    function f() {
        e.call(this);
        this.resList = [];
        this.resSize = 0;
        this.bg_mp3 = null;
        this.addEventListener(egret.Event.ADDED_TO_STAGE, this.onAddToStage, this)
    }
    __extends(f, e);
    var g = f.prototype;
    g.onAddToStage = function (d) {
        f.instance = this;
        egret.Injector.mapClass("egret.gui.IAssetAdapter", AssetAdapter);
        egret.gui.Theme.load("resource/theme.thm");
        this.loadingView = new LoadingUI;
        this.stage.addChild(this.loadingView);
        RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE, this.onConfigComplete, this);
        RES.loadConfig("resource/resource.json", "resource/")
    };
    g.onConfigComplete = function (d) {
        RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE, this.onConfigComplete, this);
        RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE, this.onResourceLoadComplete, this);
        RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR, this.onResourceLoadError, this);
        RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS, this.onResourceProgress, this);
        this.resList.push("Loading");
        this.resList.push("Role");
        this.resList.push("Background");
        this.resList.push("Obstacle");
        this.resList.push("UI");
        this.resList.push("Font");
        this.resList.push("Sound");
        this.resList.push("Story");
        this.resSize = this.resList.length;
        for (d = 0; d < this.resList.length; d++)
            RES.loadGroup(this.resList[d])
    };
    g.onResourceLoadComplete = function (d) {
        this.resSize--;
        console.log("event.name: " + d.groupName);
        "Loading" == d.groupName && this.loadingView.setAli();
        0 >= this.resSize && (this.stage.removeChild(this.loadingView), RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE, this.onResourceLoadComplete,
                this), RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR, this.onResourceLoadError, this), RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS, this.onResourceProgress, this), this.createScene())
    };
    g.onResourceLoadError = function (d) {
        console.warn("Group:" + d.groupName + " has failed to load");
        this.onResourceLoadComplete(d)
    };
    g.onResourceProgress = function (d) {
        this.loadingView.setProgress(d.itemsLoaded, d.itemsTotal, d.groupName)
    };
    g.createScene = function () {
        this.gameLayer = new egret.DisplayObjectContainer;
        this.addChild(this.gameLayer);
        this.game = new Game;
        this.game.visible = !1;
        this.gameLayer.addChild(this.game);
        this.guiLayer = new egret.gui.UIStage;
        this.addChild(this.guiLayer);
        this.story = new StoryScene;
        this.login = new LoginScene;
        this.guiLayer.addElement(this.login);
        this.mainui = new MainScene;
        this.mainui.visible = !1;
        this.mainui.enabled = !1;
        this.guiLayer.addElement(this.mainui);
        this.over = new GameOver;
        this.over.visible = !1;
        this.over.enabled = !1;
        this.guiLayer.addElement(this.over);
        this.rank = new RankScene;
        this.rank.visible = !1;
        this.rank.enabled = !1;
        this.guiLayer.addElement(this.rank);
        this.rtips = new egret.Bitmap;
        this.rtips.texture = RES.getRes("rtips_png");
        this.rtips.anchorX = 0.5;
        this.rtips.anchorY = 0.5;
        this.rtips.rotation = -90;
        this.rtips.x = this.stage.stageWidth / 2;
        this.rtips.y = this.stage.stageHeight / 2 - this.rtips.width / 2 - 20;
        this.rtips.visible = !1;
        this.addChild(this.rtips)
    };
    g.getScore = function () {
        return __score
    };
    g.setNickname = function (d) {
        __nickname = d
    };
    g.playBgSound = function () {
        null == this.bg_mp3 && (this.bg_mp3 = RES.getRes("bg_mp3"));
        this.bg_mp3.stop();
        this.bg_mp3.play(!0)
    };
    g.isWeiXin = function () {
        return "MicroMessenger" == navigator.userAgent.toString().match(/MicroMessenger/i) ? !0 : !1
    };
    g.onRotation = function (d) {
        0 == d ? (this.gameLayer.visible = !0, this.guiLayer.visible = !0, this.rtips.visible = !1) : (this.gameLayer.visible = !1, this.guiLayer.visible = !1, this.rtips.visible = !0)
    };
    g.doPlay = function () {
        this.gameLayer.removeChild(this.story);
        this.game.visible = !0;
        this.game.start()
    };
    g.doNext = function (d) {
        "BeginGame" == d ? (this.gameLayer.addChild(this.story),
                this.login.visible = !1, this.login.enabled = !1, this.mainui.visible = !0, this.mainui.enabled = !0) : "GameOver" == d ? (wxshare('', imgUrl, link, desc, '' + __nickname + '' + Game.instance.timerCount + ''), Sound.play("over_mp3"), this.over.visible = !0, this.over.enabled = !0) : "replay" == d ? (this.over.visible = !1, this.over.enabled = !1, this.game.restart()) : "GameRank" == d ? (this.rank.visible = !0, this.rank.enabled = !0) : "EnterFans" == d ? jsFans() : "share" == d && (jsShare(Game.instance.timerCount), this.isWeiXin())
    };
    return f
}(egret.DisplayObjectContainer);
Main.prototype.__class__ = "Main";
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["height", "width"], [640, 1136]);
                this.elementsContent = [this.Replay_i(), this.Share_i(), this.__3_i(), this.cookie_i(), this.score_i()];
                this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.Share_i = function () {
                var a = new egret.gui.Button;
                this.Share = a;
                this.__s(a, ["horizontalCenter", "skinName", "verticalCenter", "x", "y"], [150, new egret.gui.ButtonSkin("share_over_png", "share_on_png", "share_on_png"), 150, 10, 10]);
                return a
            };
            a.__3_i = function () {
                var a = new egret.gui.UIAsset;
                this.__s(a, ["horizontalCenter", "source", "top"], [0, "ovbg_png", 0]);
                return a
            };
            a.cookie_i = function () {
                var a = new egret.gui.BitmapLabel;
                this.cookie = a;
                a.setStyle("textAlign", "left");
                this.__s(a, ["font", "text", "x", "y"], ["timer_fnt", "1", 542, 240]);
                return a
            };
            a.score_i = function () {
                var a =
                        new egret.gui.BitmapLabel;
                this.score = a;
                a.setStyle("textAlign", "center");
                this.__s(a, ["font", "horizontalCenter", "text", "y"], ["numberbig_fnt", 0, "123", 291]);
                return a
            };
            a.Replay_i = function () {
                var a = new egret.gui.Button;
                this.Replay = a;
                this.__s(a, ["horizontalCenter", "skinName", "verticalCenter"], [-150, new egret.gui.ButtonSkin("again_on_png", "again_on_png", "again_on_png"), 150]);
                return a
            };
            b._skinParts = ["Replay", "Share", "cookie", "score"];
            return b
        }(egret.gui.Skin);
        e.GameOverSkin = g;
        g.prototype.__class__ = "skins.scene.GameOverSkin"
    })(e.scene ||
            (e.scene = {}))
})(skins || (skins = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["height", "width"], [640, 1136]);
                this.elementsContent = [this.Bg_i(), this.BeginGame_i(), this.GameRank_i(), this.EnterFans_i(), this.Logo_i(), this.HelpBg_i(), this.BtnHelp_i()];
                this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.Bg_i = function () {
                var a = new egret.gui.UIAsset;
                this.Bg = a;
                this.__s(a, ["horizontalCenter", "source", "verticalCenter"], [0, "bg_jpg", 0]);
                return a
            };
            a.BtnHelp_i = function () {
                var a = new egret.gui.Button;
                this.BtnHelp = a;
                this.__s(a, ["skinName", "x", "y"], [new egret.gui.ButtonSkin("btn_help_over_png", "btn_help_on_png", "btn_help_on_png"), 73, 15]);
                return a
            };
            a.EnterFans_i = function () {
                var a = new egret.gui.Button;
                this.EnterFans = a;
                this.__s(a, ["horizontalCenter", "skinName", "verticalCenter", "x", "y"], [125, new egret.gui.ButtonSkin("regard_over_png",
                            "regard_on_png", "regard_on_png"), 200, 20, 20]);
                return a
            };
            a.GameRank_i = function () {
                var a = new egret.gui.Button;
                this.GameRank = a;
                this.__s(a, ["horizontalCenter", "skinName", "verticalCenter", "x", "y"], [-125, new egret.gui.ButtonSkin("rank_over_png", "rank_on_png", "regard_on_png"), 200, 10, 10]);
                return a
            };
            a.HelpBg_i = function () {
                var a = new egret.gui.UIAsset;
                this.HelpBg = a;
                this.__s(a, ["horizontalCenter", "source", "verticalCenter"], [0, "help_png", 0]);
                return a
            };
            a.Logo_i = function () {
                var a = new egret.gui.UIAsset;
                this.Logo = a;
                this.__s(a, ["horizontalCenter", "source", "y"], [0, "logo_png", 98]);
                return a
            };
            a.BeginGame_i = function () {
                var a = new egret.gui.Button;
                this.BeginGame = a;
                this.__s(a, ["horizontalCenter", "skinName", "verticalCenter"], [0, new egret.gui.ButtonSkin("begin_over_png", "begin_on_png", "begin_on_png"), 65]);
                return a
            };
            b._skinParts = "Bg BeginGame GameRank EnterFans Logo HelpBg BtnHelp".split(" ");
            return b
        }(egret.gui.Skin);
        e.LoginSkin = g;
        g.prototype.__class__ = "skins.scene.LoginSkin"
    })(e.scene || (e.scene = {}))
})(skins || (skins = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["maxWidth", "minHeight", "minWidth"], [710, 230, 370]);
                this.elementsContent = [this.__1_i(), this.moveArea_i(), this.contentDisplay_i(), this.__4_i()]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.__2_i = function () {
                var a = new egret.gui.UIAsset;
                this.__s(a, ["percentHeight", "source", "percentWidth"], [100,
                    "panel_headeback_png", 100
                ]);
                return a
            };
            a.__3_i = function () {
                var a = new egret.gui.HorizontalLayout;
                this.__s(a, ["gap", "horizontalAlign", "paddingLeft", "paddingRight"], [10, "center", 20, 20]);
                return a
            };
            a.__4_i = function () {
                var a = new egret.gui.Group;
                this.__s(a, ["bottom", "horizontalCenter"], [25, 0]);
                a.layout = this.__3_i();
                a.elementsContent = [this.firstButton_i(), this.secondButton_i()];
                return a
            };
            a.closeButton_i = function () {
                var a = new egret.gui.Button;
                this.closeButton = a;
                this.__s(a, ["right", "skinName", "verticalCenter"], [10, e.simple.CloseButtonSkin, 0]);
                return a
            };
            a.contentDisplay_i = function () {
                var a = new egret.gui.Label;
                this.contentDisplay = a;
                this.__s(a, "bottom fontFamily left padding right size textAlign textColor top verticalAlign".split(" "), [45, "Tahoma", 1, 10, 1, 22, "center", 7499888, 36, "middle"]);
                return a
            };
            a.firstButton_i = function () {
                var a = new egret.gui.Button;
                this.firstButton = a;
                this.__s(a, ["height", "label", "width"], [50, "OK", 115]);
                return a
            };
            a.moveArea_i = function () {
                var a = new egret.gui.Group;
                this.moveArea = a;
                this.__s(a, ["height", "left", "right"], [55, 3, 9]);
                a.elementsContent = [this.__2_i(), this.titleDisplay_i(), this.closeButton_i()];
                return a
            };
            a.secondButton_i = function () {
                var a = new egret.gui.Button;
                this.secondButton = a;
                this.__s(a, ["height", "label", "width"], [50, "cancel", 115]);
                return a
            };
            a.__1_i = function () {
                var a = new egret.gui.UIAsset;
                this.__s(a, ["percentHeight", "source", "percentWidth"], [100, "panel_back_png", 100]);
                return a
            };
            a.titleDisplay_i = function () {
                var a = new egret.gui.Label;
                this.titleDisplay = a;
                this.__s(a, "fontFamily left maxDisplayedLines minHeight right size textAlign textColor verticalAlign verticalCenter".split(" "), ["Tahoma", 5, 1, 28, 5, 26, "center", 7499888, "middle", 0]);
                return a
            };
            b._skinParts = "titleDisplay closeButton moveArea contentDisplay firstButton secondButton".split(" ");
            return b
        }(egret.gui.Skin);
        f.AlertSkin = g;
        g.prototype.__class__ = "skins.simple.AlertSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["minHeight", "minWidth"], [60, 140]);
                this.elementsContent = [this.__4_i(), this.__6_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", [new egret.gui.SetProperty("__4", "source", "button_down_png"), new egret.gui.SetProperty("labelDisplay", "textColor", 2236962)]), new egret.gui.State("disabled", [new egret.gui.SetProperty("__4", "source", "button_disabled_png"), new egret.gui.SetProperty("labelDisplay",
                                "textColor", 13421772)])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.__5_i = function () {
                var a = new egret.gui.HorizontalLayout;
                this.__s(a, ["gap", "horizontalAlign", "verticalAlign"], [0, "center", "middle"]);
                return a
            };
            a.__6_i = function () {
                var a = new egret.gui.Group;
                this.__s(a, ["bottom", "left", "right", "top"], [10, 10, 10, 10]);
                a.layout = this.__5_i();
                a.elementsContent = [this.iconDisplay_i(), this.labelDisplay_i()];
                return a
            };
            a.iconDisplay_i = function () {
                var a = new egret.gui.UIAsset;
                return this.iconDisplay = a
            };
            a.labelDisplay_i = function () {
                var a = new egret.gui.Label;
                this.labelDisplay = a;
                this.__s(a, "fontFamily paddingLeft paddingRight size textAlign textColor verticalAlign".split(" "), ["Tahoma", 5, 5, 20, "center", 1118481, "middle"]);
                return a
            };
            a.__4_i = function () {
                var a = new egret.gui.UIAsset;
                this.__4 = a;
                this.__s(a, ["percentHeight", "source", "percentWidth"], [100, "button_normal_png", 100]);
                return a
            };
            b._skinParts = ["iconDisplay", "labelDisplay"];
            return b
        }(egret.gui.Skin);
        e.ButtonSkin = g;
        g.prototype.__class__ = "skins.simple.ButtonSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.elementsContent = [this.__9_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", [new egret.gui.SetProperty("__8", "source", "checkbox_select_over_png")]), new egret.gui.State("disabled", [new egret.gui.SetProperty("__8", "source", "checkbox_unselect_disabled_png")]), new egret.gui.State("upAndSelected", [new egret.gui.SetProperty("__8", "source", "checkbox_select_normal_png")]), new egret.gui.State("downAndSelected", [new egret.gui.SetProperty("__8", "source", "checkbox_unselect_over_png")]), new egret.gui.State("disabledAndSelected", [new egret.gui.SetProperty("__8", "source", "checkbox_select_disabled_png")])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.__8_i = function () {
                var a = new egret.gui.UIAsset;
                this.__8 = a;
                this.__s(a, ["fillMode", "height", "source", "verticalCenter", "width"], ["scale", 24, "checkbox_unselect_normal_png", 1,
                    24
                ]);
                return a
            };
            a.__9_i = function () {
                var a = new egret.gui.Group;
                this.__s(a, ["percentHeight", "percentWidth"], [100, 100]);
                a.layout = this.__7_i();
                a.elementsContent = [this.__8_i(), this.labelDisplay_i()];
                return a
            };
            a.labelDisplay_i = function () {
                var a = new egret.gui.Label;
                this.labelDisplay = a;
                this.__s(a, "fontFamily maxDisplayedLines size textAlign textColor verticalAlign".split(" "), ["Tahoma", 1, 20, "center", 7368816, "middle"]);
                return a
            };
            a.__7_i = function () {
                var a = new egret.gui.HorizontalLayout;
                a.verticalAlign = "middle";
                return a
            };
            b._skinParts = ["labelDisplay"];
            return b
        }(egret.gui.Skin);
        e.CheckBoxSkin = g;
        g.prototype.__class__ = "skins.simple.CheckBoxSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.elementsContent = [this.openButton_i(), this.labelDisplay_i(), this.popUp_i()];
                this.states = [new egret.gui.State("normal", [new egret.gui.SetProperty("labelDisplay", "textColor", 1118481)]), new egret.gui.State("open", [new egret.gui.SetProperty("labelDisplay", "textColor", 2236962), new egret.gui.SetProperty("popUp", "displayPopUp", !0)]), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.dataGroup_i = function () {
                var a = new egret.gui.DataGroup;
                this.dataGroup = a;
                this.__s(a, ["percentHeight", "itemRendererSkinName", "percentWidth"], [100, e.simple.DropDownListItemRendererSkin, 100]);
                a.layout = this.__4_i();
                return a
            };
            a.dropDown_i = function () {
                var a = new egret.gui.Group;
                this.dropDown = a;
                this.__s(a, ["height", "visible"], [400, !0]);
                a.elementsContent = [this.scroller_i()];
                return a
            };
            a.labelDisplay_i = function () {
                var a =
                        new egret.gui.Label;
                this.labelDisplay = a;
                this.__s(a, "fontFamily paddingLeft touchChildren touchEnabled verticalAlign verticalCenter".split(" "), ["Tahoma", 10, !1, !1, "middle", 0]);
                return a
            };
            a.openButton_i = function () {
                var a = new egret.gui.Button;
                this.openButton = a;
                this.__s(a, ["percentHeight", "skinName", "percentWidth"], [100, e.simple.DropDownListOpenButtonSkin, 100]);
                return a
            };
            a.popUp_i = function () {
                var a = new egret.gui.PopUpAnchor;
                this.popUp = a;
                this.__s(a, ["displayPopUp", "percentHeight", "popUpPosition", "percentWidth"], [!1, 100, "screenCenter", 100]);
                a.popUp = this.dropDown_i();
                return a
            };
            a.scroller_i = function () {
                var a = new egret.gui.Scroller;
                this.scroller = a;
                this.__s(a, ["percentHeight", "horizontalScrollPolicy", "percentWidth"], [100, "off", 100]);
                a.viewport = this.dataGroup_i();
                return a
            };
            a.__4_i = function () {
                var a = new egret.gui.VerticalLayout;
                this.__s(a, ["gap", "horizontalAlign"], [0, "justify"]);
                return a
            };
            b._skinParts = "openButton labelDisplay dataGroup scroller dropDown popUp".split(" ");
            return b
        }(egret.gui.Skin);
        f.DropDownListSkin =
                g;
        g.prototype.__class__ = "skins.simple.DropDownListSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["minHeight", "minWidth"], [13, 50]);
                this.elementsContent = [this.track_i(), this.trackHighlight_i(), this.thumb_i()];
                this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.thumb_i = function () {
                var a = new egret.gui.Button;
                this.thumb =
                        a;
                this.__s(a, ["height", "skinName", "verticalCenter", "width"], [24, e.simple.HSliderThumbSkin, 0, 24]);
                return a
            };
            a.trackHighlight_i = function () {
                var a = new egret.gui.UIAsset;
                this.trackHighlight = a;
                this.__s(a, ["height", "source", "verticalCenter"], [10, "hslider_fill_png", 0]);
                return a
            };
            a.track_i = function () {
                var a = new egret.gui.UIAsset;
                this.track = a;
                this.__s(a, ["height", "source", "verticalCenter", "percentWidth"], [10, "hslider_track_png", 0, 100]);
                return a
            };
            b._skinParts = ["track", "trackHighlight", "thumb"];
            return b
        }(egret.gui.Skin);
        f.HSliderSkin = g;
        g.prototype.__class__ = "skins.simple.HSliderSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["maxWidth", "minHeight", "minWidth"], [710, 230, 470]);
                this.elementsContent = [this.__3_i(), this.moveArea_i(), this.contentGroup_i()];
                this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.__4_i = function () {
                var a = new egret.gui.UIAsset;
                this.__s(a, ["bottom", "left", "right", "source", "top"], [-4, -2, -2, "panel_headeback_png", -2]);
                return a
            };
            a.contentGroup_i = function () {
                var a = new egret.gui.Group;
                this.contentGroup = a;
                this.__s(a, ["bottom", "clipAndEnableScrolling", "top", "percentWidth"], [0, !0, 50, 100]);
                return a
            };
            a.moveArea_i = function () {
                var a = new egret.gui.Group;
                this.moveArea = a;
                this.__s(a, ["height", "left", "right"], [50, 0, 0]);
                a.elementsContent = [this.__4_i(), this.titleDisplay_i()];
                return a
            };
            a.__3_i = function () {
                var a = new egret.gui.UIAsset;
                this.__s(a, ["bottom", "left", "right", "source", "top"], [-10, -4, -10, "panel_back_png", -4]);
                return a
            };
            a.titleDisplay_i = function () {
                var a = new egret.gui.Label;
                this.titleDisplay = a;
                this.__s(a, "fontFamily left maxDisplayedLines minHeight right size textAlign textColor verticalAlign verticalCenter".split(" "), ["Tahoma", 5, 1, 28, 5, 26, "center", 7499888, "middle", 0]);
                return a
            };
            b._skinParts = ["titleDisplay", "moveArea", "contentGroup"];
            return b
        }(egret.gui.Skin);
        e.PanelSkin = g;
        g.prototype.__class__ = "skins.simple.PanelSkin"
    })(e.simple ||
            (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.elementsContent = [this.track_i(), this.thumb_i(), this.labelDisplay_i()];
                this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.labelDisplay_i = function () {
                var a = new egret.gui.Label;
                this.labelDisplay = a;
                this.__s(a, "horizontalCenter maxDisplayedLines size textAlign textColor verticalAlign verticalCenter".split(" "), [0, 1, 20, "center", 7368816, "middle", 0]);
                return a
            };
            a.thumb_i = function () {
                var a = new egret.gui.UIAsset;
                this.thumb = a;
                a.source = "progressbar_fill_png";
                return a
            };
            a.track_i = function () {
                var a = new egret.gui.UIAsset;
                this.track = a;
                this.__s(a, ["percentHeight", "source", "percentWidth"], [100, "progressbar_track_png", 100]);
                return a
            };
            b._skinParts = ["track", "thumb", "labelDisplay"];
            return b
        }(egret.gui.Skin);
        e.ProgressBarSkin = g;
        g.prototype.__class__ = "skins.simple.ProgressBarSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.elementsContent = [this.__9_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", [new egret.gui.SetProperty("__8", "source", "radiobutton_select_over_png")]), new egret.gui.State("disabled", [new egret.gui.SetProperty("__8", "source", "radiobutton_unselect_disabled_png")]), new egret.gui.State("upAndSelected", [new egret.gui.SetProperty("__8", "source", "radiobutton_select_normal_png")]),
                    new egret.gui.State("downAndSelected", [new egret.gui.SetProperty("__8", "source", "radiobutton_unselect_over_png")]), new egret.gui.State("disabledAndSelected", [new egret.gui.SetProperty("__8", "source", "radiobutton_select_disabled_png")])
                ]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.__8_i = function () {
                var a = new egret.gui.UIAsset;
                this.__8 = a;
                this.__s(a, ["fillMode", "height", "source", "verticalCenter", "width"], ["scale",
                    24, "radiobutton_unselect_normal_png", 1, 24
                ]);
                return a
            };
            a.__9_i = function () {
                var a = new egret.gui.Group;
                this.__s(a, ["percentHeight", "percentWidth"], [100, 100]);
                a.layout = this.__7_i();
                a.elementsContent = [this.__8_i(), this.labelDisplay_i()];
                return a
            };
            a.labelDisplay_i = function () {
                var a = new egret.gui.Label;
                this.labelDisplay = a;
                this.__s(a, "fontFamily maxDisplayedLines size textAlign textColor verticalAlign".split(" "), ["Tahoma", 1, 20, "center", 7368816, "middle"]);
                return a
            };
            a.__7_i = function () {
                var a = new egret.gui.HorizontalLayout;
                a.verticalAlign = "middle";
                return a
            };
            b._skinParts = ["labelDisplay"];
            return b
        }(egret.gui.Skin);
        e.RadioButtonSkin = g;
        g.prototype.__class__ = "skins.simple.RadioButtonSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["maxWidth", "minHeight", "minWidth"], [710, 230, 370]);
                this.elementsContent = [this.horizontalScrollBar_i(), this.verticalScrollBar_i()]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.horizontalScrollBar_i = function () {
                var a = new egret.gui.HScrollBar;
                this.horizontalScrollBar = a;
                a.skinName = e.simple.HScrollBarSkin;
                return a
            };
            a.verticalScrollBar_i = function () {
                var a = new egret.gui.VScrollBar;
                this.verticalScrollBar = a;
                a.skinName = e.simple.VScrollBarSkin;
                return a
            };
            b._skinParts = ["horizontalScrollBar", "verticalScrollBar"];
            return b
        }(egret.gui.Skin);
        f.ScrollerSkin = g;
        g.prototype.__class__ = "skins.simple.ScrollerSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["maxWidth", "minHeight", "minWidth"], [710, 230, 470]);
                this.elementsContent = [this.contentGroup_i()];
                this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.contentGroup_i = function () {
                var a = new egret.gui.Group;
                this.contentGroup =
                        a;
                this.__s(a, ["percentHeight", "percentWidth"], [100, 100]);
                return a
            };
            b._skinParts = ["contentGroup"];
            return b
        }(egret.gui.Skin);
        e.SkinnableContainerSkin = g;
        g.prototype.__class__ = "skins.simple.SkinnableContainerSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["minHeight", "minWidth"], [20, 60]);
                this.elementsContent = [this.dataGroup_i()];
                this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.dataGroup_i = function () {
                var a = new egret.gui.DataGroup;
                this.dataGroup = a;
                this.__s(a, ["percentHeight",
                    "itemRenderer", "itemRendererSkinName", "percentWidth"
                ], [100, new egret.gui.ClassFactory(egret.gui.TabBarButton), e.simple.TabBarButtonSkin, 100]);
                a.layout = this.__3_i();
                return a
            };
            a.__3_i = function () {
                var a = new egret.gui.HorizontalLayout;
                this.__s(a, ["gap", "horizontalAlign", "verticalAlign"], [-1, "justify", "contentJustify"]);
                return a
            };
            b._skinParts = ["dataGroup"];
            return b
        }(egret.gui.Skin);
        f.TabBarSkin = g;
        g.prototype.__class__ = "skins.simple.TabBarSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["minHeight", "minWidth"], [30, 100]);
                this.elementsContent = [this.__3_i(), this.textDisplay_i()];
                this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [new egret.gui.SetProperty("textDisplay", "textColor", 11184810)])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.__3_i = function () {
                var a =
                        new egret.gui.UIAsset;
                this.__s(a, ["percentHeight", "source", "percentWidth"], [100, "textbox_png", 100]);
                return a
            };
            a.textDisplay_i = function () {
                var a = new egret.gui.EditableText;
                this.textDisplay = a;
                this.__s(a, "bottom percentHeight left right size textColor top percentWidth".split(" "), [8, 100, 10, 10, 20, 0, 8, 100]);
                return a
            };
            b._skinParts = ["textDisplay"];
            return b
        }(egret.gui.Skin);
        e.TextAreaSkin = g;
        g.prototype.__class__ = "skins.simple.TextAreaSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["minHeight", "minWidth"], [30, 100]);
                this.elementsContent = [this.__5_i(), this.textDisplay_i()];
                this.promptDisplay_i();
                this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [new egret.gui.SetProperty("textDisplay", "textColor", 11184810)]), new egret.gui.State("normalWithPrompt", [new egret.gui.AddItems("promptDisplay", "", "last", "")]), new egret.gui.State("disabledWithPrompt", [new egret.gui.AddItems("promptDisplay", "", "last", "")])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.promptDisplay_i = function () {
                var a = new egret.gui.Label;
                this.promptDisplay = a;
                this.__s(a, "left maxDisplayedLines size textColor touchChildren touchEnabled verticalCenter".split(" "), [10, 1, 20, 11119017, !1, !1, 0]);
                return a
            };
            a.__5_i = function () {
                var a = new egret.gui.UIAsset;
                this.__s(a, ["percentHeight", "source", "percentWidth"], [100, "textbox_png", 100]);
                return a
            };
            a.textDisplay_i = function () {
                var a = new egret.gui.EditableText;
                this.textDisplay = a;
                this.__s(a, "bottom percentHeight left right size textColor top percentWidth".split(" "), [8, 100, 10, 10, 20, 0, 8, 100]);
                return a
            };
            b._skinParts = ["textDisplay", "promptDisplay"];
            return b
        }(egret.gui.Skin);
        e.TextInputSkin = g;
        g.prototype.__class__ = "skins.simple.TextInputSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["maxWidth", "minHeight", "minWidth"], [710, 230, 470]);
                this.elementsContent = [this.__3_i(), this.moveArea_i(), this.contentGroup_i()];
                this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.__4_i = function () {
                var a = new egret.gui.UIAsset;
                this.__s(a, ["bottom", "left", "right", "source", "top"], [-4, -3, -3, "panel_headeback_png", -2]);
                return a
            };
            a.closeButton_i = function () {
                var a = new egret.gui.Button;
                this.closeButton = a;
                this.__s(a, ["right", "skinName", "verticalCenter"], [10, e.simple.CloseButtonSkin, 0]);
                return a
            };
            a.contentGroup_i = function () {
                var a = new egret.gui.Group;
                this.contentGroup = a;
                this.__s(a, ["bottom", "clipAndEnableScrolling", "top", "percentWidth"], [0, !0, 51, 100]);
                return a
            };
            a.moveArea_i = function () {
                var a = new egret.gui.Group;
                this.moveArea = a;
                this.__s(a, ["height", "left", "right"], [50, 0, 0]);
                a.elementsContent = [this.__4_i(), this.titleDisplay_i(), this.closeButton_i()];
                return a
            };
            a.__3_i = function () {
                var a = new egret.gui.UIAsset;
                this.__s(a, ["bottom", "left", "right", "source", "top"], [-10, -4, -10, "panel_back_png", -4]);
                return a
            };
            a.titleDisplay_i = function () {
                var a = new egret.gui.Label;
                this.titleDisplay = a;
                this.__s(a, "fontFamily left maxDisplayedLines minHeight right size textAlign textColor verticalAlign verticalCenter".split(" "), ["Tahoma", 5, 1, 28, 5, 26, "center", 7499888,
                    "middle", 0
                ]);
                return a
            };
            b._skinParts = ["titleDisplay", "closeButton", "moveArea", "contentGroup"];
            return b
        }(egret.gui.Skin);
        f.TitleWindowSkin = g;
        g.prototype.__class__ = "skins.simple.TitleWindowSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["height", "minWidth"], [60, 140]);
                this.elementsContent = [this.__7_i(), this.__9_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", [new egret.gui.SetProperty("__7", "source", "togglebutton_over_png"), new egret.gui.SetProperty("labelDisplay", "textColor", 1995877)]), new egret.gui.State("disabled", [new egret.gui.SetProperty("__7", "source", "togglebutton_disabled_png"), new egret.gui.SetProperty("labelDisplay",
                                "textColor", 13421772)]), new egret.gui.State("upAndSelected", [new egret.gui.SetProperty("__7", "source", "togglebutton_selected_png"), new egret.gui.SetProperty("labelDisplay", "textColor", 15658476)]), new egret.gui.State("downAndSelected", [new egret.gui.SetProperty("__7", "source", "togglebutton_over_png"), new egret.gui.SetProperty("labelDisplay", "textColor", 1995877)]), new egret.gui.State("disabledAndSelected", [new egret.gui.SetProperty("__7", "source", "togglebutton_disabled_png"), new egret.gui.SetProperty("labelDisplay",
                                "textColor", 13421772)])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.__8_i = function () {
                var a = new egret.gui.HorizontalLayout;
                this.__s(a, ["gap", "horizontalAlign", "verticalAlign"], [0, "center", "middle"]);
                return a
            };
            a.__9_i = function () {
                var a = new egret.gui.Group;
                this.__s(a, ["bottom", "left", "right", "top"], [10, 10, 10, 10]);
                a.layout = this.__8_i();
                a.elementsContent = [this.iconDisplay_i(), this.labelDisplay_i()];
                return a
            };
            a.iconDisplay_i = function () {
                var a = new egret.gui.UIAsset;
                return this.iconDisplay = a
            };
            a.labelDisplay_i = function () {
                var a = new egret.gui.Label;
                this.labelDisplay = a;
                this.__s(a, ["fontFamily", "size", "textAlign", "textColor", "verticalAlign"], ["Tahoma", 20, "center", 1995877, "middle"]);
                return a
            };
            a.__7_i = function () {
                var a = new egret.gui.UIAsset;
                this.__7 = a;
                this.__s(a, ["percentHeight", "source", "percentWidth"], [100, "togglebutton_normal_png", 100]);
                return a
            };
            b._skinParts = ["iconDisplay", "labelDisplay"];
            return b
        }(egret.gui.Skin);
        e.ToggleButtonSkin = g;
        g.prototype.__class__ = "skins.simple.ToggleButtonSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (e) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.elementsContent = [this.__7_i(), this.__8_i(), this.__9_i(), this.__10_i(), this.__11_i(), this.__12_i()];
                this.states = [new egret.gui.State("up", [new egret.gui.SetProperty("__7", "visible", !0), new egret.gui.SetProperty("__8", "visible", !0), new egret.gui.SetProperty("__9", "visible", !0)]), new egret.gui.State("down", [new egret.gui.SetProperty("__7", "visible", !0), new egret.gui.SetProperty("__8", "visible", !0), new egret.gui.SetProperty("__9", "visible", !0)]), new egret.gui.State("disabled", [new egret.gui.SetProperty("__7", "visible", !0), new egret.gui.SetProperty("__8", "visible", !0), new egret.gui.SetProperty("__9", "visible", !0)]), new egret.gui.State("upAndSelected", [new egret.gui.SetProperty("__10", "visible", !0), new egret.gui.SetProperty("__11", "visible", !0), new egret.gui.SetProperty("__12", "visible", !0)]), new egret.gui.State("downAndSelected", [new egret.gui.SetProperty("__10", "visible", !0), new egret.gui.SetProperty("__11",
                                "visible", !0), new egret.gui.SetProperty("__12", "visible", !0)]), new egret.gui.State("disabledAndSelected", [new egret.gui.SetProperty("__10", "visible", !0), new egret.gui.SetProperty("__11", "visible", !0), new egret.gui.SetProperty("__12", "visible", !0)])]
            }
            __extends(b, d);
            var a = b.prototype;
            a.__10_i = function () {
                var a = new egret.gui.UIAsset;
                this.__10 = a;
                this.__s(a, ["source", "visible"], ["onoffbutton_on_track_png", !1]);
                return a
            };
            a.__11_i = function () {
                var a = new egret.gui.UIAsset;
                this.__11 = a;
                this.__s(a, ["right", "source",
                    "verticalCenter", "visible"
                ], [1, "onoffbutton_on_thumb_png", 0, !1]);
                return a
            };
            a.__12_i = function () {
                var a = new egret.gui.UIAsset;
                this.__12 = a;
                this.__s(a, ["left", "source", "verticalCenter", "visible"], [15, "onoffbutton_on_label_png", 0, !1]);
                return a
            };
            a.__7_i = function () {
                var a = new egret.gui.UIAsset;
                this.__7 = a;
                this.__s(a, ["source", "visible"], ["onoffbutton_off_track_png", !1]);
                return a
            };
            a.__8_i = function () {
                var a = new egret.gui.UIAsset;
                this.__8 = a;
                this.__s(a, ["left", "source", "verticalCenter", "visible"], [1, "onoffbutton_off_thumb_png",
                    0, !1
                ]);
                return a
            };
            a.__9_i = function () {
                var a = new egret.gui.UIAsset;
                this.__9 = a;
                this.__s(a, ["right", "source", "verticalCenter", "visible"], [15, "onoffbutton_off_label_png", 0, !1]);
                return a
            };
            return b
        }(egret.gui.Skin);
        e.ToggleSwitchSkin = g;
        g.prototype.__class__ = "skins.simple.ToggleSwitchSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.elementsContent = [this.__4_i()];
                this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.__4_i = function () {
                var a = new egret.gui.Scroller;
                this.__s(a, ["percentHeight", "percentWidth"], [100, 100]);
                a.viewport = this.dataGroup_i();
                return a
            };
            a.dataGroup_i = function () {
                var a = new egret.gui.DataGroup;
                this.dataGroup = a;
                a.itemRendererSkinName = e.simple.TreeItemRendererSkin;
                a.layout = this.__3_i();
                return a
            };
            a.__3_i = function () {
                var a = new egret.gui.VerticalLayout;
                this.__s(a, ["gap", "horizontalAlign"], [2, "justify"]);
                return a
            };
            b._skinParts = ["dataGroup"];
            return b
        }(egret.gui.Skin);
        f.TreeSkin = g;
        g.prototype.__class__ = "skins.simple.TreeSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));
(function (e) {
    (function (f) {
        var g = function (d) {
            function b() {
                d.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["minHeight", "minWidth"], [13, 13]);
                this.elementsContent = [this.track_i(), this.trackHighlight_i(), this.thumb_i()];
                this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
            }
            __extends(b, d);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                },
                enumerable: !0,
                configurable: !0
            });
            a.thumb_i = function () {
                var a = new egret.gui.Button;
                this.thumb =
                        a;
                this.__s(a, ["height", "horizontalCenter", "skinName", "width"], [24, 0, e.simple.VSliderThumbSkin, 24]);
                return a
            };
            a.trackHighlight_i = function () {
                var a = new egret.gui.UIAsset;
                this.trackHighlight = a;
                this.__s(a, ["horizontalCenter", "source", "width"], [0, "vslider_fill_png", 10]);
                return a
            };
            a.track_i = function () {
                var a = new egret.gui.UIAsset;
                this.track = a;
                this.__s(a, ["percentHeight", "horizontalCenter", "source", "width"], [100, 0, "vslider_track_png", 10]);
                return a
            };
            b._skinParts = ["track", "trackHighlight", "thumb"];
            return b
        }(egret.gui.Skin);
        f.VSliderSkin = g;
        g.prototype.__class__ = "skins.simple.VSliderSkin"
    })(e.simple || (e.simple = {}))
})(skins || (skins = {}));